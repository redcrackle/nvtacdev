const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SettingsChart-1.0.43-CEVx_m8D.js","./cm-1.0.43-BIThoEwM.js","./redux-1.0.43-X9ShETON.js","./vendor-1.0.43-CN03Eozo.js","./index-1.0.43-Br_nYvvF.js","./iconBase-1.0.43-BkINToSh.js","./Typography-1.0.43-CjHjtdZs.js","./lib-1.0.43-GM4CAPbj.js","./loglevel-1.0.43-BZ7XahX3.js","./lodash-1.0.43-BGoSrRk7.js","./moment-1.0.43-C5S46NFB.js","./useEnhancedEffect-1.0.43-DcXwKdLb.js","./notistack-1.0.43-CFZ1B9cW.js","./DefaultChartColors-1.0.43-CyAz9FvT.js","./hooks-1.0.43-Bzf6s8gj.js","./FormHelperText-1.0.43-BbvxPfFT.js","./utils-1.0.43-iop7lDec.js","./useFormControl-1.0.43-D7bmEJOO.js","./ToggleButtonGroup-1.0.43-y6Kkgg0C.js","./FormLabel-1.0.43-DuYrsDLO.js","./RadioGroup-1.0.43-USnV9oxc.js","./Radio-1.0.43-GAuAP3gY.js","./SwitchBase-1.0.43-jxlYBoq8.js","./useControlled-1.0.43-DObA-A1B.js","./createSvgIcon-1.0.43-C8_lU5Lv.js","./Slider-1.0.43-DwDICOHK.js","./ThemeProvider-1.0.43-BdkGbeAu.js","./visuallyHidden-1.0.43-Dan1xhjv.js","./Menu-1.0.43-TbmZ3Ge2.js","./Spinner-1.0.43-YmZqinVQ.js","./Divider-1.0.43-BNePHRrN.js","./MenuItem-1.0.43-Uicrp-o6.js","./TextField-1.0.43-DsZQBbKY.js","./Select-1.0.43-CISjJoqC.js","./InputAdornment-1.0.43-9P5bF1dN.js","./AccordionSummary-1.0.43-CNpHbZtu.js","./Collapse-1.0.43-CtSvLI94.js","./AccordionDetails-1.0.43-C8u8mZhB.js","./PremiumFeature-1.0.43-BD8gtQwD.js","./index-1.0.43-CvTha0tS.js","./AdminTheme-1.0.43-CqjS-p3h.js","./FormControlLabel-1.0.43-DhLqIzQC.js","./Switch-1.0.43-DUXi6nEm.js","./CssUnitTextField-1.0.43-9DAGquvf.js","./ConfirmDialog-1.0.43-HyVPTU5U.js","./ChartTypes-1.0.43-BiOBEYwy.js","./Autocomplete-1.0.43-C-3GGJwT.js","./Close-1.0.43-DZEA4jNx.js","./Popper-1.0.43-8Yb3KIgh.js","./Chip-1.0.43-Ci13k7gB.js"])))=>i.map(i=>d[i]);
import{_ as F}from"./main-1.0.43.js";import{j as t}from"./cm-1.0.43-BIThoEwM.js";import{r as k}from"./redux-1.0.43-X9ShETON.js";import{l as c,a5 as A,a6 as P,a7 as w,a2 as v,cc as D}from"./lib-1.0.43-GM4CAPbj.js";import{u as N}from"./useStoreTable-1.0.43-L56KWd1n.js";import{a as B}from"./hooks-1.0.43-Bzf6s8gj.js";import{u as O}from"./useTableUpdater-1.0.43-C8DXp04q.js";import{T as W}from"./TableChartSelection-1.0.43-8IQdD-aH.js";import{u as G}from"./useMetadata-1.0.43-5v27HTeK.js";import{a as _}from"./useChartSettings-1.0.43-CyXaF5Yk.js";import{c as H,d as J,e as L}from"./settings-1.0.43-kDKJ-WYT.js";import{P as M}from"./PremiumFeature-1.0.43-BD8gtQwD.js";import{A as R,a as U}from"./AccordionSummary-1.0.43-CNpHbZtu.js";import{A as q}from"./AccordionDetails-1.0.43-C8u8mZhB.js";import{F as g,a as j}from"./FormHelperText-1.0.43-BbvxPfFT.js";import{F as T}from"./FormControlLabel-1.0.43-DhLqIzQC.js";import{S as y}from"./Switch-1.0.43-DUXi6nEm.js";import{B as b,S as z}from"./Spinner-1.0.43-YmZqinVQ.js";import{T as V,a as C}from"./ToggleButtonGroup-1.0.43-y6Kkgg0C.js";import"./vendor-1.0.43-CN03Eozo.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./moment-1.0.43-C5S46NFB.js";import"./index-1.0.43-CvTha0tS.js";import"./iconBase-1.0.43-BkINToSh.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./useTableColumnOrder-1.0.43-5WBDSDKj.js";import"./lang-1.0.43-B1WmIuB6.js";import"./useRemoveAppFromStore-1.0.43-BZ2w6e3F.js";import"./TextField-1.0.43-DsZQBbKY.js";import"./Select-1.0.43-CISjJoqC.js";import"./Menu-1.0.43-TbmZ3Ge2.js";import"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./index-1.0.43-Br_nYvvF.js";import"./notistack-1.0.43-CFZ1B9cW.js";import"./utils-1.0.43-iop7lDec.js";import"./useControlled-1.0.43-DObA-A1B.js";import"./useFormControl-1.0.43-D7bmEJOO.js";import"./createSvgIcon-1.0.43-C8_lU5Lv.js";import"./FormLabel-1.0.43-DuYrsDLO.js";import"./MenuItem-1.0.43-Uicrp-o6.js";import"./Tooltip-1.0.43-Dw3sfo8K.js";import"./Popper-1.0.43-8Yb3KIgh.js";import"./Autocomplete-1.0.43-C-3GGJwT.js";import"./Close-1.0.43-DZEA4jNx.js";import"./Chip-1.0.43-Ci13k7gB.js";import"./ConfirmDialog-1.0.43-HyVPTU5U.js";import"./AdminTheme-1.0.43-CqjS-p3h.js";import"./Collapse-1.0.43-CtSvLI94.js";import"./SwitchBase-1.0.43-jxlYBoq8.js";const K=({appId:e,tableStore:d,updateTableSettings:p,setUpdateStatus:o})=>{var u;const h=B(),i=G(e),f=_(e),s=d.table;return t.jsxs(R,{disableGutters:!0,children:[t.jsx(U,{children:"Enable Chart Integration"}),t.jsxs(q,{children:[t.jsxs(g,{fullWidth:!0,sx:{marginBottom:0},children:[t.jsx(T,{control:t.jsx(y,{checked:s.charts.enabled,onChange:m=>{var l,a,x;const r={...s.charts};if(r.enabled=!s.charts.enabled,p("charts",r),f===void 0){let n={};if(((x=(a=(l=i==null?void 0:i.app)==null?void 0:l.container)==null?void 0:a[0])==null?void 0:x.cnt_chart)!==void 0){try{n=JSON.parse(i.app.container[0].cnt_chart)}catch(E){c.error("Invalid JSON - chart settings"),c.error(E)}n===!1&&(n={}),c.debug(n)}const S=A({},P,n);c.debug(S),h(w({appId:e,chartState:S}))}m.stopPropagation()}}),label:"Enable"}),t.jsx(j,{component:"div",children:"Turn on this feature to enable interactive chart creation by users or add a predefined chart to the table header or footer."})]}),((u=s==null?void 0:s.charts)==null?void 0:u.enabled)===!0&&f!==void 0&&t.jsxs(b,{sx:{display:"grid",gap:"20px",marginTop:"30px"},children:[t.jsxs("fieldset",{className:"pp-fieldset",children:[t.jsx("legend",{children:"Chart Configuration"}),t.jsxs(b,{children:[t.jsx(b,{sx:{display:"grid",gap:"20px"},children:t.jsx(W,{appId:e,metaData:i,tableStore:d,setUpdateStatus:o})}),t.jsx(g,{children:t.jsx(j,{children:"Major and minor axes can be left empty for interactive configurations."})}),t.jsxs(b,{sx:{marginTop:"20px"},children:[t.jsxs(V,{color:"primary",exclusive:!0,fullWidth:!0,value:"undocked",disabled:!0,onChange:(m,r)=>{h(v({appId:e,property:{docked:r}})),o(!0),m.stopPropagation()},children:[t.jsxs(C,{value:"top",disabled:d.state.masterDetailConditions!==void 0,children:[t.jsx(H,{})," Header"]}),t.jsxs(C,{value:"bottom",disabled:d.state.masterDetailConditions!==void 0,children:[t.jsx(J,{})," Footer"]}),t.jsxs(C,{value:"undocked",children:[t.jsx(L,{})," Undocked"]})]}),t.jsx(g,{children:t.jsx(j,{children:"Choose where the chart should be positioned: header, footer, or undocked. Charts for detail tables cannot be docked."})})]}),t.jsxs(g,{fullWidth:!0,sx:{marginTop:"20px",marginBottom:"10px"},children:[t.jsx(T,{control:t.jsx(y,{checked:!0,disabled:!0,onChange:(m,r)=>{}}),label:"Allow interactive configuration"}),t.jsx(j,{children:"Enables users to dynamically modify the chart configuration."})]})]})]}),t.jsx(M,{title:"Some chart configuration features require a premium license.",margin:"0"})]})]})]})},Q=k.lazy(()=>F(()=>import("./SettingsChart-1.0.43-CEVx_m8D.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]),import.meta.url)),Vt=({appId:e})=>{var u,m;c.debug(e);const d=B(),p=O(e),o=N(e),h=_(e),i=(r,l,a)=>{const[x,...n]=l.split(".");return{...r,[x]:n.length?i(r[x],n.join("."),a):a}},f=(r,l)=>{c.debug(r,l);const a=i(o==null?void 0:o.table,r,l);c.debug(a),d(D({appId:e,tableSettings:a})),p(!0)},s=r=>{c.debug(r),d(v({appId:e,property:r})),p(!0)};return t.jsxs(t.Fragment,{children:[t.jsx(K,{appId:e,tableStore:o,updateTableSettings:f,setUpdateStatus:p}),((m=(u=o==null?void 0:o.table)==null?void 0:u.charts)==null?void 0:m.enabled)===!0&&h!==void 0&&t.jsx(k.Suspense,{fallback:t.jsx(z,{}),children:t.jsx(Q,{appId:e,chartSettings:h,updateSettings:s})})]})};export{Vt as default};
