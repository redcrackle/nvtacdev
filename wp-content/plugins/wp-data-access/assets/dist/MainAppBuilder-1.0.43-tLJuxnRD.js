const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SettingsApp-1.0.43-BMbCXlf5.js","./cm-1.0.43-BIThoEwM.js","./redux-1.0.43-X9ShETON.js","./vendor-1.0.43-CN03Eozo.js","./index-1.0.43-Br_nYvvF.js","./iconBase-1.0.43-BkINToSh.js","./Typography-1.0.43-CjHjtdZs.js","./lib-1.0.43-GM4CAPbj.js","./loglevel-1.0.43-BZ7XahX3.js","./lodash-1.0.43-BGoSrRk7.js","./moment-1.0.43-C5S46NFB.js","./useEnhancedEffect-1.0.43-DcXwKdLb.js","./notistack-1.0.43-CFZ1B9cW.js","./TargetEnum-1.0.43-CIW1jlU5.js","./ConfirmDialog-1.0.43-HyVPTU5U.js","./AdminTheme-1.0.43-CqjS-p3h.js","./ActionsSettings-1.0.43-DMMuBz79.js","./RestApi-1.0.43-DDknciaN.js","./AccordionSummary-1.0.43-CNpHbZtu.js","./useControlled-1.0.43-DObA-A1B.js","./Collapse-1.0.43-CtSvLI94.js","./AccordionDetails-1.0.43-C8u8mZhB.js","./FormHelperText-1.0.43-BbvxPfFT.js","./utils-1.0.43-iop7lDec.js","./useFormControl-1.0.43-D7bmEJOO.js","./hooks-1.0.43-Bzf6s8gj.js","./PremiumFeature-1.0.43-BD8gtQwD.js","./index-1.0.43-CvTha0tS.js","./FormLabel-1.0.43-DuYrsDLO.js","./FormControlLabel-1.0.43-DhLqIzQC.js","./Switch-1.0.43-DUXi6nEm.js","./SwitchBase-1.0.43-jxlYBoq8.js","./TextField-1.0.43-DsZQBbKY.js","./Select-1.0.43-CISjJoqC.js","./Menu-1.0.43-TbmZ3Ge2.js","./ThemeProvider-1.0.43-BdkGbeAu.js","./createSvgIcon-1.0.43-C8_lU5Lv.js","./Spinner-1.0.43-YmZqinVQ.js","./MenuItem-1.0.43-Uicrp-o6.js","./main-1.0.43.js","./Tooltip-1.0.43-dEMLW8-v.js","./Tooltip-1.0.43--D4jr2go.css","./settings-1.0.43-kDKJ-WYT.js","./settings-1.0.43-Bx2jvYL6.css","./index-1.0.43-Lwi8RVeB.js","./useApp-1.0.43-trge1ckI.js","./ActionsApp-1.0.43-BtCNZ6dp.js","./CardContent-1.0.43-B1eq8QmP.js","./TabPanel-1.0.43-BFjnBi0G.js","./useThemeProps-1.0.43-C5lTKcwO.js","./getThemeProps-1.0.43-5uxEwZ_e.js","./FileSaver.min-1.0.43-DXynXHP3.js","./index-1.0.43-Crrt7rhH.js","./ctc-1.0.43-C-ZXureb.js","./index-1.0.43-C6_8mZyP.js","./Tooltip-1.0.43-Dw3sfo8K.js","./Popper-1.0.43-8Yb3KIgh.js","./Link-1.0.43-CsQWhuI0.js","./Checkbox-1.0.43-C_H-ygma.js","./DynamicModeEnum-1.0.43-BXuL5kgA.js","./ComponentColumn-1.0.43-D990A9j6.js","./ActionsExplorer-1.0.43-BvdT5anO.js","./Autocomplete-1.0.43-C-3GGJwT.js","./Close-1.0.43-DZEA4jNx.js","./Chip-1.0.43-Ci13k7gB.js","./MapsApiKey-1.0.43-kgtkXZS9.js","./RadioGroup-1.0.43-USnV9oxc.js","./Radio-1.0.43-GAuAP3gY.js","./lang-1.0.43-B1WmIuB6.js","./index-1.0.43-DuBV8iHb.js","./index-1.0.43-DTrIm2Pv.js","./SanitizeComponent-1.0.43-DS8pdFaO.js","./dompurify-1.0.43-DhD2mIk-.js","./Divider-1.0.43-BNePHRrN.js","./InputAdornment-1.0.43-9P5bF1dN.js","./Stepper-1.0.43-D51mbVNg.js","./ListItemIcon-1.0.43-BCRBmmI9.js","./ListItemText-1.0.43-68MGGGuF.js","./TableRow-1.0.43-PHyz2C67.js","./CardHeader-1.0.43-Cj6GRAA3.js","./AppContainerSelector-1.0.43-azpPHtXJ.js","./FallbackSpinner-1.0.43-SRqLbyxS.js","./useLoadAppMetaData-1.0.43-CKfh6BSz.js","./StoreTypeEnum-1.0.43-DJ3XTTGQ.js","./MapPrepare-1.0.43-CGo0KOqr.js","./useMetadata-1.0.43-5v27HTeK.js","./index-1.0.43-CEsXajp3.js","./main-1.0.43-LBsY5zsP.css","./SettingApps-1.0.43-BZoO7WLF.js","./SettingsData-1.0.43-C1EN9ouc.js","./SettingsAuthorization-1.0.43-BBwYD1mP.js","./ResizableDrawer-1.0.43-D8-qENhC.js","./useScreenSize-1.0.43-BkaemLwA.js","./CodeField-1.0.43-BUmVyqpR.js"])))=>i.map(i=>d[i]);
import{j as e}from"./cm-1.0.43-BIThoEwM.js";import{r as x}from"./redux-1.0.43-X9ShETON.js";import{l as i,b as Mt,A as g,c as Xe,s as _t,u as pt,a as D,d as ge,e as et,f as ot,h as Lt,S as Nt,i as tt,j as st,R as X,k as kt,m as rt,n as F,C as Te,o as lt,p as Pt,q as Et,r as Ot,t as zt,v as dt,w as Bt,x as Z,y as Ft,z as Se,B as Qt}from"./lib-1.0.43-GM4CAPbj.js";import{A as ne,a as qt}from"./AdminTheme-1.0.43-CqjS-p3h.js";import{u as Q,a as V}from"./hooks-1.0.43-Bzf6s8gj.js";import{_ as le}from"./main-1.0.43.js";import{T as ve}from"./Tooltip-1.0.43-dEMLW8-v.js";import{B as Ht,a as Vt,b as Gt}from"./settings-1.0.43-kDKJ-WYT.js";import{A as ct,T as ut,M as De,a as xt,b as mt,c as ht,d as gt,e as Wt,f as Ut,g as Yt,h as $t,i as Re,j as Jt,k as Kt,l as Me,m as Zt,n as ft,o as Xt,p as jt,q as es,r as ts,s as ss,t as rs,u as as,v as is,w as ns}from"./index-1.0.43-Br_nYvvF.js";import{a as ps,b as os,c as ls,d as ds,e as cs}from"./index-1.0.43-Lwi8RVeB.js";import{e as c}from"./notistack-1.0.43-CFZ1B9cW.js";import{u as Ce}from"./useApp-1.0.43-trge1ckI.js";import{a as us,b as xs,c as ms,d as hs,e as gs,f as fs,g as js,h as bs,i as ys,j as As}from"./ActionsApp-1.0.43-BtCNZ6dp.js";import{B as Y,C as oe,D as Ts,P as Cs,a as Ss,b as vs,c as ws,d as Is}from"./ConfirmDialog-1.0.43-HyVPTU5U.js";import{B as p,S as ie}from"./Spinner-1.0.43-YmZqinVQ.js";import{T as at}from"./Typography-1.0.43-CjHjtdZs.js";import{I as z,P as Ds}from"./iconBase-1.0.43-BkINToSh.js";import{C as fe,a as je}from"./CardContent-1.0.43-B1eq8QmP.js";import{T as Rs,a as we}from"./TabPanel-1.0.43-BFjnBi0G.js";import{F as bt,a as yt}from"./index-1.0.43-CvTha0tS.js";import{F as Ms}from"./FileSaver.min-1.0.43-DXynXHP3.js";import{C as _s}from"./index-1.0.43-Crrt7rhH.js";import{u as be}from"./index-1.0.43-C6_8mZyP.js";import{T as E}from"./Tooltip-1.0.43-Dw3sfo8K.js";import{L as ee}from"./Link-1.0.43-CsQWhuI0.js";import{M as Ls,P as Ns}from"./Menu-1.0.43-TbmZ3Ge2.js";import{M as pe}from"./MenuItem-1.0.43-Uicrp-o6.js";import{F as $,a as ce}from"./FormHelperText-1.0.43-BbvxPfFT.js";import{F as At}from"./FormControlLabel-1.0.43-DhLqIzQC.js";import{C as ks}from"./Checkbox-1.0.43-C_H-ygma.js";import{D as B}from"./DynamicModeEnum-1.0.43-BXuL5kgA.js";import{C as Ps,a as Es,b as Os}from"./ComponentColumn-1.0.43-D990A9j6.js";import{C as zs,M as Bs}from"./MapsApiKey-1.0.43-kgtkXZS9.js";import{R as Fs}from"./RadioGroup-1.0.43-USnV9oxc.js";import{F as Ie}from"./FormLabel-1.0.43-DuYrsDLO.js";import{R as it}from"./Radio-1.0.43-GAuAP3gY.js";import{A as ye}from"./Autocomplete-1.0.43-C-3GGJwT.js";import{C as Ae}from"./Chip-1.0.43-Ci13k7gB.js";import{T as W,I as Tt}from"./TextField-1.0.43-DsZQBbKY.js";import{S as Qs}from"./Switch-1.0.43-DUXi6nEm.js";import{l as qs}from"./lang-1.0.43-B1WmIuB6.js";import{P as Hs}from"./PremiumFeature-1.0.43-BD8gtQwD.js";import{S as Ct}from"./Select-1.0.43-CISjJoqC.js";import{P as Vs,b as Gs,a as Ws}from"./index-1.0.43-DuBV8iHb.js";import{S as Us}from"./SanitizeComponent-1.0.43-DS8pdFaO.js";import{D as Ys}from"./Divider-1.0.43-BNePHRrN.js";import{I as St}from"./InputAdornment-1.0.43-9P5bF1dN.js";import{R as $s}from"./RestApi-1.0.43-DDknciaN.js";import{S as Js,a as Ks,b as Zs}from"./Stepper-1.0.43-D51mbVNg.js";import{L as Xs}from"./ListItemIcon-1.0.43-BCRBmmI9.js";import{L as er}from"./ListItemText-1.0.43-68MGGGuF.js";import{T as tr,a as sr,b as ae,c as N}from"./TableRow-1.0.43-PHyz2C67.js";import{C as vt}from"./CardHeader-1.0.43-Cj6GRAA3.js";import{A as rr}from"./AppContainerSelector-1.0.43-azpPHtXJ.js";import{T as ar}from"./index-1.0.43-CEsXajp3.js";/* empty css                    */import{T as ir}from"./ThemeProvider-1.0.43-BdkGbeAu.js";const nr=()=>{const t=Q(r=>r.apps.appApps);return i.debug("appApps",t),t},pr=x.lazy(()=>le(()=>import("./SettingsApp-1.0.43-BMbCXlf5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87]),import.meta.url)),or=x.lazy(()=>le(()=>import("./SettingApps-1.0.43-BZoO7WLF.js"),__vite__mapDeps([88,1,2,3,18,6,7,8,9,10,5,11,19,20,4,12,15,25,39,40,41,42,37,14,34,35,38,43,44,45,46,17,47,48,49,50,27,51,52,53,54,55,56,57,22,23,24,29,58,31,36,59,60,61,62,33,63,64,32,28,65,66,67,30,68,26,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87]),import.meta.url)),lr=x.lazy(()=>le(()=>import("./SettingsData-1.0.43-C1EN9ouc.js"),__vite__mapDeps([89,1,2,3,60,7,8,9,10,25,12,61,17,22,6,23,24,62,33,34,35,11,4,5,19,36,63,56,64,32,28,15,46,37,29,58,31,55,57,26,27,45,18,20,21,66,67,38,65,39,40,41,42,14,43,44,47,48,49,50,51,52,53,54,59,30,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87]),import.meta.url)),dr=x.lazy(()=>le(()=>import("./SettingsAuthorization-1.0.43-BBwYD1mP.js"),__vite__mapDeps([90,1,2,3,25,7,8,9,10,4,5,6,11,12,37,29,24,30,31,19,22,23,57,32,33,34,35,36,28,52,53,55,56,65,38,18,20,21,15,39,40,41,42,14,43,44,45,46,17,47,48,49,50,27,51,54,58,59,60,61,62,63,64,66,67,68,26,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87]),import.meta.url)),cr=x.lazy(()=>le(()=>import("./ResizableDrawer-1.0.43-D8-qENhC.js"),__vite__mapDeps([91,1,2,3,92,7,8,9,10,25,6,35,11,5,4,12,34]),import.meta.url)),ur=({appDbId:t})=>{var q,H;i.debug(t);const r=V(),s=Ce(),l=((q=ne)==null?void 0:q.palette.mode)===Mt.LIGHT?(H=ne)==null?void 0:H.palette.primary.main:"",[f,d]=x.useState(!1);i.debug(f);const[h,u]=x.useState(!1);i.debug(h);const T=()=>{r(pt())},n=()=>{f?u(!0):T()},o=()=>{if(!s.appName)return c("App name is required",{variant:"error"}),!1;if(!s.appTitle)return c("App title is required",{variant:"error"}),!1;if(s.appType==g.APPCONTAINER)s.appApps.length===0&&c("No apps added",{variant:"info"});else{if(!s.appDatabase)return c("Database is required",{variant:"error"}),!1;if(s.appType==g.CHART){if(!s.appQuery)return c("SQL query is required",{variant:"error"}),!1}else{if(!s.appTable)return c("Table is required",{variant:"error"}),!1;if(s.appColumns.filter(C=>C.isSelected).length===0)return c("At least one column must be selected",{variant:"error"}),!1}if(s.appType==g.MAP){if(s.appMap.columnLatitude==="")return c("Latitude column is required for maps",{variant:"error"}),!1;if(s.appMap.columnLongitude==="")return c("Longitude column is required for maps",{variant:"error"}),!1}}return!0},b=()=>{o()&&us(s,C=>{if(i.debug(C),C!=null&&C.code&&(C==null?void 0:C.message)!==void 0)switch(C.code){case"ok":c(C.message,{variant:"success"}),r(ge());break;case"info":c(C.message,{variant:"info"});break;default:i.error(C),c(C.message??D.contactSupport,{variant:"error"})}else i.error(C),c(D.contactSupport,{variant:"error"})},C=>{i.error("error",C),c(C??D.contactSupport,{variant:"error"})})},w=()=>{o()&&(b(),T())},_=C=>{r(_t({anchor:C}))},[R,y]=x.useState(0),v=x.useMemo(()=>[{title:"App Info",icon:e.jsx(ps,{})},{title:s.appType==g.APPCONTAINER?"Apps":"Data Source",icon:s.appType==g.APPCONTAINER?e.jsx(os,{}):e.jsx(ls,{})},{title:"Access",icon:e.jsx(ds,{})}],[]);return e.jsxs(e.Fragment,{children:[e.jsx(x.Suspense,{fallback:e.jsx(ie,{}),children:e.jsxs(cr,{closeDrawer:n,children:[e.jsxs(ct,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(ut,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsxs(p,{sx:{flexGrow:1},children:[e.jsx(at,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{paddingLeft:"6px"},children:"Manage App"}),e.jsx(at,{sx:{fontSize:"10px",paddingLeft:"10px"},children:s.appName})]}),e.jsx(ve,{title:"Dock to left",position:"bottom",children:e.jsx(z,{onClick:()=>{_(Xe.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(Ht,{})})}),e.jsx(ve,{title:"Dock to right",position:"bottom",children:e.jsx(z,{onClick:()=>{_(Xe.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(Vt,{})})}),e.jsx(ve,{title:"Close",position:"bottom",children:e.jsx(z,{onClick:n,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(De,{})})})]}),e.jsx(Gt,{menuItems:v,menuIndex:R,setMenu:y})]}),e.jsx(fe,{className:"pp-settings-container",children:e.jsx(je,{sx:{padding:0,margin:0},children:e.jsx(Rs,{value:R,children:e.jsxs(p,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(we,{value:0,children:e.jsx(x.Suspense,{fallback:e.jsx(ie,{}),children:e.jsx(pr,{app:s,setIsUpdated:d})})}),e.jsx(we,{value:1,children:s.appType==g.APPCONTAINER?e.jsx(x.Suspense,{fallback:e.jsx(ie,{}),children:e.jsx(or,{app:s,setIsUpdated:d})}):e.jsx(x.Suspense,{fallback:e.jsx(ie,{}),children:e.jsx(lr,{app:s,setIsUpdated:d})})}),e.jsx(we,{value:2,children:e.jsx(x.Suspense,{fallback:e.jsx(ie,{}),children:e.jsx(dr,{app:s,setIsUpdated:d})})})]})})})}),e.jsx(fe,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:l},children:e.jsxs(je,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(Y,{variant:"outlined",className:"footer_action_button_apply",onClick:b,children:"Apply"}),e.jsx(Y,{variant:"outlined",className:"footer_action_button",onClick:w,children:"OK"}),e.jsx(Y,{variant:"outlined",className:"footer_action_button",onClick:n,children:"Cancel"})]})})]})}),e.jsx(oe,{title:"Close App Manager?",message:"All uncommitted changes will be lost!",open:h,setOpen:u,onConfirm:()=>{T()},onKeep:()=>{T()}})]})},xr=()=>{const t=Q(r=>r.apps.showAppStructure);return i.debug("showAppStructure",t),t},wt=({appType:t})=>t==g.APPCONTAINER?e.jsx(p,{sx:{fontSize:"26px",display:"flex",width:"28px",justifyContent:"center",alignContent:"center",marginRight:"5px"},children:e.jsx(xt,{})}):t==g.DATAENTRY?e.jsx(p,{sx:{fontSize:"22px",display:"flex",width:"28px",justifyContent:"center",alignContent:"center",marginRight:"5px"},children:e.jsx(mt,{})}):t==g.CHART?e.jsx(p,{sx:{fontSize:"22px",display:"flex",width:"28px",justifyContent:"center",alignContent:"center",marginRight:"5px"},children:e.jsx(ht,{})}):t==g.REGISTRATION?e.jsx(p,{sx:{fontSize:"22px",display:"flex",width:"28px",justifyContent:"center",alignContent:"center",marginRight:"5px"},children:e.jsx(bt,{})}):t==g.MAP?e.jsx(p,{sx:{fontSize:"22px",display:"flex",width:"28px",justifyContent:"center",alignContent:"center",marginRight:"5px"},children:e.jsx(gt,{})}):e.jsx(p,{sx:{fontSize:"20px",display:"flex",width:"28px",justifyContent:"center",alignContent:"center",marginRight:"5px"},children:e.jsx(yt,{})}),nt=({app:t,density:r})=>{var K,G,ue,xe;i.debug(t);const s=V(),[l,f]=x.useState(!1),[d,h]=x.useState(!1),[u,T]=x.useState(!1),[n,o]=x.useState(!1),b=a=>{let A={};try{A=JSON.parse(a.app_settings)}catch(M){A.rest_api={authorization:X.AUTHORIZED,authorized_roles:[],authorized_users:[]},i.error("Invalid JSON - app settings"),i.error(M),c("Invalid JSON, check console",{variant:"error"})}return A},w=a=>{xs(a,A=>{var te,j,S,O,U,se,L,me,re,he,_e,Le,Ne,ke,Pe,Ee,Oe,ze,Be,Fe,Qe,qe,He,Ve,Ge,We,Ue,Ye,$e,Je,Ke,Ze;const M=A==null?void 0:A.data;if(i.debug("response data",M),M.app&&M.app.app&&Array.isArray(M.app.app)&&M.app.container&&Array.isArray(M.app.container)&&M.app.apps&&Array.isArray(M.app.apps)){const P=M.app.app[0];if(i.debug(P),P.app_type==g.APPCONTAINER){const I=b(P),de=M.app.apps;i.debug(de,I),s(tt({appDbId:a,appId:st(a),appName:P.app_name,appTitle:P.app_title,appType:P.app_type,appCntId:0,appCntSeqNr:0,appDatabase:null,appTable:null,appColumns:[],appQuery:"",appRelationTable:null,appRelationColumns:[],appRestApi:I==null?void 0:I.rest_api,appAddToMenu:P.app_add_to_menu!=="0",appMenuTitle:((te=I==null?void 0:I.settings)==null?void 0:te.app_menu_title)??P.app_title,appMetaData:M,appLanguage:(j=I==null?void 0:I.settings)==null?void 0:j.app_language,fullScreen:((S=I==null?void 0:I.settings)==null?void 0:S.app_fullscreen)??!0,safeMode:((O=I==null?void 0:I.settings)==null?void 0:O.app_safe_mode)??!1,appApps:de}))}else{const I=M.app.container[0];i.debug(I);let de=[];try{de=JSON.parse(I.cnt_cls)}catch(Rt){i.error("Invalid JSON - app columns"),i.error(Rt),c("Invalid JSON, check console",{variant:"error"})}const m=b(P);s(tt({appDbId:a,appId:st(a),appName:P.app_name,appTitle:P.app_title,appType:P.app_type,appCntId:I.cnt_id,appCntSeqNr:I.cnt_seq_nr,appDatabase:I.cnt_dbs,appTable:I.cnt_tbl,appColumns:de,appQuery:I.cnt_query??"",appRelationTable:null,appRelationColumns:[],appRestApi:m==null?void 0:m.rest_api,appAddToMenu:P.app_add_to_menu!=="0",appMenuTitle:((U=m==null?void 0:m.settings)==null?void 0:U.app_menu_title)??P.app_title,appMetaData:M,appLanguage:(se=m==null?void 0:m.settings)==null?void 0:se.app_language,fullScreen:((L=m==null?void 0:m.settings)==null?void 0:L.app_fullscreen)??!0,safeMode:((me=m==null?void 0:m.settings)==null?void 0:me.app_safe_mode)??!1,registrationMessage:((he=(re=m==null?void 0:m.settings)==null?void 0:re.app_registration)==null?void 0:he.message)??void 0,registrationShowMessage:((Le=(_e=m==null?void 0:m.settings)==null?void 0:_e.app_registration)==null?void 0:Le.showMessage)??!1,registrationUrl:((ke=(Ne=m==null?void 0:m.settings)==null?void 0:Ne.app_registration)==null?void 0:ke.url)??"",registrationShowUrl:((Ee=(Pe=m==null?void 0:m.settings)==null?void 0:Pe.app_registration)==null?void 0:Ee.showUrl)??!1,registrationUrlTime:((ze=(Oe=m==null?void 0:m.settings)==null?void 0:Oe.app_registration)==null?void 0:ze.urlTime)??3,registrationAllowUpdates:((Fe=(Be=m==null?void 0:m.settings)==null?void 0:Be.app_registration)==null?void 0:Fe.allowUpdates)??!0,cacheData:((qe=(Qe=m==null?void 0:m.settings)==null?void 0:Qe.app_chart)==null?void 0:qe.cacheData)??!1,updateValue:((Ve=(He=m==null?void 0:m.settings)==null?void 0:He.app_chart)==null?void 0:Ve.updateValue)??12,updateUnit:((We=(Ge=m==null?void 0:m.settings)==null?void 0:Ge.app_chart)==null?void 0:We.updateUnit)??"h",mapApiKey:((Ye=(Ue=m==null?void 0:m.settings)==null?void 0:Ue.app_map)==null?void 0:Ye.api_key)??"",mapColumnLatitude:((Je=($e=m==null?void 0:m.settings)==null?void 0:$e.app_map)==null?void 0:Je.column_latitude)??"",mapColumnLongitude:((Ze=(Ke=m==null?void 0:m.settings)==null?void 0:Ke.app_map)==null?void 0:Ze.column_longitude)??""}))}}else c(D.contactSupport,{variant:"error"})},A=>{i.error("error",A),c(A??D.contactSupport,{variant:"error"})})},_=()=>{ms(t.appId,a=>{if(i.debug(a),a!=null&&a.code&&(a==null?void 0:a.message)!==void 0)switch(a.code){case"ok":c(a.message,{variant:"success"}),s(ge());break;case"info":c(a.message,{variant:"info"});break;default:i.error(a),c(a.message??D.contactSupport,{variant:"error"})}else i.error(a),c(D.contactSupport,{variant:"error"});f(!1)},a=>{i.error("error",a),c(a??D.contactSupport,{variant:"error"}),f(!1)})},R=()=>{hs(t.appId,a=>{i.debug(a),a!=null&&a.code&&(a==null?void 0:a.message)!==void 0?a.data.data?Ms(new Blob([a.data.data],{type:"text/json;charset=utf-8"}),"wpda-export-"+t.appName+".sql"):(i.error(a),c(a.message??D.contactSupport,{variant:"error"})):(i.error(a),c(D.contactSupport,{variant:"error"})),f(!1)},a=>{i.error("error",a),c(a??D.contactSupport,{variant:"error"}),f(!1)})},y=a=>{gs(a,A=>{if(i.debug(A),A!=null&&A.code&&(A==null?void 0:A.message)!==void 0)switch(A.code){case"ok":c(A.message,{variant:"success"}),s(ge());break;case"info":c(A.message,{variant:"info"});break;default:i.error(A),c(A.message??D.contactSupport,{variant:"error"})}else i.error(A),c(D.contactSupport,{variant:"error"});T(!1)},A=>{i.error("error",A),c(A??D.contactSupport,{variant:"error"}),T(!1)})},v=()=>{if(y(t.appId),t.appType==g.APPCONTAINER&&n===!0){const a=Lt.getSelectors().selectAppAppsList(Nt.getState().apps);a[t.appId]!==void 0&&Array.isArray(a[t.appId])&&(i.debug("start deleting detail apps",a[t.appId]),a[t.appId].map(A=>{i.debug("delete detail app",A),y(A)}))}},q=be("(max-width:700px)"),H=be("(max-width:900px)"),[C,k]=x.useState(null),J=!!C;return e.jsxs(e.Fragment,{children:[e.jsxs(p,{"data-testid":t.appName+"-"+t.appType,sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center",padding:r==="small"?"8px 8px 8px 12px":r==="medium"?"16px":"24px",...H&&{".pp-row-actions":{width:0}},"&:hover":{".pp-row-title":{display:H?"inline-block":"none"},".pp-row-actions":{visibility:H?"hidden":"visible"}}},children:[e.jsxs(p,{sx:{display:"grid",gridTemplateColumns:"auto auto",alignItems:"center"},children:[e.jsxs(p,{sx:{width:"100%",display:"grid",gridTemplateColumns:"auto 1fr",gridGap:r==="small"?"3px":r==="medium"?"6px":"9px",justifyContent:"center",alignItems:"center"},children:[e.jsx(wt,{appType:t.appType}),e.jsxs(p,{sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:[t.appName,e.jsxs(p,{className:"pp-row-title",sx:{display:"inline-block",marginLeft:"5px",fontSize:"80%"},children:["−",e.jsx(p,{sx:{display:"inline-block",width:"5px"}}),`${t.appTitle} (App ID: ${t.appId})`]})]})]}),e.jsxs(p,{sx:{display:"grid",visibility:"hidden",gridTemplateColumns:"auto auto auto auto",gridGap:"10px",marginLeft:"10px",alignItems:"center"},className:"pp-row-actions",children:[e.jsx(p,{sx:{borderLeft:"1px solid black",height:"100%"}}),e.jsx(E,{title:"Manage App",children:e.jsx(ee,{sx:{cursor:"pointer"},underline:"none",onClick:a=>{w(t.appId),a.preventDefault(),a.stopPropagation()},children:"Manage"})}),e.jsx(p,{sx:{borderLeft:"1px solid black",height:"100%"}}),e.jsx(E,{title:"Run & Build App",children:e.jsx(ee,{sx:{cursor:"pointer"},underline:"none",onClick:a=>{s(et({isActive:!0,appDbId:t.appId})),a.preventDefault(),a.stopPropagation()},children:"Run & Build"})})]})]}),e.jsxs(p,{sx:{display:"grid",gridTemplateColumns:"auto auto auto auto auto auto auto",justifyContent:q?"end":"space-evenly",alignItems:"center"},children:[e.jsx(p,{sx:{paddingRight:"10px"},children:q?"":ot(t.appType)}),e.jsx(E,{title:"Manage App",children:e.jsx(z,{sx:{color:(K=ne)==null?void 0:K.palette.primary.main},onClick:a=>{w(t.appId),a.preventDefault(),a.stopPropagation()},children:e.jsx(Wt,{})})}),e.jsx(E,{title:"Run & Build App",children:e.jsx(z,{sx:{color:(G=ne)==null?void 0:G.palette.primary.main},onClick:a=>{s(et({isActive:!0,appDbId:t.appId})),a.preventDefault(),a.stopPropagation()},children:e.jsx(Ut,{})})}),e.jsx(E,{title:"More App actions",children:e.jsx(z,{sx:{color:(ue=ne)==null?void 0:ue.palette.primary.main},onClick:a=>{k(a.currentTarget),a.preventDefault(),a.stopPropagation()},children:e.jsx(Yt,{})})}),e.jsxs(Ls,{id:"pp-app-builder-more-actions",anchorEl:C,open:J,onClose:()=>{k(null)},MenuListProps:{"aria-labelledby":"pp-app-builder-more-actions"},sx:{zIndex:9999999999},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsxs(pe,{onClick:a=>{k(null),f(!0),a.preventDefault(),a.stopPropagation()},children:[e.jsx($t,{}),e.jsx("span",{style:{margin:"0 10px"},children:"Copy"})]}),e.jsxs(pe,{onClick:a=>{k(null),h(!0),a.preventDefault(),a.stopPropagation()},children:[e.jsx(Re,{}),e.jsx("span",{style:{margin:"0 10px"},children:"Export"})]}),e.jsx(_s,{text:`[wpda_app app_id="${t.appId}"]`,onCopy:()=>{c(`Shortcode [wpda_app app_id="${t.appId}"] successfully copied to clipboard`,{variant:"info"})},children:e.jsxs(pe,{onClick:a=>{k(null),a.preventDefault(),a.stopPropagation()},children:[e.jsx(Jt,{}),e.jsx("span",{style:{margin:"0 10px"},children:"Shortcode"})]})}),e.jsxs(pe,{onClick:a=>{k(null),T(!0),o(!1),a.preventDefault(),a.stopPropagation()},sx:{color:(xe=ne)==null?void 0:xe.palette.error.main},children:[e.jsx(Kt,{}),e.jsx("span",{style:{margin:"0 10px"},children:"Delete"})]})]})]})]}),l&&e.jsx(oe,{title:"Please confirm",message:t.appType==g.APPCONTAINER?"Copy app including detail apps?":"Copy app?",open:l,setOpen:f,onConfirm:()=>_()}),d&&e.jsx(oe,{title:"Please confirm",message:t.appType==g.APPCONTAINER?"Export app including detail apps?":"Export app?",open:d,setOpen:h,onConfirm:()=>R()}),u&&e.jsx(oe,{title:"Delete App?",message:e.jsxs("div",{children:["Are you sure you want to delete app ",t.appName,"?",e.jsx("br",{}),e.jsx("strong",{children:"This action cannot be undone!"}),t.appType==g.APPCONTAINER&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx($,{children:e.jsx(At,{control:e.jsx(ks,{checked:n,onChange:(a,A)=>{o(A)}}),label:"Delete detail app?"})})]})]}),open:u,setOpen:T,onConfirm:()=>v()})]})},mr=({apps:t,appApps:r,search:s,types:l,isLoading:f,density:d})=>{i.debug(t,r,s,l);const h=xr(),u=o=>{if(l.length===0&&s.trim()==="")return!0;if(h&&r[o.appId]){let b=!1;if(r[o.appId].map(w=>{const _=t.filter(R=>R.appId==w)[0];_?(s.trim()!==""&&rt(_.appName+" "+_.appTitle,s)&&(b=!0),l.filter(R=>R.id===Number(_.appType)).length>0&&(b=!0)):i.error(`Detail app lost? Data App ${o.appId} cannot find detail app ${w}!`)}),b)return!0}return!(!rt(o.appName+" "+o.appTitle,s)||l.length>0&&l.filter(b=>b.id===Number(o.appType)).length===0)},T=t.filter(o=>u(o)?o:null),n=o=>r[o]?e.jsxs(p,{sx:{marginLeft:d==="small"?"48px":d==="medium"?"56px":"64px","& > div":{borderTop:"1px solid #ddd",borderRadius:"0 !important"}},children:[...r[o].map(b=>{const w=t.filter(_=>_.appId==b);return w.length>0?e.jsx(nt,{app:w[0],density:d}):null})]}):null;return e.jsx(Ds,{elevation:4,children:e.jsxs(p,{sx:{backgroundColor:"#fff",borderRadius:"4px",overflow:"hidden","& .MuiBox-root:first-of-type":{borderTopLeftRadius:"4px",borderTopRightRadius:"4px"},"& .MuiBox-root:hover":{backgroundColor:"rgb(242, 242, 242)"},"& .pp-app-details:nth-of-type(odd)":{backgroundColor:"#f9f9f9"}},children:[...t.map(o=>{const b=u(o);return h&&Object.keys(r).filter(w=>r[w].includes(Number(o.appId))).length>0?null:e.jsxs(p,{className:"pp-app-details"+(b?" pp-app-details-visible":""),sx:{visibility:b?"visible":"hidden",position:b?"relative":"fixed",borderTop:"1px solid #ddd","&:first-of-type":{borderTop:"unset"}},children:[e.jsx(nt,{app:o,density:d}),h&&n(o.appId)]})}),T.length===0&&e.jsx(p,{sx:{padding:"35px",borderRadius:"4px"},children:f?e.jsx(ie,{title:"Loading apps...",align:kt.LEFT}):e.jsx(p,{children:"No apps found"})})]})})},It=()=>{const t=Q(r=>r.apps.appList);return i.debug("apps",t),t},hr=()=>{const t=Q(r=>r.apps.app.appDbId);return i.debug("appDbId",t),t},gr=()=>{const t=Q(r=>r.apps.dbSearch);return i.debug("dbSearch",t),t},fr=()=>{const t=Q(r=>r.apps.dbTypes);return i.debug("dbTypes",t),t},jr=()=>{const t=Q(r=>r.apps.designMode);return i.debug("designMode",t),t},br=()=>{const t=Q(r=>r.apps.reload);return i.debug("reload",t),t},Dt=()=>{const t=Q(r=>r.apps.appMetaData);return i.debug("appMetaData",t),t},yr=({setIsUpdated:t})=>{const r=V(),s=Ce(),l=Dt(),f=x.useMemo(()=>{const o=[];if((l==null?void 0:l.roles)!==void 0)for(const b in l.roles)o.push({key:b,value:l.roles[b]});return o},[l.roles]);i.debug(f);const d=x.useMemo(()=>{const o=[];if((l==null?void 0:l.users)!==void 0)for(const b in l.users)o.push({key:b,value:l.users[b]});return o},[l.users]);i.debug(d);const h=x.useMemo(()=>f.filter(o=>s.appRestApi.authorized_roles.includes(o.key)),[s.appRestApi.authorized_roles,f]),u=x.useMemo(()=>d.filter(o=>s.appRestApi.authorized_users.includes(o.key)),[s.appRestApi.authorized_users,d]),[T,n]=x.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("fieldset",{className:"pp-fieldset",children:[e.jsx("legend",{children:"Authorization"}),e.jsx($,{sx:{width:"100%"},children:e.jsxs(Fs,{children:[e.jsxs(Ie,{className:"align-label-radio",sx:{cursor:"pointer"},children:[e.jsx(it,{checked:s.appRestApi.authorization===X.AUTHORIZED,onChange:o=>{r(F({property:{appRestApi:{...s.appRestApi,authorization:X.AUTHORIZED}}})),t&&t(!0),o.stopPropagation()}}),"Authorized access only"]}),e.jsxs(p,{sx:{display:"grid",gridGap:"10px",margin:"20px 20px 15px 42px"},children:[e.jsx(ye,{multiple:!0,options:f,disableCloseOnSelect:!0,getOptionLabel:o=>o.value,value:h,onChange:(o,b)=>{r(F({property:{appRestApi:{...s.appRestApi,authorized_roles:b.map(w=>w.key)}}})),t&&t(!0),o.stopPropagation()},renderInput:o=>e.jsx(W,{...o,label:"Roles"}),renderTags:(o,b)=>o.map((w,_)=>{const{key:R,...y}=b({index:_});return e.jsx(Ae,{variant:"outlined",label:w.value,...y},R)})}),e.jsx(ye,{multiple:!0,options:d,disableCloseOnSelect:!0,getOptionLabel:o=>o.value,value:u,onChange:(o,b)=>{r(F({property:{appRestApi:{...s.appRestApi,authorized_users:b.map(w=>w.key)}}})),t&&t(!0),o.stopPropagation()},renderInput:o=>e.jsx(W,{...o,label:"Users"}),renderTags:(o,b)=>o.map((w,_)=>{const{key:R,...y}=b({index:_});return e.jsx(Ae,{variant:"outlined",label:w.value,...y},R)})})]}),e.jsxs(Ie,{className:"align-label-radio",sx:{cursor:"pointer"},children:[e.jsx(it,{checked:s.appRestApi.authorization===X.ANONYMOUS,onChange:o=>{r(F({property:{appRestApi:{...s.appRestApi,authorization:X.ANONYMOUS}}})),t&&t(!0),o.stopPropagation()}}),"Anonymous access"]})]})})]}),e.jsx($,{children:e.jsxs(ce,{component:"div",sx:{marginLeft:0},children:[e.jsx(p,{sx:{marginTop:"25px"},children:e.jsxs(ee,{sx:{textDecoration:"none",cursor:"pointer",display:"inline-flex","& svg":{fontSize:"1rem",marginRight:"2px"}},onClick:()=>n(!T),children:[e.jsx(Me,{}),"What is the difference between authorized and anonymous access?"]})}),T&&e.jsxs(e.Fragment,{children:[e.jsxs(p,{sx:{marginTop:"20px"},children:[e.jsx("strong",{children:"Authorized access:"}),e.jsxs("ul",{style:{listStyle:"disc",padding:"0 40px"},children:[e.jsx("li",{children:"Users with the selected roles can access this app"}),e.jsx("li",{children:"Selected users can access this app"}),e.jsx("li",{children:"Other registered users cannot access this app"}),e.jsx("li",{children:"Anonymous users cannot access this app"})]})]}),e.jsxs(p,{sx:{marginTop:"20px"},children:[e.jsx("strong",{children:"Anonymous access:"}),e.jsx("ul",{style:{listStyle:"disc",padding:"0 40px"},children:e.jsx("li",{children:"Any user can access this app"})})]}),e.jsx(p,{sx:{marginTop:"20px"},children:"App authorization is applied to both back-end and front-end usage. Back-end access is restricted to registered users only. A Data Table app displayed on the front-end typically allows anonymous access, enabling visitors to view the table. In contrast, Data Management apps usually require authorized access to prevent unauthorized users from altering table data."})]})]})})]})},Ar=({app:t,setIsUpdated:r})=>{const s=V(),[l,f]=x.useState(!1),d=It(),h=d.filter(n=>t.appDbId!==n.appId&&n.appType!=g.APPCONTAINER),u=[];t.appApps.map(n=>{const o=d.filter(b=>b.appId===n);o.length===1&&u.push(o[0])});const T=n=>n.appName+(l?" ("+n.appTitle+")":"");return e.jsxs($,{sx:{width:"100%",marginTop:"8px"},children:[e.jsx(ye,{multiple:!0,options:h,value:u,disableCloseOnSelect:!0,getOptionLabel:n=>T(n),onChange:(n,o)=>{s(F({property:{appApps:o.map(b=>b.appId)}})),r&&r(!0),n.stopPropagation()},renderInput:n=>e.jsx(W,{...n,label:"Apps"}),renderTags:(n,o)=>n.map((b,w)=>{const{key:_,...R}=o({index:w});return e.jsx(Ae,{variant:"outlined",label:T(b),...R},_)})}),e.jsxs(ce,{component:"div",sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Apps will be added in the order they are entered here."}),e.jsx(At,{sx:{"& span.MuiFormControlLabel-label":{fontSize:"0.75rem"}},control:e.jsx(Qs,{checked:l,onChange:n=>{f(!l),n.stopPropagation()}}),label:"Show title",labelPlacement:"end"})]})]})},Tr=({app:t,hasErrors:r,setIsUpdated:s})=>{i.debug(t,r);const l=V();return e.jsx(W,{type:"text",label:"App Name",error:r,fullWidth:!0,required:!0,helperText:"App name must be unique.",value:t.appName,autoFocus:!0,autoComplete:"off",onChange:f=>{l(F({property:{appName:f.target.value}})),s&&s(!0)}})},Cr=({app:t,hasErrors:r,setIsUpdated:s})=>{i.debug(t,r);const l=V();return e.jsx(W,{type:"text",label:"App Title",error:r,fullWidth:!0,required:!0,helperText:"App title describes the purpose of the app.",value:t.appTitle,autoComplete:"off",onChange:f=>{l(F({property:{appTitle:f.target.value}})),s&&s(!0)}})},Sr=()=>{const t=Q(r=>Te.defaultLanguage.code);return i.debug("appLanguage",t),t},vr=({app:t,setIsUpdated:r})=>{i.debug(t);const s=V();Dt();const l=Sr(),f=Q(u=>{var T,n;return(n=(T=u==null?void 0:u.apps)==null?void 0:T.app)==null?void 0:n.updateSiteLanguage});i.debug("updateSiteLanguage",f),x.useEffect(()=>{const u={appLanguage:Te.defaultLanguage.code};s(F({property:{appLanguage:u.appLanguage}}))},[]);const[d,h]=x.useState(!1);return e.jsxs(p,{sx:{width:"100%"},children:[e.jsxs($,{fullWidth:!0,disabled:!0,children:[e.jsx(Tt,{variant:"outlined",children:"App Language"}),e.jsxs(Ct,{MenuProps:{id:"pp-select-menu"},label:"App Language",value:l,onChange:u=>{},children:[...qs.map(u=>e.jsx(pe,{value:u.code,children:u.language},u.code))]}),e.jsx(ce,{children:"Selected app language is applied to all (master and detail) tables and forms."})]}),!1,e.jsx($,{children:e.jsxs(ce,{component:"div",sx:{marginLeft:0},children:[e.jsx(p,{sx:{marginTop:"20px"},children:e.jsxs(ee,{sx:{textDecoration:"none",cursor:"pointer",display:"inline-flex","& svg":{fontSize:"1rem",marginRight:"2px"}},onClick:()=>h(!d),children:[e.jsx(Me,{}),"Which app information is localized?"]})}),d&&e.jsxs(e.Fragment,{children:[e.jsxs(p,{sx:{marginTop:"20px"},children:[e.jsx("strong",{children:"Information provided in the selected app language:"}),e.jsxs("ul",{style:{listStyle:"disc",padding:"0 40px"},children:[e.jsx("li",{children:"Tooltips"}),e.jsx("li",{children:"Field labels"}),e.jsx("li",{children:"Field hints"}),e.jsx("li",{children:"Info and success messages"}),e.jsx("li",{children:"Most error messages"})]})]}),e.jsxs(p,{sx:{marginTop:"20px"},children:[e.jsx("strong",{children:"Information not provided in the selected language:"}),e.jsxs("ul",{style:{listStyle:"disc",padding:"0 40px"},children:[e.jsx("li",{children:"Builders, Wizards and Managers are provided in English"}),e.jsx("li",{children:"Database and server errors are not translated"})]})]}),e.jsx(p,{sx:{marginTop:"20px"},children:"If you discover any translation errors, please let us know. We are committed to improving our translations."})]})]})}),e.jsx(Hs,{})]})},wr=({queryName:t,qbList:r,setOpenQueryList:s,copyQueryAndDatabase:l})=>e.jsx(p,{sx:{maxWidth:"600px",padding:"5px 25px","&:hover":{backgroundColor:"#efefef"}},children:e.jsxs(p,{sx:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"relative"},children:[e.jsx(p,{sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:t}),e.jsxs(p,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(Vs,{variant:"popover",children:f=>e.jsxs(e.Fragment,{children:[e.jsx(E,{title:"View query",children:e.jsx(z,{...Gs(f),children:e.jsx(Zt,{})})}),e.jsxs(Ns,{...Ws(f),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","& > .MuiPaper-root":{resize:"both",minWidth:"400px",maxWidth:"80vw",maxHeight:"80vh",padding:"30px"}},children:[e.jsxs(p,{sx:{display:"flex",alignItems:"center",flexDirection:"row",gap:"5px"},children:[e.jsx(cs,{}),e.jsx("strong",{children:r[t].schemaName})]}),e.jsx(Ys,{sx:{margin:"10px 0"}}),e.jsx(Us,{html:lt(r[t].query).replaceAll(`
`,"<br/>")})]})]})}),e.jsx(E,{title:"Import query",children:e.jsx(z,{onClick:f=>{l(t),s(!1),f.stopPropagation()},children:e.jsx(Re,{})})})]})]})},t),Ir=({qbList:t,open:r,setOpen:s,setOpenQueryList:l,copyQueryAndDatabase:f})=>{const[d,h]=x.useState("");return e.jsxs(Ts,{open:r,onClose:()=>s(!1),PaperComponent:Cs,sx:{"& .MuiPaper-root":{width:"600px",height:"600px"}},"aria-labelledby":"open-query-dialog",closeAfterTransition:!1,children:[e.jsx(Ss,{sx:{cursor:"move"},id:"draggable-dialog-title",children:e.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Import from Query Builder"}),e.jsx(W,{type:"text",value:d,onChange:u=>{h(u.target.value)},sx:{width:"160px",backgroundColor:"#fff",fontSize:"1em",margin:0,padding:0,borderRadius:"4px","&.MuiFormControl-root.MuiTextField-root .MuiInputBase-root":{paddingRight:0},"&.MuiFormControl-root.MuiTextField-root input":{padding:"8px"}},slotProps:{input:{startAdornment:e.jsx(St,{position:"end",sx:{fontSize:"1.5rem",padding:0,margin:0},children:e.jsx(ft,{})})}}})]})}),e.jsx(vs,{sx:{zIndex:1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},children:e.jsxs(ws,{component:"div",sx:{"& svg":{height:"1.2em",width:"1.2em"}},children:[...Object.keys(t).map(u=>t[u]===void 0||t[u]===null||!u.toLowerCase().includes(d.toLowerCase())?null:e.jsx(wr,{queryName:u,qbList:t,setOpenQueryList:l,copyQueryAndDatabase:f}))]})}),e.jsx(Is,{sx:{padding:"30px","& button":{width:"120px"}},children:e.jsx(Y,{variant:"contained",onClick:u=>{s(!1),u.stopPropagation()},children:"Cancel"})})]})},Dr=()=>{const t=Q(r=>r.apps.app.appQuery);return i.debug("appQuery",t),t},Rr=x.lazy(()=>le(()=>import("./CodeField-1.0.43-BUmVyqpR.js"),__vite__mapDeps([93,1,2,3,4,5,6,7,8,9,10,11,12,14,15,37,29,24,30,31,19]),import.meta.url)),Mr=({setIsUpdated:t})=>{const r=V(),s=Dr(),[l,f]=x.useState({}),[d,h]=x.useState(!1),u=()=>{l!=null&&Object.keys(l).length===0?$s(Te.appUrlQueryBuilderList,{},n=>{i.debug(n),f(n.data??{}),h(!0)},()=>{i.error("Error loading Query Builder list."),f({})}):h(!0)},T=n=>{r(Pt({appDatabase:l[n].schema_name})),r(F({property:{appQuery:lt(l[n].query)}})),t&&t(!0)};return e.jsxs(p,{sx:{width:"100%"},children:[e.jsxs(p,{sx:{display:"flex",justifyContent:"flex-end",marginBottom:"5px",position:"relative"},children:[e.jsxs(Y,{variant:"contained",onClick:()=>{u()},children:["Import from Query Builder  ",e.jsx(Re,{})]}),l!=null&&Object.keys(l).length>0&&e.jsx(Ir,{qbList:l,open:d,setOpen:h,setOpenQueryList:h,copyQueryAndDatabase:T})]}),e.jsx(x.Suspense,{children:e.jsx(Rr,{code:s,setCode:n=>{r(F({property:{appQuery:n}})),t&&t(!0)},dialogTitle:"SQL Query",extension:"sql"})}),e.jsx($,{children:e.jsx(ce,{children:"Enter a valid SQL query. Test your query in Query Builder before submitting."})})]})},_r=({setMode:t})=>{const r=V(),s=Ce(),l=()=>s.appType==g.APPCONTAINER,f=l()?["App info","Apps","Authorization"]:["App info","Data source","Authorization"],[d,h]=x.useState(0);x.useEffect(()=>{let y=null;switch(s.appType){case g.DATATABLE:case g.CHART:case g.MAP:y=X.ANONYMOUS;break;case g.DATAENTRY:case g.REGISTRATION:case g.UPDATEFORM:case g.APPCONTAINER:y=X.AUTHORIZED;break}y!==null?r(F({property:{appRestApi:Et(y)}})):c(D.contactSupport,{variant:"error"})},[s.appType]);const[u,T]=x.useState({appName:!1,appTitle:!1,appDatabase:!1,appTable:!1,appColumns:!1});i.debug(u);const n=()=>{const y=Ot(zt);y.table.transactions.insert=Number(s.appType)===g.DATAENTRY||Number(s.appType)===g.REGISTRATION,y.table.transactions.update=Number(s.appType)===g.DATAENTRY||Number(s.appType)===g.UPDATEFORM||Number(s.appType)===g.REGISTRATION,y.table.transactions.delete=Number(s.appType)===g.DATAENTRY,fs(s,y,v=>{if(i.debug(v),v!=null&&v.code&&(v==null?void 0:v.message)!==void 0)switch(v.code){case"ok":c(v.message,{variant:"success"}),t(B.TABLE),r(ge());break;case"info":c(v.message,{variant:"info"});break;default:i.error(v),c(v.message??D.contactSupport,{variant:"error"})}else i.error(v),c(D.contactSupport,{variant:"error"})},v=>{i.error("error",v),c(v??D.contactSupport,{variant:"error"})}),s.updateSiteLanguage&&s.appLanguage!==void 0&&js(s.appLanguage,()=>{},()=>{})},o=()=>{var v,q,H;let y=!0;if(d===0){let C=!1,k=!1;s.appName.trim()===""&&(c("App name is required",{variant:"error"}),C=!0,y=!1),s.appTitle.trim()===""&&(c("App title is required",{variant:"error"}),k=!0,y=!1),T({...u,appName:C,appTitle:k})}if(d===1){let C=!1,k=!1,J=!1,K=!1;if(l())s.appApps.length===0&&c("No apps added",{variant:"info"});else if(((v=s.appDatabase)==null?void 0:v.trim())===""&&(c("Database is required",{variant:"error"}),C=!0,y=!1),s.appType==g.CHART?((q=s.appQuery)==null?void 0:q.trim())===""&&(c("SQL query is required",{variant:"error"}),K=!0,y=!1):(((H=s.appTable)==null?void 0:H.trim())===""&&(c("Table is required",{variant:"error"}),k=!0,y=!1),s.appColumns.filter(G=>G.isSelected===!0).length===0&&(c("No columns selected",{variant:"error"}),J=!0,y=!1)),s.appType==g.MAP){if(s.appMap.columnLatitude==="")return c("Latitude column is required for maps",{variant:"error"}),!1;if(s.appMap.columnLongitude==="")return c("Longitude column is required for maps",{variant:"error"}),!1}T({...u,appDatabase:C,appTable:k,appQuery:K,appColumns:J})}return d===f.length-1&&n(),i.debug(y),y},b=()=>e.jsxs(p,{sx:{textAlign:"right",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[d>0?e.jsx(Y,{variant:"outlined",size:"medium",sx:{width:"160px",marginRight:"10px"},onClick:()=>{h(d-1)},startIcon:e.jsx(Xt,{}),children:e.jsx(p,{children:"Back"})}):e.jsx(p,{}),e.jsx(Y,{variant:"contained",size:"medium",sx:{width:"160px"},onClick:()=>{o()&&d<f.length-1&&h(d+1)},startIcon:d>=f.length-1&&e.jsx(es,{}),endIcon:d<f.length-1&&e.jsx(jt,{}),children:e.jsx(p,{children:d<f.length-1?"Next":"Finish"})})]}),w=()=>e.jsxs(e.Fragment,{children:[e.jsx(Tr,{app:s,hasErrors:u.appName}),e.jsx(Cr,{app:s,hasErrors:u.appName}),e.jsx(vr,{app:s}),b()]}),_=()=>l()?e.jsxs(e.Fragment,{children:[e.jsx(Ar,{app:s}),b()]}):e.jsxs(e.Fragment,{children:[e.jsx(Ps,{}),e.jsx(p,{sx:{display:s.appDatabase?"block":"none"},children:s.appType==g.CHART?e.jsx(Mr,{}):e.jsx(Es,{})}),s.appType!=g.CHART&&e.jsx(p,{sx:{display:s.appTable?"block":"none"},children:e.jsx(Os,{app:s})}),s.appType==g.MAP&&s.appColumns.length>0&&e.jsxs("fieldset",{className:"pp-fieldset",style:{marginTop:"-10px"},children:[e.jsx("legend",{children:e.jsx(Ie,{sx:{fontSize:"13px"},children:"Spatial Columns"})}),e.jsx(p,{style:{marginTop:"5px"},children:e.jsx(zs,{app:s})})]}),b()]}),R=()=>e.jsxs(e.Fragment,{children:[e.jsx(p,{children:e.jsx(yr,{})}),s.appType==g.MAP&&e.jsx(p,{children:e.jsx(Bs,{app:s})}),b()]});return e.jsxs(e.Fragment,{children:[e.jsx(Js,{activeStep:d,sx:{margin:"10px 0 30px 0"},children:f.map((y,v)=>(i.debug(y,v),e.jsx(Ks,{children:e.jsx(Zs,{children:y})},y)))}),e.jsxs("form",{onSubmit:y=>(y.preventDefault(),o()&&h(d+1),!1),style:{display:"grid",gridGap:"30px"},children:[d===0&&w(),d===1&&_(),d===2&&R(),e.jsx("input",{type:"submit",style:{display:"none"}})]})]})},Lr=({app:t,isNew:r,setIsUpdated:s})=>{i.debug(t);const l=V(),f=dt(),d=r?"Select App Type *":"App Type *";return e.jsxs(p,{sx:{width:"100%"},children:[e.jsx(p,{sx:{width:"100%"},children:e.jsxs($,{fullWidth:!0,children:[e.jsx(Tt,{variant:"outlined",children:d}),e.jsxs(Ct,{MenuProps:{id:"pp-select-menu"},label:d,value:t.appType,disabled:r!==!0&&(t.appType==g.APPCONTAINER||t.appType==g.REGISTRATION||t.appType==g.CHART),onChange:h=>{l(F({property:{appType:h.target.value}})),s&&s(!0)},sx:{"& .MuiSelect-select":{display:"flex",alignItems:"center"}},children:[...f.map(h=>{let u=h.id==g.DATATABLE||h.id==g.DATAENTRY||h.id==g.REGISTRATION||h.id==g.APPCONTAINER||h.id==g.CHART||h.id==g.MAP;return r!==!0&&(h.id==g.APPCONTAINER||h.id==g.REGISTRATION||h.id==g.CHART||h.id==g.MAP)&&(u=!1),e.jsxs(pe,{value:h.id,disabled:!u,children:[e.jsx(Xs,{sx:{minWidth:"unset"},children:e.jsx(wt,{appType:h.id})}),e.jsx(er,{children:h.text})]})})]})]})}),r&&e.jsx(tr,{sx:{marginTop:"30px",width:"auto","& td":{border:"none",padding:"12px 0 0 12px"},"& td:first-of-type":{textAlign:"center",paddingTop:"10px"},"& td:first-of-type svg":{display:"inline-block",verticalAlign:"middle"},"& td:nth-of-type(2)":{fontWeight:"bold",whiteSpace:"nowrap"}},children:e.jsxs(sr,{children:[e.jsxs(ae,{children:[e.jsx(N,{sx:{"& svg":{fontSize:"18px"}},children:e.jsx(ht,{})}),e.jsx(N,{children:"Chart"}),e.jsx(N,{children:"Create interactive charts with SQL queries using Google Charts"})]}),e.jsxs(ae,{children:[e.jsx(N,{sx:{"& svg":{fontSize:"18px"}},children:e.jsx(mt,{})}),e.jsx(N,{children:"Data Administration"}),e.jsx(N,{children:"Manage data with full transaction support through entry forms"})]}),e.jsxs(ae,{children:[e.jsx(N,{sx:{"& svg":{fontSize:"20px"}},children:e.jsx(xt,{})}),e.jsx(N,{children:"Data App"}),e.jsx(N,{children:"Bundle multiple apps into one with a dedicated menu"})]}),e.jsxs(ae,{children:[e.jsx(N,{children:e.jsx(yt,{})}),e.jsx(N,{children:"Data Table"}),e.jsx(N,{children:"Display a read-only table with detailed views or inline details"})]}),e.jsxs(ae,{children:[e.jsx(N,{sx:{"& svg":{fontSize:"20px"}},children:e.jsx(gt,{})}),e.jsx(N,{children:"Map"}),e.jsx(N,{children:"Visualize location data on Google Maps"})]}),e.jsxs(ae,{children:[e.jsx(N,{children:e.jsx(bt,{})}),e.jsx(N,{children:"Registration Form"}),e.jsx(N,{children:"Allow users to submit new entries to a table via a form"})]})]})})]})},Nr=({setMode:t})=>{const r=Ce();i.debug(r);const[s,l]=x.useState(!1),[f,d]=x.useState(!1),h=s?`Add new ${ot(r.appType)} app`:"Add new app";return e.jsxs(e.Fragment,{children:[e.jsxs(fe,{sx:{padding:"50px 70px 40px 70px",display:"grid",gridGap:"40px"},elevation:4,children:[e.jsxs(p,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"start"},children:[e.jsx(vt,{title:"App Wizard",subheader:h,sx:{padding:0}}),e.jsx(p,{children:e.jsx(E,{title:"Close",children:e.jsx(ee,{sx:{cursor:"pointer"},underline:"none",onClick:u=>{d(!0),u.preventDefault(),u.stopPropagation()},children:e.jsx(p,{sx:{fontSize:"1.5rem",color:"#000"},children:e.jsx(De,{})})})})})]}),e.jsx(je,{sx:{padding:0,display:"grid",gridGap:"30px"},children:s?e.jsx(_r,{setMode:t}):e.jsxs(p,{sx:{display:"grid",gap:"10px"},children:[e.jsx(Lr,{app:r,isNew:!0}),e.jsx(p,{sx:{textAlign:"end"},children:e.jsx(Y,{variant:"contained",size:"medium",endIcon:e.jsx(jt,{}),onClick:()=>{l(!0)},sx:{width:"160px"},children:"Start Wizard"})})]})})]}),e.jsx(oe,{title:"Close App Wizard?",message:"All uncommitted changes will be lost!",open:f,setOpen:d,onConfirm:()=>{t(B.TABLE)}})]})},kr=({close:t})=>{const[r,s]=x.useState(""),[l,f]=x.useState(""),[d,h]=x.useState(!1),[u,T]=x.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(fe,{sx:{padding:"50px 70px 40px 70px",display:"grid",gridGap:"40px"},elevation:4,children:[e.jsxs(p,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"start"},children:[e.jsx(vt,{title:"Rename Database",sx:{padding:0}}),e.jsx(p,{children:e.jsx(E,{title:"Close",children:e.jsx(ee,{sx:{cursor:"pointer"},underline:"none",onClick:n=>{t(),n.preventDefault(),n.stopPropagation()},children:e.jsx(p,{sx:{fontSize:"1.5rem",color:"#000"},children:e.jsx(De,{})})})})})]}),e.jsxs(je,{sx:{padding:0,display:"grid",gridGap:"30px"},children:[e.jsx(W,{type:"text",label:"Old Database Name",fullWidth:!0,required:!0,value:r,onChange:n=>{s(n.target.value)}}),e.jsx(W,{type:"text",label:"New Database Name",fullWidth:!0,required:!0,value:l,onChange:n=>{f(n.target.value)}}),e.jsxs(p,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(ee,{sx:{textDecoration:"none",cursor:"pointer",display:"inline-flex","& svg":{fontSize:"1rem",marginRight:"2px"}},onClick:()=>h(!d),children:[e.jsx(Me,{}),"When is this feature recommended for use?"]}),e.jsx(Y,{disabled:r.trim()===""||l.trim()==="",variant:"contained",sx:{width:"120px"},onClick:()=>{T(!0)},children:"Rename"})]}),d&&e.jsxs(p,{children:[e.jsx(p,{children:"When databases or tables are renamed or transferred using external tools, the stored database name in the repository may need updating. The Rename Database feature automatically updates all instances of the old database name to the new one across all app types and legacy tools."}),e.jsxs(p,{sx:{"& ul":{listStyleType:"disc",paddingLeft:"30px"}},children:[e.jsx("h3",{children:"Usage"}),e.jsxs("ul",{children:[e.jsx("li",{children:"After exporting a WordPress website to a new server"}),e.jsx("li",{children:"After renaming or moving databases or tables with external tools"})]})]})]})]})]}),u&&e.jsx(oe,{title:"Rename Database?",message:e.jsxs(p,{children:["Are you sure you want to replace all occurrences of ",e.jsxs("strong",{children:["`",r,"`"]})," with ",e.jsxs("strong",{children:["`",l,"`"]}),"?",e.jsx("br",{}),e.jsx("br",{}),e.jsx("strong",{children:"This action cannot be undone!"})]}),open:u,setOpen:T,onConfirm:()=>bs(r,l,n=>{if(n!=null&&n.code&&(n==null?void 0:n.message)!==void 0)switch(n.code){case"ok":c(n.message,{variant:"success"});break;case"info":c(n.message,{variant:"info"});break;default:i.error(n),c(n.message??D.contactSupport,{variant:"error"})}else i.error(n),c(D.contactSupport,{variant:"error"})},n=>{i.error(n),c(n??D.contactSupport,{variant:"error"})})})]})},Pr=()=>{const t=V(),r=x.useMemo(()=>Bt(),[]),[s,l]=x.useState(B.TABLE);i.debug(s),x.useEffect(()=>{try{const j=localStorage.getItem("ppAppsDbsSearch");j!==null&&t(Z({property:"dbSearch",propertyValue:j}));const S=localStorage.getItem("ppAppsDbsSearchType");if(S!==null){const U=JSON.parse(S);t(Z({property:"dbTypes",propertyValue:U}))}localStorage.getItem("ppAppsShowStructure")==="false"&&t(Z({property:"showAppStructure",propertyValue:!1}))}catch(j){i.debug(j)}window.ppActionRenameDatabase=function(){y(!0)}},[]);const f=It(),d=nr(),h=hr(),u=gr(),T=fr(),n=jr(),o=br(),b=j=>{j?(window.document.documentElement.style.setProperty("--addRenameDatabaseVisibility","visible"),window.document.documentElement.style.setProperty("--addAppIconVisibility","visible")):(window.document.documentElement.style.setProperty("--addRenameDatabaseVisibility","hidden"),window.document.documentElement.style.setProperty("--addAppIconVisibility","hidden"))},[w,_]=x.useState(!0),[R,y]=x.useState(!1);x.useEffect(()=>{b(!R)},[R]),x.useEffect(()=>{q(),v()},[o]);const v=()=>{ys(function(j){const S=j==null?void 0:j.data;i.debug("response data",S);const O=j==null?void 0:j.context;if(i.debug("response context",O),Array.isArray(S)){const U=[];for(let L=0;L<S.length;L++)U.push({appId:S[L].app_id,appName:S[L].app_name,appTitle:S[L].app_title,appType:S[L].app_type,appSettings:S[L].app_settings,appAddToMenu:S[L].app_add_to_menu});const se=O.reduce((L,me)=>{const{app_id:re,app_id_detail:he}=me;return L[re]=L[re]??[],L[re].push(Number(he)),L},{});t(Se({appList:U,appApps:se}))}else i.error(S),c((S==null?void 0:S.message)??D.contactSupport,{variant:"error"}),t(Se({appList:[],appApps:{}}));_(!1)},j=>{i.error("error",j),c(j??D.contactSupport,{variant:"error"}),t(Se({appList:[],appApps:{}})),_(!1)})},q=()=>{As(function(j){const S=j==null?void 0:j.data;i.debug("response data",S),t(Qt({appMetaData:S}))},j=>{i.error("error",j),c(j??D.contactSupport,{variant:"error"})})};x.useEffect(()=>{s===B.TABLE&&q()},[s]),x.useEffect(()=>{Te.appPlugin&&(window.ppActionCreateApp=function(){s===0&&!(n.isActive===!0&&n.appDbId>0)&&l(B.FORM)},b(!(s===1||n.isActive===!0&&n.appDbId>0)))},[s,n]);const H=be("(max-width: 600px)"),C=be("(max-width: 900px)"),k=qt(),J=dt();i.debug(J);const K=x.useRef(),G=()=>n.isActive===!0&&n.appDbId>0,ue=()=>e.jsx(E,{title:"Add new app",children:e.jsx(z,{sx:{color:"inherit"},onClick:()=>{t(pt()),l(B.FORM)},children:e.jsx(ns,{})})}),xe=()=>e.jsx(E,{title:"Rename Database",children:e.jsx(z,{sx:{color:"inherit"},onClick:()=>{y(!R)},children:e.jsx(ar,{})})}),a={};G()&&(a.visibility="hidden");let A="smell";try{A=localStorage.getItem("ppAppsDensity")}catch(j){i.debug(j)}const[M,te]=x.useState(A==="large"||A==="medium"?A:"small");return x.useEffect(()=>{try{localStorage.setItem("ppAppsDensity",M)}catch(j){i.debug(j)}},[M]),e.jsxs(ir,{theme:k,children:[e.jsxs(p,{className:"pp-applist",sx:{width:"100%",visibility:G()?"hidden":"visible",position:G()?"fixed":"auto",height:G()?0:"auto",...G()&&{visibility:"hidden",position:"absolute",left:-99999,top:-99999},"& .pp-app-details":{...a}},children:[e.jsx(ct,{position:"relative",elevation:4,sx:{margin:"0 0 5px 0"},children:e.jsxs(ut,{className:"pp-applist-toolbar",sx:{display:"grid",gap:"12px",paddingRight:"12px !important",...H?{gap:0,paddingRight:"10px",paddingBottom:"10px",paddingLeft:"10px","& .pp-applist-search":{gridTemplateColumns:"1fr",gridGap:"2px"}}:{...C?{gap:0,paddingRight:"10px",paddingBottom:"10px",paddingLeft:"10px","& .pp-applist-search":{justifyContent:"end",gridTemplateColumns:"auto auto auto"}}:{justifyContent:"space-between",gridTemplateColumns:"auto 1fr"}}},children:[e.jsxs(p,{className:"pp-applist-title",sx:{display:"inline-grid",gridTemplateColumns:"auto auto auto",justifyContent:"start",alignItems:"center",gridGap:"10px"},children:[e.jsx(p,{sx:{fontSize:"18px",lineHeight:"18px",fontWeight:"bold",whiteSpace:"nowrap"},children:"Apps"}),e.jsxs(p,{sx:{display:"inline-grid",gridTemplateColumns:"auto auto",justifyContent:"start",alignItems:"center"},children:[e.jsx(p,{children:s===B.TABLE&&!R&&e.jsx(e.Fragment,{children:ue()})}),e.jsx(p,{children:s===B.TABLE&&!R&&e.jsx(e.Fragment,{children:xe()})})]})]}),e.jsxs(p,{className:"pp-applist-search",sx:{display:"grid",gridTemplateColumns:"auto auto auto",gridGap:"10px",justifyContent:"end",alignItems:"center"},children:[e.jsxs(p,{children:[e.jsx(E,{title:"App View",children:e.jsx(z,{onClick:()=>{t(Z({property:"showAppStructure",propertyValue:!0}));try{localStorage.setItem("ppAppsShowStructure","true")}catch(j){i.debug(j)}},sx:{color:"#fff"},children:e.jsx(ts,{})})}),e.jsx(E,{title:"List View",children:e.jsx(z,{onClick:()=>{t(Z({property:"showAppStructure",propertyValue:!1}));try{localStorage.setItem("ppAppsShowStructure","false")}catch(j){i.debug(j)}},sx:{color:"#fff"},children:e.jsx(ss,{})})}),e.jsx(E,{title:"Toggle density",children:e.jsx(z,{onClick:()=>{te(M==="large"?"medium":M==="medium"?"small":"large")},sx:{color:"#fff"},children:M==="small"?e.jsx(rs,{}):M==="medium"?e.jsx(as,{}):e.jsx(is,{})})})]}),e.jsx(W,{value:u,type:"search",placeholder:"Search",disabled:s===B.FORM,onChange:j=>{t(Z({property:"dbSearch",propertyValue:j.target.value}));try{localStorage.setItem("ppAppsDbsSearch",j.target.value)}catch(S){i.debug(S)}},sx:{backgroundColor:"#fff",fontSize:"1em",margin:0,padding:0,borderRadius:"4px","&.MuiFormControl-root.MuiTextField-root .MuiInputBase-root":{paddingRight:0},"&.MuiFormControl-root.MuiTextField-root input":{padding:"8px"}},slotProps:{input:{startAdornment:e.jsx(St,{position:"end",sx:{fontSize:"1.5rem",padding:0,margin:0},children:e.jsx(ft,{})})}}}),e.jsx(ye,{multiple:!0,size:"small",options:J,getOptionLabel:j=>j.text,isOptionEqualToValue:(j,S)=>j.id===S.id,value:T,disableCloseOnSelect:!0,disabled:s===B.FORM,onChange:(j,S)=>{t(Z({property:"dbTypes",propertyValue:S.map(O=>({id:O.id,text:Object.values(Ft)[O.id]}))}));try{localStorage.setItem("ppAppsDbsSearchType",JSON.stringify(S))}catch(O){i.debug(O)}},renderInput:j=>e.jsx(p,{ref:K,children:e.jsx(W,{...j,sx:{minWidth:"250px","& .MuiInputBase-root":{backgroundColor:"#fff",padding:"0",maxHeight:"39px",overflow:"hidden"},"& .MuiButtonBase-root.MuiChip-root.MuiAutocomplete-tag":{height:"auto"}},placeholder:T.length===0?"Select app types":""})}),renderTags:(j,S)=>j.map((O,U)=>{const{key:se,...L}=S({index:U});return e.jsx(Ae,{variant:"outlined",label:O.text,...L},se)})})]})]})}),R?e.jsx(kr,{close:()=>y(!1)}):e.jsxs(e.Fragment,{children:[s===B.TABLE&&e.jsx(mr,{apps:f,appApps:d,search:u,types:T,isLoading:w,density:M}),s===B.FORM&&e.jsx(Nr,{setMode:l}),h!==0&&h!==void 0&&e.jsx(ur,{appDbId:h})]})]}),n.isActive===!0&&n.appDbId>0&&e.jsx(rr,{appId:r,appDbId:n.appDbId,designMode:!0,isExploring:!0})]})},Ba=Object.freeze(Object.defineProperty({__proto__:null,default:Pr},Symbol.toStringTag,{value:"Module"}));export{Tr as A,Mr as C,Ba as M,Cr as a,Lr as b,vr as c,Ar as d,yr as e};
