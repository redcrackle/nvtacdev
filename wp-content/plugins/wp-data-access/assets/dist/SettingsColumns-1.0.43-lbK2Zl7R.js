import{j as e}from"./cm-1.0.43-BIThoEwM.js";import{u as _,L as Z,S as $,a as I,I as G,b as ee,c as te,d as U,D as ie,e as se,f as ne,g as ae,h as re,T as oe,M as le,P as de}from"./useMetadataColumns-1.0.43-VUP1ysVj.js";import{r as F}from"./redux-1.0.43-X9ShETON.js";import{u as ce,a as E}from"./hooks-1.0.43-Bzf6s8gj.js";import{l as j,cg as P,a as V,bY as m,C as me,bB as pe,ch as ue,ci as xe,k as T,cj as ge}from"./lib-1.0.43-GM4CAPbj.js";import{s as he}from"./index-1.0.43-CvTha0tS.js";import{x as z,l as je,aq as q,ar as fe,as as be,at as ye,n as Se,au as ke,av as Te,aw as ve,ax as Ae,ay as Pe,az as Ne}from"./index-1.0.43-Br_nYvvF.js";import{T as M}from"./Tooltip-1.0.43-dEMLW8-v.js";import{u as L}from"./useTableUpdater-1.0.43-C8DXp04q.js";import{B as c}from"./Spinner-1.0.43-YmZqinVQ.js";import{F as W}from"./FormLabel-1.0.43-DuYrsDLO.js";import{S as X}from"./Slider-1.0.43-DwDICOHK.js";import{F as x,a as g}from"./FormHelperText-1.0.43-BbvxPfFT.js";import{u as Y}from"./useMetadata-1.0.43-5v27HTeK.js";import{P as H}from"./PremiumFeature-1.0.43-BD8gtQwD.js";import"./moment-1.0.43-C5S46NFB.js";import{u as Ee}from"./useStoreTable-1.0.43-L56KWd1n.js";import{d as Le,e as Me,c as De}from"./index-1.0.43-CEsXajp3.js";import{A as O,a as R}from"./AccordionSummary-1.0.43-CNpHbZtu.js";import{A as B}from"./AccordionDetails-1.0.43-C8u8mZhB.js";import{F as b}from"./FormControlLabel-1.0.43-DhLqIzQC.js";import{S as y}from"./Switch-1.0.43-DUXi6nEm.js";import{L as Fe}from"./Link-1.0.43-CsQWhuI0.js";import{A as we}from"./AdminTheme-1.0.43-CqjS-p3h.js";import{T as C}from"./TextField-1.0.43-DsZQBbKY.js";import{A as v,a as A}from"./AggregationLabelsEnum-1.0.43-B-3lhjpJ.js";import{A as Ce}from"./Autocomplete-1.0.43-C-3GGJwT.js";import{C as _e}from"./Checkbox-1.0.43-C_H-ygma.js";import{C as ze}from"./ConfirmDialog-1.0.43-HyVPTU5U.js";import{I as D}from"./iconBase-1.0.43-BkINToSh.js";import{u as Oe}from"./useTableColumnOrder-1.0.43-5WBDSDKj.js";import{D as Re}from"./DynamicModeEnum-1.0.43-BXuL5kgA.js";import"./vendor-1.0.43-CN03Eozo.js";import"./notistack-1.0.43-CFZ1B9cW.js";import"./SharedContainer-1.0.43-tDTKa5Wc.js";import"./main-1.0.43.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./ActionsDml-1.0.43-CZ8W9C-X.js";import"./RestApi-1.0.43-DDknciaN.js";import"./useChartSettings-1.0.43-CyXaF5Yk.js";import"./useRemoveAppFromStore-1.0.43-BZ2w6e3F.js";import"./lang-1.0.43-B1WmIuB6.js";import"./useStoreFormSettings-1.0.43-FA6xRyVh.js";import"./useFormDetails-1.0.43-D5LxUh_w.js";import"./AppTheme-1.0.43-C6ZTpO5w.js";import"./index-1.0.43-C6_8mZyP.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./getThemeProps-1.0.43-5uxEwZ_e.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./useAppFunctions-1.0.43-CiC-p3-f.js";import"./useScreenSize-1.0.43-BkaemLwA.js";import"./dompurify-1.0.43-DhD2mIk-.js";import"./dayjs.min-1.0.43-B1axidXt.js";import"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./FallbackSpinner-1.0.43-SRqLbyxS.js";import"./AlertDialog-1.0.43-Der7jh53.js";import"./SanitizeComponent-1.0.43-DS8pdFaO.js";import"./Tooltip-1.0.43-Dw3sfo8K.js";import"./useControlled-1.0.43-DObA-A1B.js";import"./Popper-1.0.43-8Yb3KIgh.js";import"./Select-1.0.43-CISjJoqC.js";import"./Menu-1.0.43-TbmZ3Ge2.js";import"./utils-1.0.43-iop7lDec.js";import"./useFormControl-1.0.43-D7bmEJOO.js";import"./createSvgIcon-1.0.43-C8_lU5Lv.js";import"./MenuItem-1.0.43-Uicrp-o6.js";import"./DefaultWhere-1.0.43-Drctlfv9.js";import"./Stepper-1.0.43-D51mbVNg.js";import"./StepContent-1.0.43-DA0As2PG.js";import"./Collapse-1.0.43-CtSvLI94.js";import"./visuallyHidden-1.0.43-Dan1xhjv.js";import"./SwitchBase-1.0.43-jxlYBoq8.js";import"./Close-1.0.43-DZEA4jNx.js";import"./Chip-1.0.43-Ci13k7gB.js";const Be=(s,a)=>{const t=ce(l=>l.tables[s].columns[a]);return j.debug("tableColumn",t),t},Ge=({appId:s,columnIndex:a,tableColumn:t})=>{const l=E(),n=L(s);return e.jsxs(c,{sx:{margin:"0 1rem 2rem 1rem"},children:[e.jsx(W,{children:"Width"}),e.jsxs(c,{sx:{display:"grid",gridTemplateColumns:"1fr auto",gridGap:"30px",alignItems:"center"},children:[e.jsx(X,{min:60,max:420,step:1,value:t.width,marks:[{value:60,label:"60"},{value:120,label:"120"},{value:180,label:"180"},{value:240,label:"240"},{value:300,label:"320"},{value:360,label:"360"},{value:420,label:"420"}],valueLabelDisplay:"auto",onChange:(i,p)=>{l(P({appId:s,index:a,property:{width:p}})),n(!0),i.stopPropagation()}}),e.jsx("span",{children:"px"})]}),e.jsx(x,{children:e.jsxs(g,{children:["Column width is relative when responsiveness = ",e.jsx("strong",{children:"auto column hiding"}),"."]})})]})},Ue=({appId:s,columnIndex:a,tableColumn:t})=>{var k,N,r;j.debug(s,a,t),E();const l=Ee(s),n=Y(s);_(s,n);const[i,p]=F.useState(!1),[d,u]=F.useState(!1);return L(s),e.jsxs(O,{disableGutters:!0,children:[e.jsxs(R,{expandIcon:e.jsx(z,{}),sx:{fontSize:"1rem","& .MuiAccordionSummary-content":{padding:"1rem",alignItems:"center"}},children:[e.jsx(Le,{}),e.jsx("span",{style:{paddingLeft:"0.5rem"},children:"Column actions"})]}),e.jsxs(B,{sx:{display:"grid",paddingTop:"1rem"},children:[e.jsxs(c,{sx:{margin:"0 10px",display:"grid",gridTemplateColumns:"auto"},children:[t.computedField?e.jsx(b,{control:e.jsx(y,{checked:!1,disabled:!0}),label:"Enable inline search",labelPlacement:"end"}):e.jsx(b,{control:e.jsx(y,{checked:t.inlineSearch&&!1,disabled:!0,onChange:(S,w)=>{S.stopPropagation()}}),label:"Enable column filter",labelPlacement:"end"}),t.inlineSearch&&!1,((k=n==null?void 0:n.privs)==null?void 0:k.update)&&n.primary_key.length>0&&e.jsx(e.Fragment,{children:!t.computedField&&!t.columnName.startsWith(V.relationTablePrefix)&&!(((N=l==null?void 0:l.state)==null?void 0:N.masterDetailConditions)!==void 0&&((r=l==null?void 0:l.state)==null?void 0:r.masterDetailConditions[t.columnName])!==void 0)?e.jsx(b,{control:e.jsx(y,{checked:t.visible&&t.inlineEditing,disabled:!0,onChange:(S,w)=>{S.stopPropagation()}}),label:"Enable inline editing",labelPlacement:"end"}):e.jsx(b,{control:e.jsx(y,{checked:!1,disabled:!0}),label:"Enable inline editing",labelPlacement:"end"})})]}),!1,e.jsxs(g,{component:"div",sx:{marginTop:"30px"},children:[e.jsx(c,{children:e.jsxs(Fe,{sx:{textDecoration:"none",cursor:"pointer",display:"inline-flex","& svg":{fontSize:"1rem",marginRight:"2px"}},onClick:()=>p(!i),children:[e.jsx(je,{}),"What are column actions?"]})}),i&&e.jsxs(c,{sx:{marginTop:"20px",display:"grid",gap:"20px",marginBottom:"20px"},children:[e.jsx(c,{children:"Column actions are inline actions added to a table column to enhance usability and user-friendliness."}),e.jsx(c,{children:e.jsx("strong",{children:"Column filtering"})}),e.jsx(c,{children:"When column filtering is enabled, a search field is added to the table for performing column-specific searches. A search box allows wildcard searches, while drop-down lists perform exact searches. Exact searches can improve performance, especially when the searched columns are well-indexed."}),e.jsx(c,{children:"To enable the column filter feature, go to the TABLE section under Column Filters. You can also change the position of the column filters."}),e.jsx(c,{children:"The global filter performs a wildcard search. This feature can be disabled in the TABLE section under Global filter."}),e.jsx(c,{children:e.jsx("strong",{children:"Inline editing"})}),e.jsx(c,{children:"Inline editing allows users to change table columns directly, without needing to open a data entry form. This feature is not available for primary key fields. Drop-down lists are automatically generated for enum and set data types."})]})]}),e.jsx(Z,{}),e.jsx(H,{})]})]})},Ve=({appId:s,columnIndex:a,tableColumn:t})=>{var d,u,f,k,N;const l=E(),n=L(s),i=_(s),p=(r,S)=>{j.debug(r,S)};return e.jsxs(O,{disableGutters:!0,children:[e.jsxs(R,{expandIcon:e.jsx(z,{}),sx:{fontSize:"1rem","& .MuiAccordionSummary-content":{padding:"1rem",alignItems:"center"}},children:[e.jsx(Me,{}),e.jsx("span",{style:{paddingLeft:"0.5rem"},children:"Column settings"})]}),e.jsxs(B,{sx:{display:"grid",gridGap:"2rem",paddingTop:"1rem"},children:[(t.computedField||i[t.columnName]!==void 0&&!t.inlineEditing&&t.lookup===void 0&&(m(i[t.columnName].data_type)==="float"||m(i[t.columnName].data_type)==="number"||m(i[t.columnName].data_type)==="time"||m(i[t.columnName].data_type,!0)==="date"||m(i[t.columnName].data_type,!0)==="datetime"||m(i[t.columnName].data_type,!0)==="timestamp"||m(i[t.columnName].data_type,!0)==="time"))&&e.jsx(c,{children:e.jsxs(x,{children:[e.jsx(b,{control:e.jsx(y,{checked:!1,disabled:!0,onClick:r=>{r.stopPropagation()}}),label:"Localize",labelPlacement:"end"}),e.jsx(g,{children:m((d=i[t.columnName])==null?void 0:d.data_type)==="float"||m((u=i[t.columnName])==null?void 0:u.data_type)==="number"?"Localize decimal and thousands seperators.":"Localize date and time fields."})]})}),i[t.columnName]!==void 0&&t.inlineEditing&&(m(i[t.columnName].data_type,!0)==="date"||m(i[t.columnName].data_type,!0)==="datetime"||m(i[t.columnName].data_type,!0)==="timestamp"||m(i[t.columnName].data_type,!0)==="time")&&e.jsxs(c,{children:[e.jsxs(x,{children:[e.jsx(b,{control:e.jsx(y,{checked:!1,disabled:!0,onClick:r=>{r.stopPropagation()}}),label:"Localize",labelPlacement:"end"}),e.jsx(g,{children:"Localize date and time fields."})]}),e.jsxs(x,{children:[e.jsx(b,{control:e.jsx(y,{checked:!1,disabled:!0,onClick:r=>{r.stopPropagation()}}),label:"MySQL format",labelPlacement:"end"}),e.jsx(g,{children:"Localize date and time fields."})]}),!t.duration&&!t.localize&&!t.mysqlFormat&&e.jsx(x,{fullWidth:!0,children:e.jsxs(g,{component:"div",sx:{display:"flex",alignItems:"center",gap:"2px","& svg":{marginTop:"-2px"}},children:[e.jsx(q,{}),e.jsx("i",{children:"Currently using browser default."})]})}),t.duration&&e.jsx(x,{fullWidth:!0,children:e.jsxs(g,{component:"div",sx:{display:"flex",alignItems:"center",gap:"2px","& svg":{marginTop:"-2px"}},children:[e.jsx(q,{}),e.jsx("i",{children:"Currently using duration format."})]})})]}),i[t.columnName]!==void 0&&m((f=i[t.columnName])==null?void 0:f.data_type,!0)==="time"&&e.jsx(c,{children:e.jsx(c,{sx:{marginBottom:"10px"},children:e.jsxs(x,{children:[e.jsx(b,{control:e.jsx(y,{checked:t.duration,onClick:r=>{l(P({appId:s,index:a,property:{duration:!t.duration}})),n(!0),r.stopPropagation()}}),label:"Duration format",labelPlacement:"end"}),e.jsx(g,{children:"Enables storage of durations up to 99 hours in the MySQL time format (hh:mm:ss)."})]})})}),(i[t.columnName]!==void 0&&t.lookup===void 0&&m(i[t.columnName].data_type,!0)==="float"||t.computedField!==void 0)&&e.jsxs(x,{children:[e.jsx(W,{children:"Decimals"}),e.jsx(X,{min:0,max:6,value:t.decimals,marks:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"∞"}],valueLabelDisplay:"auto",disabled:!0,onChange:(r,S)=>{j.debug(S),r.stopPropagation()}}),e.jsx(g,{children:"Number of decimals displayed."})]}),i[t.columnName]!==void 0&&t.localize===!0&&(m(i[t.columnName].data_type,!0)==="date"||m(i[t.columnName].data_type,!0)==="datetime"||m(i[t.columnName].data_type,!0)==="timestamp")&&e.jsx(c,{children:e.jsx(x,{children:e.jsx(b,{control:e.jsx(y,{checked:!1,disabled:!0,onClick:r=>{r.stopPropagation()}}),label:"Add trailing zeros to days and month",labelPlacement:"end"})})}),e.jsxs(x,{children:[e.jsxs(c,{sx:{display:"grid",gridTemplateColumns:"auto auto",gridGap:"10px",alignItems:"center"},children:[e.jsx(C,{type:"text",variant:"outlined",label:"Prefix",value:t.prefix,disabled:!0,slotProps:{inputLabel:{shrink:!0}},onChange:r=>{r.stopPropagation()}}),e.jsx(C,{type:"text",variant:"outlined",label:"Suffix",value:t.suffix,disabled:!0,slotProps:{inputLabel:{shrink:!0}},onChange:r=>{r.stopPropagation()}})]}),e.jsx(g,{children:"Adds a prefix and/or suffix to the column content (also added to inline text and number fields)."})]}),e.jsxs(x,{children:[e.jsx(C,{type:"text",variant:"outlined",label:"CSS classes",fullWidth:!0,value:t.classNames,disabled:!0,slotProps:{inputLabel:{shrink:!0}},onChange:r=>{r.stopPropagation()}}),e.jsx(g,{children:"CSS classes (seperated by spaces) for custom styling."})]}),e.jsxs(x,{children:[e.jsx(b,{control:e.jsx(y,{checked:t.allowMarkup,onChange:(r,S)=>{l(P({appId:s,index:a,property:{allowMarkup:S}})),n(!0),r.stopPropagation()}}),label:"Allow inline HTML",labelPlacement:"end"}),e.jsxs(g,{children:["Allows markup in column content. ",e.jsx("span",{style:{...t.allowMarkup&&{color:((N=(k=we)==null?void 0:k.palette)==null?void 0:N.error.main)??"red"}},children:"Enabling this feature may pose a risk of cross-site scripting (XSS) attacks."})]})]}),e.jsxs(c,{sx:{display:"grid",gridTemplateColumns:"auto"},children:[e.jsx(b,{control:e.jsx(y,{checked:!1,disabled:!0,onClick:r=>{me.appFeature===!0&&p(a,!t.visibleTablet),r.stopPropagation()}}),label:"Show column on tablet",labelPlacement:"end"}),e.jsx(b,{control:e.jsx(y,{checked:!1,disabled:!0,onClick:r=>{r.stopPropagation()}}),label:"Show column on mobile",labelPlacement:"end"})]}),e.jsx(H,{single:!1,margin:"0"})]})]})},We=[{key:A.SUM,label:v.SUM},{key:A.MIN,label:v.MIN},{key:A.MAX,label:v.MAX},{key:A.AVG,label:v.AVG},{key:A.COUNT,label:v.COUNT},{key:A.UNIQUE,label:v.UNIQUE},{key:A.STD,label:v.STD},{key:A.VARIANCE,label:v.VARIANCE},{key:A.MEDIAN,label:v.MEDIAN}],Q=[...We],He=({appId:s,columnIndex:a,tableColumn:t})=>{j.debug(s,a,t),E(),L(s);const l=_(s),n=F.useMemo(()=>{var i;return(t==null?void 0:t.aggregation)===void 0?[]:(i=t==null?void 0:t.aggregation)==null?void 0:i.map(p=>Q.filter(d=>d.key===p)[0])},[t==null?void 0:t.aggregation]);return!pe(s)||t.computedField===void 0&&m(l[t.columnName].data_type)!=="number"?null:e.jsxs(O,{disableGutters:!0,children:[e.jsxs(R,{expandIcon:e.jsx(z,{}),sx:{fontSize:"1rem","& .MuiAccordionSummary-content":{padding:"1rem",alignItems:"center"}},children:[e.jsx(De,{}),e.jsx("span",{style:{paddingLeft:"0.5rem"},children:"Aggregations"})]}),e.jsxs(B,{sx:{marginTop:"10px"},children:[e.jsxs(x,{fullWidth:!0,children:[e.jsx(Ce,{multiple:!0,options:Q,disabled:!0,disableCloseOnSelect:!0,getOptionLabel:i=>i.label,value:n,onChange:(i,p)=>{i.stopPropagation()},renderOption:(i,p,{selected:d})=>F.createElement("li",{...i,key:p.label},e.jsx(_e,{icon:e.jsx(be,{}),checkedIcon:e.jsx(fe,{}),style:{marginRight:8},checked:d}),p.label),renderInput:i=>e.jsx(C,{...i,label:"Select from list"})}),e.jsx(g,{children:"Allows multiple selections. Displayed in order of entry."})]}),e.jsx(x,{sx:{marginTop:"20px",marginLeft:"-10px"},children:e.jsxs(g,{component:"div",children:["Aggregations are calculated:",e.jsxs("ul",{style:{marginBottom:0,listStyleType:"disc",paddingLeft:"40px"},children:[e.jsx("li",{children:"per table with client-side processing enabled"}),e.jsx("li",{children:"per page with server-side processing enabled"})]})]})}),e.jsx(H,{})]})]})},qe=({appId:s,columnIndex:a,tableColumn:t})=>{j.debug(s,a,t);const l=E(),n=L(s),i=Y(s),d=_(s)[t.columnName],u=(f,k)=>{l(ue({appId:s,columnName:t.columnName})),l(xe({appId:s,columnName:t.columnName})),l(P({appId:s,index:f,property:{lookup:k}})),n(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{appId:s,columnIndex:a,tableColumn:t}),e.jsx(Ve,{appId:s,columnIndex:a,tableColumn:t}),e.jsx(Ue,{appId:s,columnIndex:a,tableColumn:t}),e.jsx($,{appId:s,columnIndex:a,tableColumn:t,columnMetaData:d,setLookup:u}),e.jsx(He,{appId:s,columnIndex:a,tableColumn:t}),e.jsx(I,{columnMetaData:d,metaData:i})]})},Qe=({appId:s,columnIndex:a,tableType:t})=>{j.debug(s,a,t);const l=E(),n=Be(s,a),i=L(s),[p,d]=F.useState(!1),[u,f]=F.useState(void 0),k=o=>{o!==void 0&&(l(ge({appId:s,index:o})),i(!0))},N=(o,h)=>{j.debug(o,h),l(P({appId:s,index:o,property:{visible:h}})),i(!0)},r=(o,h)=>{j.debug(o,h),l(P({appId:s,index:o,property:{queryable:h}})),i(!0)},S=(o,h)=>{j.debug(o,h),l(P({appId:s,index:o,property:{orderable:h}})),i(!0)},w=(o,h)=>{l(P({appId:s,index:o,property:{alignment:h}})),i(!0)},J=(o,h,K)=>(j.debug(o,h,K),e.jsxs(e.Fragment,{children:[e.jsx(c,{sx:{"& svg":{pointerEvents:"none",opacity:"0.5"}},children:e.jsx(ee,{id:o,enabled:!1},o)}),e.jsxs(c,{sx:{display:"inline-grid",gridTemplateColumns:n.computedField!==void 0?"auto auto":"auto",justifyContent:"start",alignItems:"center",gap:"10px","& svg":{opacity:"0.5"}},children:[n.computedField!==void 0&&e.jsx(he,{}),e.jsx(W,{children:h})]})]}));return e.jsxs(e.Fragment,{children:[e.jsxs(O,{disableGutters:!0,slotProps:{transition:{unmountOnExit:!0}},children:[e.jsxs(R,{className:"pp-column-settings",component:"div",expandIcon:e.jsx(z,{}),sx:{justifyContent:"space-between",position:"relative"},children:[t!==""&&e.jsx(c,{sx:{position:"absolute",top:"5px",right:"5px",fontSize:"50%"},children:t}),e.jsx(c,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center","& svg":{display:"flex"}},children:J(n.columnName,n.columnLabel,a)}),e.jsxs("div",{style:{display:"inline-grid",gridTemplateColumns:"40px 40px 40px 40px"},children:[e.jsx(M,{title:"Visibility",position:"bottom",children:e.jsx(D,{onClick:o=>{N(a,!n.visible),o.stopPropagation()},children:e.jsx(G,{checked:n.visible,children:e.jsx(ye,{})})})}),n.computedField?e.jsx(M,{title:"Edit",position:"bottom",children:e.jsx("span",{children:e.jsx(D,{disabled:!0,onClick:o=>{o.stopPropagation()},children:e.jsx(ke,{})})})}):e.jsx(M,{title:"Searchable",position:"bottom",children:e.jsx(D,{onClick:o=>{r(a,!n.queryable),o.stopPropagation()},children:e.jsx(G,{checked:n.queryable,alignRight:!1,children:e.jsx(Se,{})})})}),n.computedField?e.jsx(M,{title:"Delete",position:"bottom",children:e.jsx(D,{onClick:o=>{f(a),d(!0),o.stopPropagation()},children:e.jsx(ve,{})})}):e.jsx(M,{title:"Sortable",position:"bottom",disabled:n.visible===!1,children:e.jsx(D,{disabled:n.visible===!1,onClick:o=>{S(a,!n.orderable),o.stopPropagation()},children:e.jsx(G,{checked:n.orderable,forceOff:n.visible===!1,children:e.jsx(Te,{})})})}),e.jsx(M,{title:"Alignment",position:"bottom",disabled:n.visible===!1,children:e.jsxs(D,{disabled:n.visible===!1,onClick:o=>{n.alignment===T.LEFT?w(a,T.CENTER):n.alignment===T.CENTER?w(a,T.RIGHT):n.alignment===T.RIGHT&&w(a,T.LEFT),i(!0),o.stopPropagation()},children:[n.alignment===T.LEFT&&e.jsx(Ae,{}),n.alignment===T.CENTER&&e.jsx(Pe,{}),n.alignment===T.RIGHT&&e.jsx(Ne,{})]})})]})]}),e.jsx(B,{children:e.jsx(qe,{appId:s,columnIndex:a,tableColumn:n})})]},a),e.jsx(ze,{title:"Delete computed field?",message:"Are you sure you want to delete this computed field? This action cannot be undone!",open:p,setOpen:d,onConfirm:()=>k(u)})]})},xi=({appId:s,metaData:a})=>{j.debug(s,a),E();const t=te(U(de),U(le),U(oe));L(s);const l=d=>{const{active:u,over:f}=d;j.debug(u,f),u==null||u.id,f==null||f.id},n=Oe(s),i=()=>(n==null?void 0:n.filter(d=>d.startsWith(V.relationTablePrefix)).length)>0,p=d=>i()?d.startsWith(V.relationTablePrefix)?"Relation Table Column":"Join Table Column":"";return n===void 0||n.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx(ie,{autoScroll:!0,sensors:t,collisionDetection:se,onDragEnd:l,children:e.jsx(ne,{items:n,children:n.map((d,u)=>e.jsx(ae,{id:d,children:e.jsx(Qe,{appId:s,columnIndex:u,tableType:p(d)})},d))})}),e.jsx(re,{appId:s,target:Re.TABLE})]})};export{xi as default};
