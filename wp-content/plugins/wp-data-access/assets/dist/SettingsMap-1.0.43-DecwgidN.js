const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CodeField-1.0.43-BUmVyqpR.js","./cm-1.0.43-BIThoEwM.js","./redux-1.0.43-X9ShETON.js","./vendor-1.0.43-CN03Eozo.js","./index-1.0.43-Br_nYvvF.js","./iconBase-1.0.43-BkINToSh.js","./Typography-1.0.43-CjHjtdZs.js","./lib-1.0.43-GM4CAPbj.js","./loglevel-1.0.43-BZ7XahX3.js","./lodash-1.0.43-BGoSrRk7.js","./moment-1.0.43-C5S46NFB.js","./useEnhancedEffect-1.0.43-DcXwKdLb.js","./notistack-1.0.43-CFZ1B9cW.js","./ConfirmDialog-1.0.43-HyVPTU5U.js","./AdminTheme-1.0.43-CqjS-p3h.js","./Spinner-1.0.43-YmZqinVQ.js","./FormControlLabel-1.0.43-DhLqIzQC.js","./useFormControl-1.0.43-D7bmEJOO.js","./Switch-1.0.43-DUXi6nEm.js","./SwitchBase-1.0.43-jxlYBoq8.js","./useControlled-1.0.43-DObA-A1B.js"])))=>i.map(i=>d[i]);
import{j as r}from"./cm-1.0.43-BIThoEwM.js";import{u as g,S as b,a as S,b as M,c as A}from"./SettingsMapMarkers-1.0.43-Car8AF3W.js";import{l}from"./lib-1.0.43-GM4CAPbj.js";import{_ as C}from"./main-1.0.43.js";import{r as p}from"./redux-1.0.43-X9ShETON.js";import{x as _,j as w}from"./index-1.0.43-Br_nYvvF.js";import{P as y}from"./PremiumFeature-1.0.43-BD8gtQwD.js";import{a as W}from"./hooks-1.0.43-Bzf6s8gj.js";import{u as F}from"./useMapUpdater-1.0.43-CWbe2ro7.js";import{D as k}from"./DefaultWhere-1.0.43-Drctlfv9.js";import{u as v}from"./useMetadata-1.0.43-5v27HTeK.js";import{S as E}from"./SanitizeComponent-1.0.43-DS8pdFaO.js";import{A as L,a as O}from"./AccordionSummary-1.0.43-CNpHbZtu.js";import{A as N}from"./AccordionDetails-1.0.43-C8u8mZhB.js";import{F as P}from"./FormHelperText-1.0.43-BbvxPfFT.js";import{B as s}from"./Spinner-1.0.43-YmZqinVQ.js";import{T as R}from"./Tooltip-1.0.43-Dw3sfo8K.js";import{L as T}from"./Link-1.0.43-CsQWhuI0.js";import"./vendor-1.0.43-CN03Eozo.js";import"./CssUnitTextField-1.0.43-9DAGquvf.js";import"./TextField-1.0.43-DsZQBbKY.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./iconBase-1.0.43-BkINToSh.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./Select-1.0.43-CISjJoqC.js";import"./Menu-1.0.43-TbmZ3Ge2.js";import"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./utils-1.0.43-iop7lDec.js";import"./useControlled-1.0.43-DObA-A1B.js";import"./useFormControl-1.0.43-D7bmEJOO.js";import"./createSvgIcon-1.0.43-C8_lU5Lv.js";import"./FormLabel-1.0.43-DuYrsDLO.js";import"./ConfirmDialog-1.0.43-HyVPTU5U.js";import"./AdminTheme-1.0.43-CqjS-p3h.js";import"./RadioGroup-1.0.43-USnV9oxc.js";import"./Radio-1.0.43-GAuAP3gY.js";import"./SwitchBase-1.0.43-jxlYBoq8.js";import"./Slider-1.0.43-DwDICOHK.js";import"./visuallyHidden-1.0.43-Dan1xhjv.js";import"./FormControlLabel-1.0.43-DhLqIzQC.js";import"./Switch-1.0.43-DUXi6nEm.js";import"./react-number-format.es-1.0.43-Dn0EVwh2.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./moment-1.0.43-C5S46NFB.js";import"./notistack-1.0.43-CFZ1B9cW.js";import"./index-1.0.43-CvTha0tS.js";import"./dompurify-1.0.43-DhD2mIk-.js";import"./Collapse-1.0.43-CtSvLI94.js";import"./Popper-1.0.43-8Yb3KIgh.js";const z=p.lazy(()=>C(()=>import("./CodeField-1.0.43-BUmVyqpR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),B=({appId:t,mapSettings:e})=>{W(),F(t);const o=v(t),h=p.useMemo(()=>{var u,x,d,f;let n=[];try{n=JSON.parse((x=(u=o==null?void 0:o.app)==null?void 0:u.container[0])==null?void 0:x.cnt_cls)}catch(i){l.error("Invalid JSON - app columns"),l.error(i)}const c=n.filter(i=>i.computedField===void 0).map(i=>i.columnName).join("<br/>, ");let a="";return(d=o==null?void 0:o.app)!=null&&d.container[0]&&(a=(f=o==null?void 0:o.app)==null?void 0:f.container[0].cnt_tbl),c===""||a===""?"":`select ${c}<br/>from ${a}<br/>`},[]),[m,j]=p.useState(!1);return r.jsxs(L,{defaultExpanded:!1,disableGutters:!0,children:[r.jsx(O,{expandIcon:r.jsx(_,{}),children:"Default Where"}),r.jsxs(N,{children:[r.jsxs(P,{fullWidth:!0,children:[r.jsx(p.Suspense,{children:r.jsx(z,{code:e.setup.defaultWhere??"",setCode:n=>{},dialogTitle:"Custom Glyph",extension:"sql",isReadOnly:!0})}),r.jsxs(s,{sx:{position:"relative"},children:[r.jsxs(s,{sx:{position:"absolute",top:0,right:"15px",textAlign:"right",...m&&{width:"100%"}},children:[r.jsx(R,{title:"SQL Query",placement:"bottom-end",children:r.jsx(T,{href:"#",onClick:()=>{j(!m)},children:r.jsx(s,{sx:{lineHeight:"24px","& svg":{width:"15px",height:"15px",verticalAlign:"text-bottom"}},children:r.jsx(w,{})})})}),m&&r.jsx(s,{sx:{textAlign:"left",backgroundColor:"#fff",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",padding:"20px",margin:"2px -15px 0 15px",maxHeight:"220px",overflow:"auto"},component:"pre",children:r.jsx(E,{html:h+(e.setup.defaultWhere.toLowerCase().trim().substring(0,5)==="where"||e.setup.defaultWhere.trim()===""?"":"where ")+e.setup.defaultWhere.replace(`
`,"<br/>")})})]}),r.jsx(k,{})]})]}),r.jsx(y,{})]})]})},Rr=({appId:t})=>{l.debug(t);const e=g(t);return r.jsxs(r.Fragment,{children:[r.jsx(b,{appId:t,mapSettings:e}),r.jsx(S,{appId:t,mapSettings:e}),r.jsx(M,{appId:t,mapSettings:e}),r.jsx(A,{appId:t,mapSettings:e}),r.jsx(B,{appId:t,mapSettings:e})]})};export{Rr as default};
