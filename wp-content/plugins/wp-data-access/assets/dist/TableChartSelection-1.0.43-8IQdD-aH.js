import{j as r}from"./cm-1.0.43-BIThoEwM.js";import{r as d}from"./redux-1.0.43-X9ShETON.js";import{v as j,w as y}from"./index-1.0.43-CvTha0tS.js";import{u as M}from"./useTableColumnOrder-1.0.43-5WBDSDKj.js";import{a as T}from"./hooks-1.0.43-Bzf6s8gj.js";import{a as A}from"./useChartSettings-1.0.43-CyXaF5Yk.js";import{a2 as v}from"./lib-1.0.43-GM4CAPbj.js";import{M as I}from"./lang-1.0.43-B1WmIuB6.js";import{a as F}from"./useRemoveAppFromStore-1.0.43-BZ2w6e3F.js";import{B as x}from"./Spinner-1.0.43-YmZqinVQ.js";import{F as L}from"./FormHelperText-1.0.43-BbvxPfFT.js";import{I as S,T as B}from"./TextField-1.0.43-DsZQBbKY.js";import{S as O}from"./Select-1.0.43-CISjJoqC.js";import{M as P}from"./MenuItem-1.0.43-Uicrp-o6.js";import{T as k}from"./Tooltip-1.0.43-Dw3sfo8K.js";import{I as w}from"./iconBase-1.0.43-BkINToSh.js";import{A as _}from"./Autocomplete-1.0.43-C-3GGJwT.js";import{C as E}from"./Chip-1.0.43-Ci13k7gB.js";const ro=({appId:n,metaData:a,tableStore:g,setUpdateStatus:p})=>{const f=T(),e=A(n),c=M(n),h=d.useMemo(()=>{const o=[];return c.map(t=>{var l;const s=(l=a==null?void 0:a.columns)==null?void 0:l.findIndex(u=>u.column_name===t);if(s!==-1)switch(a.columns[s].data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":o.push({columnName:t,dataType:"number"});break}}),o},[c]);F(n);const C=d.useMemo(()=>I,[]),m=o=>{f(v({appId:n,property:o})),p&&p(!0)},i=o=>{const t=g.columns.filter(s=>s.columnName===o);return t.length===1?t[0].columnLabel:o};return r.jsxs(r.Fragment,{children:[r.jsxs(x,{sx:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center"},children:[r.jsx(x,{sx:{marginRight:"12px"},children:r.jsxs(L,{fullWidth:!0,sx:{marginTop:"5px"},children:[r.jsx(S,{variant:"outlined",children:"Major Axis"}),r.jsx(O,{label:"Major Axis",variant:"outlined",value:e==null?void 0:e.majorAxisColumn,onChange:o=>{m({majorAxisColumn:o.target.value??""}),o.stopPropagation()},className:"pp-chart-category-column",sx:{"&.pp-chart-category-column .MuiSelect-select, &.pp-chart-category-column input":{padding:"16.5px 14px"}},children:c.map(function(o){if(i(o)!=="")return r.jsx(P,{"data-id":"ppChartCategoryColumn",value:o,children:i(o)},o)})})]})}),r.jsx(k,{title:C.groupedBy,children:r.jsx(w,{color:"primary",onClick:o=>{m({grouped:!e.grouped}),o.stopPropagation()},children:e.grouped?r.jsx(j,{}):r.jsx(y,{})})})]}),r.jsx(_,{multiple:!0,options:h.map(o=>o.columnName),getOptionLabel:o=>i(o),value:e.minorAxisColumns,disableCloseOnSelect:!0,onChange:(o,t)=>{m({minorAxisColumns:t}),o.stopPropagation()},renderInput:o=>r.jsx(B,{...o,label:"Minor Axis",variant:"outlined"}),renderTags:(o,t)=>o.map((s,l)=>{const{key:u,...b}=t({index:l});return r.jsx(E,{variant:"outlined",label:i(s),...b},u)}),className:"pp-chart-category-column",sx:{"&.pp-chart-category-column .MuiInputBase-root":{backgroundColor:"transparent"}}})]})};export{ro as T};
