import{j as o}from"./cm-1.0.43-BIThoEwM.js";import{r as v}from"./redux-1.0.43-X9ShETON.js";import{C as D}from"./ChartTypeSelection-1.0.43-CRXnDC8e.js";import{a as C}from"./hooks-1.0.43-Bzf6s8gj.js";import{a2 as j,r as L}from"./lib-1.0.43-GM4CAPbj.js";import{q as P,M as R,A as B}from"./index-1.0.43-Br_nYvvF.js";import{F as T}from"./FormHelperText-1.0.43-BbvxPfFT.js";import{F as h}from"./FormControlLabel-1.0.43-DhLqIzQC.js";import{S as w}from"./Switch-1.0.43-DUXi6nEm.js";import{D as A,C as F,a as M,b as O,c as N,d as H}from"./DefaultChartColors-1.0.43-CyAz9FvT.js";import{a as W}from"./useChartSettings-1.0.43-CyXaF5Yk.js";import{u as _}from"./useStoreTable-1.0.43-L56KWd1n.js";import{B as u}from"./Spinner-1.0.43-YmZqinVQ.js";import{I as k}from"./iconBase-1.0.43-BkINToSh.js";import{C as z,a as E}from"./CardContent-1.0.43-B1eq8QmP.js";import{C as V}from"./CardHeader-1.0.43-Cj6GRAA3.js";import{T as q,a as f}from"./TabPanel-1.0.43-BFjnBi0G.js";import{T as G}from"./TabList-1.0.43-wevj3JyD.js";import{T as b}from"./Tabs-1.0.43-C3a4iH_4.js";import"./vendor-1.0.43-CN03Eozo.js";import"./ChartTypes-1.0.43-BiOBEYwy.js";import"./index-1.0.43-CvTha0tS.js";import"./TextField-1.0.43-DsZQBbKY.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./Select-1.0.43-CISjJoqC.js";import"./Menu-1.0.43-TbmZ3Ge2.js";import"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./utils-1.0.43-iop7lDec.js";import"./useControlled-1.0.43-DObA-A1B.js";import"./useFormControl-1.0.43-D7bmEJOO.js";import"./createSvgIcon-1.0.43-C8_lU5Lv.js";import"./FormLabel-1.0.43-DuYrsDLO.js";import"./MenuItem-1.0.43-Uicrp-o6.js";import"./ListItemIcon-1.0.43-BCRBmmI9.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./moment-1.0.43-C5S46NFB.js";import"./notistack-1.0.43-CFZ1B9cW.js";import"./SwitchBase-1.0.43-jxlYBoq8.js";import"./ToggleButtonGroup-1.0.43-y6Kkgg0C.js";import"./RadioGroup-1.0.43-USnV9oxc.js";import"./Radio-1.0.43-GAuAP3gY.js";import"./Slider-1.0.43-DwDICOHK.js";import"./visuallyHidden-1.0.43-Dan1xhjv.js";import"./Divider-1.0.43-BNePHRrN.js";import"./InputAdornment-1.0.43-9P5bF1dN.js";import"./useRemoveAppFromStore-1.0.43-BZ2w6e3F.js";import"./lang-1.0.43-B1WmIuB6.js";import"./useThemeProps-1.0.43-C5lTKcwO.js";import"./getThemeProps-1.0.43-5uxEwZ_e.js";const K=({appId:s,chartSettings:e})=>{var i;const m=C();return o.jsx(T,{fullWidth:!0,children:o.jsx(h,{control:o.jsx(w,{checked:((i=e==null?void 0:e.options)==null?void 0:i.isStacked)??!1,disabled:((e==null?void 0:e.chartType)??"")!==""&&((e==null?void 0:e.chartType)??"")!=="BarChart"&&((e==null?void 0:e.chartType)??"")!=="ColumnChart"&&((e==null?void 0:e.chartType)??"")!=="Histogram"&&((e==null?void 0:e.chartType)??"")!=="AreaChart",onChange:r=>{var n;const l={...e.options};l.isStacked=!(((n=e==null?void 0:e.options)==null?void 0:n.isStacked)??!1),m(j({appId:s,property:{options:l}})),r.stopPropagation()}}),label:"Stacked"})})},U=({appId:s,chartSettings:e})=>{var i;const m=C();return o.jsx(T,{fullWidth:!0,children:o.jsx(h,{control:o.jsx(w,{checked:((i=e==null?void 0:e.options)==null?void 0:i.is3D)??!1,disabled:((e==null?void 0:e.chartType)??"")!=="PieChart",onChange:r=>{var n;const l={...e.options};l.is3D=!(((n=e==null?void 0:e.options)==null?void 0:n.is3D)??!1),m(j({appId:s,property:{options:l}})),r.stopPropagation()}}),label:"3D"})})},J=({appId:s,chartSettings:e})=>{var i;const m=C();return o.jsx(T,{fullWidth:!0,children:o.jsx(h,{control:o.jsx(w,{checked:((i=e==null?void 0:e.options)==null?void 0:i.showRowNumber)??!1,disabled:((e==null?void 0:e.chartType)??"")!=="Table",onChange:r=>{var n;const l={...e.options};l.showRowNumber=!(((n=e==null?void 0:e.options)==null?void 0:n.showRowNumber)??!0),m(j({appId:s,property:{options:l}})),r.stopPropagation()}}),label:"Row#"})})},Q=({appId:s,chartSettings:e})=>{var x;const m=C(),[i,r]=v.useState(((x=e==null?void 0:e.options)==null?void 0:x.colors)??e.minorAxisColumns.map((a,p)=>A[p]!==void 0?A[p]:"#fff")),l=_(s),n=a=>{var t;if(l===void 0)return a;const p=l.columns.filter(d=>d.columnName===a);return p.length===1?((t=p[0])==null?void 0:t.columnLabel)??a:a},y=a=>{m(j({appId:s,property:{options:a}}))};return o.jsxs("fieldset",{className:"pp-fieldset",children:[o.jsx("legend",{style:{textAlign:"left"},children:"Colors"}),o.jsxs(u,{sx:{position:"relative"},children:[o.jsxs(u,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"start",alignItems:"center",columnGap:"10px"},children:[...e.minorAxisColumns.map((a,p)=>{const t=n(a);return o.jsxs(o.Fragment,{children:[o.jsx("span",{style:{textAlign:"right"},children:t}),o.jsx("input",{type:"color",value:i[p],onChange:d=>{const c=[...i];c[p]=d.target.value,r(c),d.stopPropagation()},style:{width:"30px",height:"35px",margin:0,padding:0,border:"none",WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"transparent",cursor:"pointer"}})]})})]}),o.jsx(u,{sx:{position:"absolute",top:"-5px",right:0},children:o.jsx(k,{color:"primary",onClick:a=>{const p=L(e.options);p.colors=i,y(p),a.stopPropagation()},children:o.jsx(P,{})})})]})]})},Jo=({appId:s,setShowSelection:e,isTableChart:m})=>{var a;const i=C(),r=W(s),[l,n]=v.useState("1"),y=(p,t)=>{n(t)},x=p=>{const{children:t,tab:d,value:c}=p;return d===c?o.jsx(u,{sx:{padding:0,textAlign:"center",marginTop:"5px",display:"grid",gap:"1em"},children:t}):null};return o.jsxs(z,{sx:{position:"absolute",top:0,right:0,width:"400px",zIndex:9999999,boxShadow:"0 10px 16px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.19)"},children:[o.jsx(V,{title:o.jsxs(u,{sx:{display:"grid",gridTemplateColumns:"50px 1fr 50px",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{}),o.jsx("span",{children:"Chart Settings"}),o.jsx("span",{style:{textAlign:"right"},children:o.jsx(k,{color:"primary",onClick:()=>e(!1),children:o.jsx(R,{})})})]}),sx:{textAlign:"center"}}),o.jsx(E,{sx:{padding:0,"&:last-child":{paddingBottom:0}},children:o.jsxs(q,{value:l,children:[o.jsx(B,{position:"relative",sx:{boxShadow:"none",borderRadius:0,"& .MuiTabs-flexContainer":{justifyContent:"center"},"& button":{color:"white"},"& button.Mui-selected":{color:"white"}},children:o.jsxs(G,{onChange:y,children:[o.jsx(b,{label:"Chart",value:"1"}),o.jsx(b,{label:"Info",value:"2"}),o.jsx(b,{label:"Axis",value:"3"}),o.jsx(b,{label:"Area",value:"4"})]})}),o.jsx(f,{value:"1",children:o.jsxs(x,{tab:l,value:"1",children:[o.jsx(D,{isTableChart:m,chartType:(r==null?void 0:r.chartType)??"BarChart",setChartType:p=>{i(j({appId:s,property:{chartType:p}}))},chartTypes:(r==null?void 0:r.chartTypes)??[]}),o.jsxs("fieldset",{className:"pp-fieldset",style:{display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"space-between",alignItems:"center",padding:"5px 15px"},children:[o.jsx(K,{appId:s,chartSettings:r}),o.jsx(U,{appId:s,chartSettings:r}),o.jsx(J,{appId:s,chartSettings:r})]})]})}),o.jsx(f,{value:"2",children:o.jsxs(x,{tab:l,value:"2",children:[o.jsx(F,{appId:s,chartSettings:r,titleKey:"title",titleDefaultValue:((a=r==null?void 0:r.options)==null?void 0:a.title)??"",titleLabel:"Chart Title"}),o.jsx(M,{appId:s,chartSettings:r}),o.jsx(Q,{appId:s,chartSettings:r})]})}),o.jsx(f,{value:"3",children:o.jsxs(x,{tab:l,value:"3",children:[o.jsx(O,{appId:s,chartSettings:r}),o.jsx(N,{appId:s,chartSettings:r})]})}),o.jsx(f,{value:"4",children:o.jsx(x,{tab:l,value:"4",children:o.jsx(H,{appId:s,chartSettings:r})})})]})})]})};export{Jo as default};
