import{j as p}from"./cm-1.0.43-BIThoEwM.js";import{l as i,bk as c,bl as g,bm as A}from"./lib-1.0.43-GM4CAPbj.js";import{r as a}from"./redux-1.0.43-X9ShETON.js";import{A as C,u as h}from"./AppTheme-1.0.43-C6ZTpO5w.js";import{u as w}from"./useTableSettings-1.0.43-CCERpAbi.js";import{u as x}from"./useStoreFormSettings-1.0.43-FA6xRyVh.js";import{u as F}from"./useMetadata-1.0.43-5v27HTeK.js";import{u as S}from"./useGlobalCode-1.0.43-CT9g-lUD.js";import{u as j}from"./useAppFunctions-1.0.43-CiC-p3-f.js";import{T as M}from"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./vendor-1.0.43-CN03Eozo.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./moment-1.0.43-C5S46NFB.js";import"./index-1.0.43-C6_8mZyP.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./getThemeProps-1.0.43-5uxEwZ_e.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./hooks-1.0.43-Bzf6s8gj.js";const U=({appId:o,children:d})=>{i.debug(o);const b=w(o),E=x(),T=h(),s=F(o);let n;s.appRootId===void 0&&(n=C(T,b,E));const t=S(),u=`pp-global-code-${o}`,{app:f}=j(o);return a.useEffect(()=>{var e,r;i.debug("open app",(e=t.onAppOpen)==null?void 0:e.code),c(((r=t.onAppOpen)==null?void 0:r.code)??"",g(s),!1,{app:f})},[]),a.useEffect(()=>()=>{var e;i.debug("close app"),c(((e=t.onAppClose)==null?void 0:e.code)??"",g(s),!1,{app:f})},[]),a.useEffect(()=>{var e,r,l;if(t!==void 0&&A(s)){(e=window.document.getElementById(u))==null||e.remove();const m=window.document.createElement("script");m.id=u,m.innerHTML=((r=t.global)==null?void 0:r.code)??"",(l=window.document.getElementById(`pp-app-${o}`))==null||l.appendChild(m)}},[t]),n!==void 0?p.jsx(M,{theme:n,children:d}):p.jsx(p.Fragment,{children:d})};export{U as default};
