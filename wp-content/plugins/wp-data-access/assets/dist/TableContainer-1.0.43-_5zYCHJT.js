const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableQuery-1.0.43-DsYp_fFW.js","./main-1.0.43.js","./cm-1.0.43-BIThoEwM.js","./redux-1.0.43-X9ShETON.js","./vendor-1.0.43-CN03Eozo.js","./lib-1.0.43-GM4CAPbj.js","./loglevel-1.0.43-BZ7XahX3.js","./lodash-1.0.43-BGoSrRk7.js","./moment-1.0.43-C5S46NFB.js","./useStoreTable-1.0.43-L56KWd1n.js","./hooks-1.0.43-Bzf6s8gj.js","./notistack-1.0.43-CFZ1B9cW.js","./index-1.0.43-D62bof4B.js","./index-1.0.43-Br_nYvvF.js","./iconBase-1.0.43-BkINToSh.js","./Typography-1.0.43-CjHjtdZs.js","./useEnhancedEffect-1.0.43-DcXwKdLb.js","./Tooltip-1.0.43-dEMLW8-v.js","./Tooltip-1.0.43--D4jr2go.css","./SanitizeComponent-1.0.43-DS8pdFaO.js","./dompurify-1.0.43-DhD2mIk-.js","./index-1.0.43-CvTha0tS.js","./useAppFunctions-1.0.43-CiC-p3-f.js","./useMetadata-1.0.43-5v27HTeK.js","./tanstack-1.0.43-B1O1sUTh.js","./index.esm-1.0.43-B1V1l_dh.js","./createSvgIcon-1.0.43-C8_lU5Lv.js","./index-1.0.43-C6_8mZyP.js","./getThemeProps-1.0.43-5uxEwZ_e.js","./Stack-1.0.43-Bz9AkBaK.js","./useThemeProps-1.0.43-C5lTKcwO.js","./Tooltip-1.0.43-Dw3sfo8K.js","./ThemeProvider-1.0.43-BdkGbeAu.js","./useControlled-1.0.43-DObA-A1B.js","./Popper-1.0.43-8Yb3KIgh.js","./Spinner-1.0.43-YmZqinVQ.js","./Radio-1.0.43-GAuAP3gY.js","./SwitchBase-1.0.43-jxlYBoq8.js","./useFormControl-1.0.43-D7bmEJOO.js","./Checkbox-1.0.43-C_H-ygma.js","./ConfirmDialog-1.0.43-HyVPTU5U.js","./AdminTheme-1.0.43-CqjS-p3h.js","./Menu-1.0.43-TbmZ3Ge2.js","./Chip-1.0.43-Ci13k7gB.js","./Collapse-1.0.43-CtSvLI94.js","./AlertTitle-1.0.43-CmdM_nv2.js","./Close-1.0.43-DZEA4jNx.js","./TextField-1.0.43-DsZQBbKY.js","./Select-1.0.43-CISjJoqC.js","./utils-1.0.43-iop7lDec.js","./FormLabel-1.0.43-DuYrsDLO.js","./FormHelperText-1.0.43-BbvxPfFT.js","./InputAdornment-1.0.43-9P5bF1dN.js","./MenuItem-1.0.43-Uicrp-o6.js","./TableRow-1.0.43-PHyz2C67.js","./ListItemIcon-1.0.43-BCRBmmI9.js","./TableHead-1.0.43-DimterWj.js","./Divider-1.0.43-BNePHRrN.js","./FormControlLabel-1.0.43-DhLqIzQC.js","./Switch-1.0.43-DUXi6nEm.js","./Autocomplete-1.0.43-C-3GGJwT.js","./Slider-1.0.43-DwDICOHK.js","./visuallyHidden-1.0.43-Dan1xhjv.js","./TimePicker-1.0.43-ykLKdyjf.js","./useMobilePicker-1.0.43-wKjIFMVp.js","./index-1.0.43-DTrIm2Pv.js","./ListItem-1.0.43-Bg1FR-64.js","./timeViewRenderers-1.0.43-BWypgxuk.js","./DateTimePicker-1.0.43-MatMNCyw.js","./Tabs-1.0.43-C3a4iH_4.js","./dateViewRenderers-1.0.43-X8xYeo7E.js","./DatePicker-1.0.43-12Z9ZRmK.js","./lang-1.0.43-B1WmIuB6.js","./RestApi-1.0.43-DDknciaN.js","./tab-1.0.43-6bV41ZmB.js","./useRemoveAppFromStore-1.0.43-BZ2w6e3F.js","./SharedContainer-1.0.43-tDTKa5Wc.js","./ActionsDml-1.0.43-CZ8W9C-X.js","./useChartSettings-1.0.43-CyXaF5Yk.js","./useStoreFormSettings-1.0.43-FA6xRyVh.js","./useFormDetails-1.0.43-D5LxUh_w.js","./DynamicModeEnum-1.0.43-BXuL5kgA.js","./AppTheme-1.0.43-C6ZTpO5w.js","./useScreenSize-1.0.43-BkaemLwA.js","./dayjs.min-1.0.43-B1axidXt.js","./FallbackSpinner-1.0.43-SRqLbyxS.js","./AlertDialog-1.0.43-Der7jh53.js","./SharedContainer-1.0.43-DR7D6eET.css","./math-1.0.43-BQt3B2Pe.js","./AggregationLabelsEnum-1.0.43-B-3lhjpJ.js","./useTableCode-1.0.43-DjIQp3xS.js","./useTableColumnOrder-1.0.43-5WBDSDKj.js","./TableQuery-1.0.43-YHXdb7Qm.css","./SettingsTable-1.0.43-vZUOViYX.js","./useTableUpdater-1.0.43-C8DXp04q.js","./AccordionSummary-1.0.43-CNpHbZtu.js","./AccordionDetails-1.0.43-C8u8mZhB.js","./RadioGroup-1.0.43-USnV9oxc.js","./Link-1.0.43-CsQWhuI0.js","./CssUnitTextField-1.0.43-9DAGquvf.js","./DefaultWhere-1.0.43-Drctlfv9.js","./PremiumFeature-1.0.43-BD8gtQwD.js","./ToggleButtonGroup-1.0.43-y6Kkgg0C.js","./SettingsFormRelationships-1.0.43-DnoJFs1c.js","./ComponentColumn-1.0.43-D990A9j6.js","./ActionsExplorer-1.0.43-BvdT5anO.js","./ActionsApp-1.0.43-BtCNZ6dp.js","./useApp-1.0.43-trge1ckI.js","./useFormUpdater-1.0.43-Bm7_S2c3.js","./Stepper-1.0.43-D51mbVNg.js","./StepContent-1.0.43-DA0As2PG.js","./SettingsColumns-1.0.43-lbK2Zl7R.js","./useMetadataColumns-1.0.43-VUP1ysVj.js","./index-1.0.43-CEsXajp3.js","./SettingsCharts-1.0.43-lwWMNz_A.js","./TableChartSelection-1.0.43-8IQdD-aH.js","./settings-1.0.43-kDKJ-WYT.js","./settings-1.0.43-Bx2jvYL6.css","./SettingsMaps-1.0.43-DwaoIOx_.js","./MapsApiKey-1.0.43-kgtkXZS9.js","./SettingsMapMarkers-1.0.43-Car8AF3W.js","./useMapUpdater-1.0.43-CWbe2ro7.js","./react-number-format.es-1.0.43-Dn0EVwh2.js","./SettingsTableCode-1.0.43-Bhd-fqS4.js","./index-1.0.43-DuBV8iHb.js","./useGlobalCode-1.0.43-CT9g-lUD.js","./SettingsTableGlobalCode-1.0.43-CpFPaRM-.js","./index-1.0.43-Lwi8RVeB.js","./TreeItem2Provider-1.0.43-C2Ft9Foa.js","./index-1.0.43-Crrt7rhH.js","./ctc-1.0.43-C-ZXureb.js","./ResizableDrawer-1.0.43-D8-qENhC.js","./ThemeSettings-1.0.43-BlzBVnbW.js"])))=>i.map(i=>d[i]);
import{j as e}from"./cm-1.0.43-BIThoEwM.js";import{r as o}from"./redux-1.0.43-X9ShETON.js";import{A as R,a as J}from"./AdminTheme-1.0.43-CqjS-p3h.js";import{l as i,aW as j,S as u,a0 as T,a1 as X,b as Y,bH as Z,s as $,bI as ee,bJ as te,a4 as se,a as _,c as M,Z as oe}from"./lib-1.0.43-GM4CAPbj.js";import{_ as a}from"./main-1.0.43.js";import{Q as re,a as ne}from"./tanstack-1.0.43-B1O1sUTh.js";import{F as ie}from"./FallbackSpinner-1.0.43-SRqLbyxS.js";import{u as F,a as le}from"./hooks-1.0.43-Bzf6s8gj.js";import{d as ae}from"./ActionsSettings-1.0.43-DMMuBz79.js";import{T as C}from"./Tooltip-1.0.43-dEMLW8-v.js";import{S as ce}from"./ScopeEnum-1.0.43-B4DDvIDj.js";import{h as me,k as ue,l as de,g as be,f as he}from"./index-1.0.43-Lwi8RVeB.js";import{A as xe,T as ge,M as pe,d as Se}from"./index-1.0.43-Br_nYvvF.js";import{e as x}from"./notistack-1.0.43-CFZ1B9cW.js";import{B as fe,a as je,b as Te}from"./settings-1.0.43-kDKJ-WYT.js";import{B as k,C as _e}from"./ConfirmDialog-1.0.43-HyVPTU5U.js";import{B as Ce,S as d}from"./Spinner-1.0.43-YmZqinVQ.js";import{u as ke}from"./useTableUpdater-1.0.43-C8DXp04q.js";import{D as ve}from"./DynamicModeEnum-1.0.43-BXuL5kgA.js";import{C as Ee}from"./useFormDetails-1.0.43-D5LxUh_w.js";import{T as Be}from"./Typography-1.0.43-CjHjtdZs.js";import{I as v}from"./iconBase-1.0.43-BkINToSh.js";import{C as V,a as w}from"./CardContent-1.0.43-B1eq8QmP.js";import{T as ye,a as b}from"./TabPanel-1.0.43-BFjnBi0G.js";import{T as Ae}from"./ThemeProvider-1.0.43-BdkGbeAu.js";const Le=o.lazy(()=>a(()=>import("./TableQuery-1.0.43-DsYp_fFW.js").then(t=>t.T),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92]),import.meta.url)),ze=({appId:t,display:r,refresh:n,metaData:c,showForm:l})=>{i.debug(t,r,n);const m=new re;return e.jsx(ne,{client:m,children:e.jsx(o.Suspense,{fallback:e.jsx(ie,{}),children:e.jsx(Le,{appId:t,display:r,refresh:n,showForm:l,metaData:c})})})},De=t=>{const r=F(n=>n.ui.tableSettings.isOpen&&n.ui.tableSettings.appId===t);return i.debug("tableSettingsVisible",r),r},Oe=()=>{const t=F(r=>r.ui.tableSettings.hideThemeSettings);return i.debug("hideThemeSetting",t),t},Pe=o.lazy(()=>a(()=>import("./SettingsTable-1.0.43-vZUOViYX.js"),__vite__mapDeps([93,2,3,4,5,6,7,8,10,9,13,14,15,16,11,94,95,33,44,96,35,51,49,38,97,36,37,26,58,59,98,50,99,47,48,42,32,40,41,1,100,19,20,31,34,21,53,76,77,73,23,78,75,72,79,80,81,82,27,28,22,83,84,85,86,87,101,102,66,43,103,104,105,60,46,106,39,107,108,109,110]),import.meta.url)),Re=o.lazy(()=>a(()=>import("./SettingsColumns-1.0.43-lbK2Zl7R.js"),__vite__mapDeps([111,2,3,4,112,13,14,15,5,6,7,8,16,11,81,9,10,76,1,35,41,77,73,23,78,75,72,79,80,82,27,28,22,83,40,20,84,32,85,86,19,31,33,34,87,113,21,48,42,49,38,26,53,100,51,98,94,109,110,44,58,39,37,47,50,95,96,59,17,18,61,62,101,89,60,46,43,91]),import.meta.url)),Me=o.lazy(()=>a(()=>import("./SettingsCharts-1.0.43-lwWMNz_A.js"),__vite__mapDeps([114,1,2,3,4,5,6,7,8,9,10,94,115,21,14,15,16,91,78,75,72,35,51,49,38,47,48,42,32,13,11,33,26,50,53,31,34,60,46,43,23,116,40,41,117,101,95,44,96,58,59,37,102]),import.meta.url)),Ve=o.lazy(()=>a(()=>import("./SettingsMaps-1.0.43-DwaoIOx_.js"),__vite__mapDeps([118,2,3,4,5,6,7,8,9,10,94,23,116,14,15,16,13,11,35,40,41,42,32,53,117,101,21,50,38,119,51,49,47,48,33,26,98,107,95,44,96,58,59,37,102,120,121,99,97,36,61,62,1,122]),import.meta.url)),we=o.lazy(()=>a(()=>import("./SettingsTableCode-1.0.43-Bhd-fqS4.js"),__vite__mapDeps([123,2,3,4,124,65,40,14,15,5,6,7,8,16,41,13,11,10,125,90,94,101,21,50,38,126,127,35,31,32,33,34,128,30,28,26,39,37,44,23,129,130,95,42]),import.meta.url)),Fe=o.lazy(()=>a(()=>import("./ResizableDrawer-1.0.43-D8-qENhC.js"),__vite__mapDeps([131,2,3,4,83,5,6,7,8,10,15,32,16,14,13,11,42]),import.meta.url)),Ne=o.lazy(()=>a(()=>import("./ThemeSettings-1.0.43-BlzBVnbW.js"),__vite__mapDeps([132,2,3,4,10,5,6,7,8,82,27,15,28,16,101,21,14,41,50,38,13,11,12,35,51,49,59,37,33,29,30,61,32,62,42,58,98,97,36,26,99,47,48,40,81,95,44,96]),import.meta.url)),Ue=({appId:t,metaData:r})=>{var D,O;i.debug(t,r);const n=le(),c=Oe();Ee();const l=ke(t),[m,g]=o.useState(j.getSelectors().selectTableById(u.getState().tables,t));i.debug(m);const[E,N]=o.useState(T.getSelectors().selectChart(u.getState().charts,t));i.debug(E);const[U,Ge]=o.useState(X.getSelectors().selectThemeById(u.getState().themes,t));i.debug(U);const[H,B]=o.useState(!1),y=()=>j.getSelectors().selectTableIsUpdated(u.getState().tables,t),p=s=>{l(s)},G=((D=R)==null?void 0:D.palette.mode)===Y.LIGHT?(O=R)==null?void 0:O.palette.primary.main:"",A=s=>{n($({anchor:s}))},L=()=>{n(te({appId:t,tableState:m}));const s=T.getSelectors().selectChart(u.getState().charts,t),W=(s==null?void 0:s.data)!==void 0?[...s==null?void 0:s.data]:[],P={...E};P.data=[...W],n(se({appId:t,chartState:P}))},h=()=>{n(ee()),p(!1)},S=()=>{y()?B(!0):(L(),h())},f=()=>{ae(t,ce.GLOBAL,s=>{if(i.debug(s),s!=null&&s.code&&(s==null?void 0:s.message)!==void 0)switch(s.code){case"ok":g(j.getSelectors().selectTableById(u.getState().tables,t)),N(T.getSelectors().selectChart(u.getState().charts,t)),x(s.message,{variant:"success"});break;case"info":x(s.message,{variant:"info"});break;default:i.error(s),x(s.message??_.contactSupport,{variant:"error"})}else i.error(s),x(_.contactSupport,{variant:"error"})},s=>{i.error("error",s),x(s??_.contactSupport,{variant:"error"})}),p(!1)},Q=()=>{y()?(f(),setTimeout(()=>{h()},1e3)):h()},q=De(t),[z,I]=o.useState(0),K=o.useMemo(()=>{const s=[{title:"Table",icon:e.jsx(me,{})},{title:"Columns",icon:e.jsx(ue,{})},{title:"Maps",icon:e.jsx(Se,{})},{title:"Charts",icon:e.jsx(de,{})},{title:"Hooks",icon:e.jsx(be,{})},{title:"Theme",icon:e.jsx(he,{})}];return Z(r)?s.splice(0,2):c?s.splice(0,5):s},[c]);return e.jsx(e.Fragment,{children:q&&e.jsxs(e.Fragment,{children:[e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsxs(Fe,{closeDrawer:S,children:[e.jsxs(xe,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(ge,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(Be,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,paddingLeft:"6px"},children:"Table Builder"}),e.jsx(C,{title:"Dock to left",position:"bottom",children:e.jsx(v,{onClick:()=>{A(M.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(fe,{})})}),e.jsx(C,{title:"Dock to right",position:"bottom",children:e.jsx(v,{onClick:()=>{A(M.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(je,{})})}),e.jsx(C,{title:"Close",position:"bottom",children:e.jsx(v,{onClick:S,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(pe,{})})})]}),e.jsx(Te,{menuItems:K,menuIndex:z,setMenu:I})]}),e.jsx(V,{className:"pp-settings-container",children:e.jsx(w,{sx:{padding:0,margin:0},children:e.jsx(ye,{value:z,children:e.jsxs(Ce,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(b,{value:0,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(Pe,{appId:t,metaData:r})})}),e.jsx(b,{value:1,className:"pp-column-settings-container",children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(Re,{appId:t,metaData:r})})}),e.jsx(b,{value:2,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(Ve,{appId:t})})}),e.jsx(b,{value:3,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(Me,{appId:t})})}),e.jsx(b,{value:4,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(we,{appId:t,tableSettings:m,buttonEditorOk:f})})}),c!==!0&&e.jsx(b,{value:5,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(Ne,{appId:t,source:ve.TABLE,setIsUpdated:p})})})]})})})}),e.jsx(V,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:G},children:e.jsxs(w,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(k,{variant:"outlined",className:"footer_action_button_apply",onClick:f,children:"Apply"}),e.jsx(k,{variant:"outlined",className:"footer_action_button",onClick:Q,children:"OK"}),e.jsx(k,{variant:"outlined",className:"footer_action_button",onClick:S,children:"Cancel"})]})})]})}),e.jsx(_e,{title:"Close Table Builder?",message:"All uncommitted changes will be lost!",open:H,setOpen:B,onConfirm:()=>{L(),h()},onKeep:()=>{h()}})]})})},He=({appId:t,display:r,refresh:n,showForm:c,metaData:l})=>{i.debug(t,r,n);const m=o.useMemo(()=>oe(l),[l]),g=o.useMemo(()=>J(),[]);return e.jsxs(e.Fragment,{children:[e.jsx(ze,{appId:t,display:r,refresh:n,showForm:c,metaData:l}),m&&e.jsx(Ae,{theme:g,children:e.jsx(Ue,{appId:t,metaData:l})})]})},xt=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"}));export{xt as T,De as u};
