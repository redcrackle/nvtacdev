const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.43-DLcestPu.js","./cm-1.0.43-BIThoEwM.js","./redux-1.0.43-X9ShETON.js","./vendor-1.0.43-CN03Eozo.js","./lib-1.0.43-GM4CAPbj.js","./loglevel-1.0.43-BZ7XahX3.js","./lodash-1.0.43-BGoSrRk7.js","./moment-1.0.43-C5S46NFB.js","./TextField-1.0.43-DsZQBbKY.js","./Typography-1.0.43-CjHjtdZs.js","./iconBase-1.0.43-BkINToSh.js","./useEnhancedEffect-1.0.43-DcXwKdLb.js","./Select-1.0.43-CISjJoqC.js","./Menu-1.0.43-TbmZ3Ge2.js","./ThemeProvider-1.0.43-BdkGbeAu.js","./index-1.0.43-Br_nYvvF.js","./notistack-1.0.43-CFZ1B9cW.js","./utils-1.0.43-iop7lDec.js","./useControlled-1.0.43-DObA-A1B.js","./useFormControl-1.0.43-D7bmEJOO.js","./createSvgIcon-1.0.43-C8_lU5Lv.js","./FormLabel-1.0.43-DuYrsDLO.js","./FormHelperText-1.0.43-BbvxPfFT.js","./FieldTextarea-1.0.43-hwQkWmzi.js","./FieldNumber-1.0.43-vlMlaehh.js","./react-number-format.es-1.0.43-Dn0EVwh2.js","./FieldSet-1.0.43-GvcApxfk.js","./MenuItem-1.0.43-Uicrp-o6.js","./FieldEnum-1.0.43-Dsxox37l.js","./EnumTypeEnum-1.0.43-Ws4BsaYD.js","./RadioGroup-1.0.43-USnV9oxc.js","./Radio-1.0.43-GAuAP3gY.js","./SwitchBase-1.0.43-jxlYBoq8.js","./FormControlLabel-1.0.43-DhLqIzQC.js","./FieldDate-1.0.43-BxQIIQlM.js","./hooks-1.0.43-Bzf6s8gj.js","./lang-1.0.43-B1WmIuB6.js","./dayjs.min-1.0.43-B1axidXt.js","./useMobilePicker-1.0.43-wKjIFMVp.js","./index-1.0.43-DTrIm2Pv.js","./ConfirmDialog-1.0.43-HyVPTU5U.js","./AdminTheme-1.0.43-CqjS-p3h.js","./useThemeProps-1.0.43-C5lTKcwO.js","./getThemeProps-1.0.43-5uxEwZ_e.js","./index-1.0.43-C6_8mZyP.js","./Popper-1.0.43-8Yb3KIgh.js","./InputAdornment-1.0.43-9P5bF1dN.js","./visuallyHidden-1.0.43-Dan1xhjv.js","./ListItem-1.0.43-Bg1FR-64.js","./Chip-1.0.43-Ci13k7gB.js","./AdapterDayjs-1.0.43-paeIPXvc.js","./DatePicker-1.0.43-12Z9ZRmK.js","./dateViewRenderers-1.0.43-X8xYeo7E.js","./FieldDatetime-1.0.43-By4Wd8XC.js","./DateTimePicker-1.0.43-MatMNCyw.js","./Tabs-1.0.43-C3a4iH_4.js","./timeViewRenderers-1.0.43-BWypgxuk.js","./Divider-1.0.43-BNePHRrN.js","./FieldTime-1.0.43-Dzz22ZAj.js","./TimePicker-1.0.43-ykLKdyjf.js","./FieldCheckbox-1.0.43-Dtm4-gE4.js","./Checkbox-1.0.43-C_H-ygma.js","./ColumnWpMedia-1.0.43-CJN2vJ8T.js","./index-1.0.43-CvTha0tS.js","./Spinner-1.0.43-YmZqinVQ.js","./ColumnHyperlink-1.0.43-DIKGA_Vp.js","./FieldDuration-1.0.43-BqJJSKaw.js"])))=>i.map(i=>d[i]);
import{_ as z}from"./main-1.0.43.js";import{j as d}from"./cm-1.0.43-BIThoEwM.js";import{r as e}from"./redux-1.0.43-X9ShETON.js";import{l as T,cv as o,o as Q,cw as I,cx as V,bo as X}from"./lib-1.0.43-GM4CAPbj.js";import{l as c}from"./ActionsDml-1.0.43-CZ8W9C-X.js";import{f as M,g as D,h as m,i as l}from"./SharedContainer-1.0.43-tDTKa5Wc.js";import{T as Y}from"./TargetEnum-1.0.43-CIW1jlU5.js";import{i as a}from"./index-1.0.43-D62bof4B.js";import{A as ii}from"./Autocomplete-1.0.43-C-3GGJwT.js";import{T as ri}from"./TextField-1.0.43-DsZQBbKY.js";import"./moment-1.0.43-C5S46NFB.js";import{u as si}from"./useAppFunctions-1.0.43-CiC-p3-f.js";import"./vendor-1.0.43-CN03Eozo.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./RestApi-1.0.43-DDknciaN.js";import"./hooks-1.0.43-Bzf6s8gj.js";import"./Spinner-1.0.43-YmZqinVQ.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./AdminTheme-1.0.43-CqjS-p3h.js";import"./useStoreTable-1.0.43-L56KWd1n.js";import"./notistack-1.0.43-CFZ1B9cW.js";import"./useMetadata-1.0.43-5v27HTeK.js";import"./useChartSettings-1.0.43-CyXaF5Yk.js";import"./useRemoveAppFromStore-1.0.43-BZ2w6e3F.js";import"./lang-1.0.43-B1WmIuB6.js";import"./index-1.0.43-Br_nYvvF.js";import"./iconBase-1.0.43-BkINToSh.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./useStoreFormSettings-1.0.43-FA6xRyVh.js";import"./useFormDetails-1.0.43-D5LxUh_w.js";import"./DynamicModeEnum-1.0.43-BXuL5kgA.js";import"./AppTheme-1.0.43-C6ZTpO5w.js";import"./index-1.0.43-C6_8mZyP.js";import"./getThemeProps-1.0.43-5uxEwZ_e.js";import"./useScreenSize-1.0.43-BkaemLwA.js";import"./ConfirmDialog-1.0.43-HyVPTU5U.js";import"./dompurify-1.0.43-DhD2mIk-.js";import"./dayjs.min-1.0.43-B1axidXt.js";import"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./FallbackSpinner-1.0.43-SRqLbyxS.js";import"./AlertDialog-1.0.43-Der7jh53.js";import"./SanitizeComponent-1.0.43-DS8pdFaO.js";import"./Tooltip-1.0.43-Dw3sfo8K.js";import"./useControlled-1.0.43-DObA-A1B.js";import"./Popper-1.0.43-8Yb3KIgh.js";import"./Select-1.0.43-CISjJoqC.js";import"./Menu-1.0.43-TbmZ3Ge2.js";import"./utils-1.0.43-iop7lDec.js";import"./useFormControl-1.0.43-D7bmEJOO.js";import"./createSvgIcon-1.0.43-C8_lU5Lv.js";import"./Close-1.0.43-DZEA4jNx.js";import"./Chip-1.0.43-Ci13k7gB.js";import"./FormLabel-1.0.43-DuYrsDLO.js";import"./FormHelperText-1.0.43-BbvxPfFT.js";const ei=(y,p)=>({}),pi=({appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,storeForm:k,formMode:j,locale:L,columnEvents:r})=>{var w,B;T.debug(y,p,f,x,_,i,h,s,k,j,L);const S=M(y),[b,F]=e.useState([]);T.debug("lov",b);const[P,W]=e.useState(!1),[Z,H]=e.useState(""),[E,$]=e.useState(Array.isArray((w=i.lookup)==null?void 0:w.dynamicConditions)?(B=i.lookup)==null?void 0:B.dynamicConditions.map(A=>({columnName:A.tableColumnName,columnValue:""})):[]);T.debug("conditions",E),e.useEffect(()=>{var A,R;Array.isArray((A=i.lookup)==null?void 0:A.dynamicConditions)&&((R=i.lookup)==null||R.dynamicConditions.map(u=>{S[u.tableColumnName]===void 0&&T.error("Invalid lookup: column "+u.tableColumnName+" in dynamic condition not found.")})),E.length===0&&U()},[i.lookup]),e.useEffect(()=>{var A,R;if(Object.keys(E).length>0){const u=Array.isArray((A=i.lookup)==null?void 0:A.dynamicConditions)?(R=i.lookup)==null?void 0:R.dynamicConditions.map(t=>({columnName:t.lookupColumnName,columnValue:S[t.tableColumnName]??""})):[];if(T.debug(u),!a(E,u)){const t={};u.length>0&&u.map(g=>{t[g.columnName]=g.columnValue}),T.debug("reloading dynamic lookup",p,u),U(t),$(u)}}},[S]);const U=(A={})=>{var R,u;c(y,(s==null?void 0:s.useRform)===!0?Y.RFORM:Y.FORM,p,((R=i.lookup)==null?void 0:R.key)??"",((u=i.lookup)==null?void 0:u.value)??"",A,{},t=>{var g,q,G;if(T.debug(t),(t==null?void 0:t.code)==="ok"){if(!((g=i.lookup)!=null&&g.value.includes(",")))F(t.data);else{const N=(q=i.lookup)==null?void 0:q.value.split(","),J=[];for(let K=0;K<t.data.length;K++){const v=N.map(n=>t.data[K][n]).join(((G=i.lookup)==null?void 0:G.delimiter)??"");J.push({key:t.data[K].key,value:v})}F(J)}W(!1),H("")}else W(!0),H(t.message),F([])},t=>{W(!0),H(t),F([])})},C=e.useMemo(()=>b.filter(A=>A.key===f)[0]??null,[f,b]);return d.jsx(ii,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:b,getOptionLabel:A=>Array.isArray(A.value)?Q(A.value[0]):Q(A.value),value:C,onChange:(A,R)=>{R!==null?O(p,R==null?void 0:R.key):O(p,null)},disabled:o(s,_,i,j),className:i.classNames,renderInput:A=>d.jsx(ri,{error:P,label:_.formLabel,required:_.is_nullable==="NO",...A,variant:V(),helperText:P?Z:I(i,L.selectEnum),disabled:j===X.VIEW||j===X.UPDATE&&(s.primary_key.includes(p)||i.updatable===!1),sx:{"& input":{textAlign:i.alignment}},onBlurCapture:r==null?void 0:r.onBlur,onChangeCapture:r==null?void 0:r.onChange,onClickCapture:r==null?void 0:r.onClick,onDoubleClickCapture:r==null?void 0:r.onDoubleClick,onFocusCapture:r==null?void 0:r.onFocus,onKeyDownCapture:r==null?void 0:r.onKeyDown,onKeyUpCapture:r==null?void 0:r.onKeyUp})})},di=(y,p,f,x,_)=>{const i={onBlur:void 0,onChange:void 0,onClick:void 0,onDoubleClick:void 0,onFocus:void 0,onKeyDown:void 0,onKeyUp:void 0};return D(_),m(),l(),si(_),i},_i=e.lazy(()=>z(()=>import("./FieldText-1.0.43-DLcestPu.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),yi=e.lazy(()=>z(()=>import("./FieldTextarea-1.0.43-hwQkWmzi.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),fi=e.lazy(()=>z(()=>import("./FieldNumber-1.0.43-vlMlaehh.js"),__vite__mapDeps([24,1,2,3,25,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),ki=e.lazy(()=>z(()=>import("./FieldSet-1.0.43-GvcApxfk.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,22,9,17,19,8,10,11,12,13,14,15,16,18,20,21,27]),import.meta.url)),ji=e.lazy(()=>z(()=>import("./FieldEnum-1.0.43-Dsxox37l.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,22,9,17,19,8,10,11,12,13,14,15,16,18,20,21,27,29,30,31,32,33]),import.meta.url)),Ai=e.lazy(()=>z(()=>import("./FieldDate-1.0.43-BxQIIQlM.js"),__vite__mapDeps([34,1,2,3,35,4,5,6,7,36,37,38,39,40,10,9,11,41,15,16,42,43,44,45,14,46,19,18,8,12,13,17,20,21,22,47,48,49,50,51,52]),import.meta.url)),xi=e.lazy(()=>z(()=>import("./FieldDatetime-1.0.43-By4Wd8XC.js"),__vite__mapDeps([53,1,2,3,35,4,5,6,7,36,37,38,39,40,10,9,11,41,15,16,42,43,44,45,14,46,19,18,8,12,13,17,20,21,22,47,48,49,50,54,55,56,27,52,57]),import.meta.url)),Li=e.lazy(()=>z(()=>import("./FieldTime-1.0.43-Dzz22ZAj.js"),__vite__mapDeps([58,1,2,3,35,4,5,6,7,36,37,38,39,40,10,9,11,41,15,16,42,43,44,45,14,46,19,18,8,12,13,17,20,21,22,47,48,49,50,59,56,27]),import.meta.url)),Si=e.lazy(()=>z(()=>import("./FieldCheckbox-1.0.43-Dtm4-gE4.js"),__vite__mapDeps([60,1,2,3,4,5,6,7,22,9,17,19,33,10,11,61,32,18,20]),import.meta.url)),ti=e.lazy(()=>z(()=>import("./ColumnWpMedia-1.0.43-CJN2vJ8T.js"),__vite__mapDeps([62,1,2,3,4,5,6,7,35,63,10,9,11,36,64,22,17,19,40,41,15,16]),import.meta.url)),Oi=e.lazy(()=>z(()=>import("./ColumnHyperlink-1.0.43-DIKGA_Vp.js"),__vite__mapDeps([65,1,2,3,4,5,6,7,64,9,8,10,11,12,13,14,15,16,17,18,19,20,21,22,33,61,32]),import.meta.url)),hi=e.lazy(()=>z(()=>import("./FieldDuration-1.0.43-BqJJSKaw.js"),__vite__mapDeps([66,1,2,3,25,4,5,6,7,35,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),Rr=({appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:b})=>{var W;T.debug(y,p,f,x,_,i,s,k,j,L,b);const F=ei(),P=di(F,r,p,s,y);if((W=s==null?void 0:s.media)!=null&&W[p]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(s==null?void 0:s.media[p]))return d.jsx(e.Suspense,{children:d.jsx(ti,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:b,columnMedia:k==null?void 0:k.media[p],mediaType:s==null?void 0:s.media[p]})});if((s==null?void 0:s.media[p])==="HyperlinkObject")return d.jsx(e.Suspense,{children:d.jsx(Oi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S})})}else{if(_.column_type.toLowerCase()==="tinyint(1)")return d.jsx(e.Suspense,{children:d.jsx(Si,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:P})});if(i.lookup!==void 0)return d.jsx(pi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:P})}switch(_.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return d.jsx(e.Suspense,{children:d.jsx(fi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:b,columnEvents:P})});case"enum":return d.jsx(e.Suspense,{children:d.jsx(ji,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:P})});case"set":return d.jsx(e.Suspense,{children:d.jsx(ki,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:P})});case"time":return i.duration===!0?d.jsx(e.Suspense,{children:d.jsx(hi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:b,columnEvents:P})}):d.jsx(e.Suspense,{children:d.jsx(Li,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:b,columnEvents:P})});case"date":return d.jsx(e.Suspense,{children:d.jsx(Ai,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:b,columnEvents:P})});case"datetime":case"timestamp":return d.jsx(e.Suspense,{children:d.jsx(xi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:b,columnEvents:P})});case"tinytext":case"text":case"mediumtext":case"longtext":return d.jsx(e.Suspense,{children:d.jsx(yi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:P})});default:return d.jsx(e.Suspense,{children:d.jsx(_i,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:h,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:P})})}};export{Rr as default};
