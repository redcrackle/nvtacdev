import{r}from"./redux-1.0.43-X9ShETON.js";import{h as q,g as J,i as Q,j as H,c as V,l as Z,r as Ee}from"./Typography-1.0.43-CjHjtdZs.js";import{u as Ce}from"./ThemeProvider-1.0.43-BdkGbeAu.js";import{j as O}from"./cm-1.0.43-BIThoEwM.js";import{a4 as Te,D as X,a2 as Y,$ as Le,G as De,O as ue}from"./index-1.0.43-Br_nYvvF.js";import{a as ge,P as ke,b as pe}from"./iconBase-1.0.43-BkINToSh.js";import{u as Ie}from"./useEnhancedEffect-1.0.43-DcXwKdLb.js";function Oe(e,t=166){let o;function g(...h){const l=()=>{e.apply(this,h)};clearTimeout(o),o=setTimeout(l,t)}return g.clear=()=>{clearTimeout(o)},g}function ze(e){return typeof e=="string"}const Fe=r.createContext({});function Ke(e){return q("MuiList",e)}J("MuiList",["root","padding","dense","subheader"]);const je=e=>{const{classes:t,disablePadding:o,dense:g,subheader:h}=e;return Z({root:["root",!o&&"padding",g&&"dense",h&&"subheader"]},Ke,t)},Ne=H("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disablePadding&&t.padding,o.dense&&t.dense,o.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),He=r.forwardRef(function(t,o){const g=Q({props:t,name:"MuiList"}),{children:h,className:l,component:m="ul",dense:a=!1,disablePadding:d=!1,subheader:b,...x}=g,L=r.useMemo(()=>({dense:a}),[a]),D={...g,component:m,dense:a,disablePadding:d},n=je(D);return O.jsx(Fe.Provider,{value:L,children:O.jsxs(Ne,{as:m,className:V(n.root,l),ref:o,ownerState:D,...x,children:[b,h]})})});function B(e,t,o){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o?null:e.firstChild}function fe(e,t,o){return e===t?o?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o?null:e.lastChild}function Pe(e,t){if(t===void 0)return!0;let o=e.innerText;return o===void 0&&(o=e.textContent),o=o.trim().toLowerCase(),o.length===0?!1:t.repeating?o[0]===t.keys[0]:o.startsWith(t.keys.join(""))}function U(e,t,o,g,h,l){let m=!1,a=h(e,t,t?o:!1);for(;a;){if(a===e.firstChild){if(m)return!1;m=!0}const d=g?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Pe(a,l)||d)a=h(e,a,o);else return a.focus(),!0}return!1}const Ae=r.forwardRef(function(t,o){const{actions:g,autoFocus:h=!1,autoFocusItem:l=!1,children:m,className:a,disabledItemsFocusable:d=!1,disableListWrap:b=!1,onKeyDown:x,variant:L="selectedMenu",...D}=t,n=r.useRef(null),y=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ie(()=>{h&&n.current.focus()},[h]),r.useImperativeHandle(g,()=>({adjustStyleForScrollbar:(s,{direction:i})=>{const f=!n.current.style.width;if(s.clientHeight<n.current.clientHeight&&f){const C=`${Te(X(s))}px`;n.current.style[i==="rtl"?"paddingLeft":"paddingRight"]=C,n.current.style.width=`calc(100% + ${C})`}return n.current}}),[]);const K=s=>{const i=n.current,f=s.key;if(s.ctrlKey||s.metaKey||s.altKey){x&&x(s);return}const R=Y(i).activeElement;if(f==="ArrowDown")s.preventDefault(),U(i,R,b,d,B);else if(f==="ArrowUp")s.preventDefault(),U(i,R,b,d,fe);else if(f==="Home")s.preventDefault(),U(i,null,b,d,B);else if(f==="End")s.preventDefault(),U(i,null,b,d,fe);else if(f.length===1){const u=y.current,M=f.toLowerCase(),I=performance.now();u.keys.length>0&&(I-u.lastTime>500?(u.keys=[],u.repeating=!0,u.previousKeyMatched=!0):u.repeating&&M!==u.keys[0]&&(u.repeating=!1)),u.lastTime=I,u.keys.push(M);const T=R&&!u.repeating&&Pe(R,u);u.previousKeyMatched&&(T||U(i,R,!1,d,B,u))?s.preventDefault():u.previousKeyMatched=!1}x&&x(s)},z=ge(n,o);let c=-1;r.Children.forEach(m,(s,i)=>{if(!r.isValidElement(s)){c===i&&(c+=1,c>=m.length&&(c=-1));return}s.props.disabled||(L==="selectedMenu"&&s.props.selected||c===-1)&&(c=i),c===i&&(s.props.disabled||s.props.muiSkipListHighlight||s.type.muiSkipListHighlight)&&(c+=1,c>=m.length&&(c=-1))});const E=r.Children.map(m,(s,i)=>{if(i===c){const f={};return l&&(f.autoFocus=!0),s.props.tabIndex===void 0&&L==="selectedMenu"&&(f.tabIndex=0),r.cloneElement(s,f)}return s});return O.jsx(He,{role:"menu",ref:z,className:a,onKeyDown:K,tabIndex:h?0:-1,...D,children:E})});function Ue(e){return q("MuiPopover",e)}J("MuiPopover",["root","paper"]);function de(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.height/2:t==="bottom"&&(o=e.height),o}function he(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.width/2:t==="right"&&(o=e.width),o}function me(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function _(e){return typeof e=="function"?e():e}const We=e=>{const{classes:t}=e;return Z({root:["root"],paper:["paper"]},Ue,t)},$e=H(De,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ye=H(ke,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ge=r.forwardRef(function(t,o){const g=Q({props:t,name:"MuiPopover"}),{action:h,anchorEl:l,anchorOrigin:m={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:d="anchorEl",children:b,className:x,container:L,elevation:D=8,marginThreshold:n=16,open:y,PaperProps:K={},slots:z={},slotProps:c={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:s=Le,transitionDuration:i="auto",TransitionProps:{onEntering:f,...C}={},disableScrollLock:R=!1,...u}=g,M=(c==null?void 0:c.paper)??K,I=r.useRef(),T={...g,anchorOrigin:m,anchorReference:d,elevation:D,marginThreshold:n,externalPaperSlotProps:M,transformOrigin:E,TransitionComponent:s,transitionDuration:i,TransitionProps:C},A=We(T),W=r.useCallback(()=>{if(d==="anchorPosition")return a;const p=_(l),v=(p&&p.nodeType===1?p:Y(I.current).body).getBoundingClientRect();return{top:v.top+de(v,m.vertical),left:v.left+he(v,m.horizontal)}},[l,m.horizontal,m.vertical,a,d]),$=r.useCallback(p=>({vertical:de(p,E.vertical),horizontal:he(p,E.horizontal)}),[E.horizontal,E.vertical]),G=r.useCallback(p=>{const P={width:p.offsetWidth,height:p.offsetHeight},v=$(P);if(d==="none")return{top:null,left:null,transformOrigin:me(v)};const re=W();let j=re.top-v.vertical,N=re.left-v.horizontal;const ne=j+P.height,ie=N+P.width,ae=X(_(l)),le=ae.innerHeight-n,ce=ae.innerWidth-n;if(n!==null&&j<n){const S=j-n;j-=S,v.vertical+=S}else if(n!==null&&ne>le){const S=ne-le;j-=S,v.vertical+=S}if(n!==null&&N<n){const S=N-n;N-=S,v.horizontal+=S}else if(ie>ce){const S=ie-ce;N-=S,v.horizontal+=S}return{top:`${Math.round(j)}px`,left:`${Math.round(N)}px`,transformOrigin:me(v)}},[l,d,W,$,n]),[w,F]=r.useState(y),k=r.useCallback(()=>{const p=I.current;if(!p)return;const P=G(p);P.top!==null&&p.style.setProperty("top",P.top),P.left!==null&&(p.style.left=P.left),p.style.transformOrigin=P.transformOrigin,F(!0)},[G]);r.useEffect(()=>(R&&window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)),[l,R,k]);const ve=(p,P)=>{f&&f(p,P),k()},be=()=>{F(!1)};r.useEffect(()=>{y&&k()}),r.useImperativeHandle(h,()=>y?{updatePosition:()=>{k()}}:null,[y,k]),r.useEffect(()=>{if(!y)return;const p=Oe(()=>{k()}),P=X(l);return P.addEventListener("resize",p),()=>{p.clear(),P.removeEventListener("resize",p)}},[l,y,k]);let ee=i;i==="auto"&&!s.muiSupportAuto&&(ee=void 0);const Me=L||(l?Y(_(l)).body:void 0),te={slots:z,slotProps:{...c,paper:M}},[we,oe]=pe("paper",{elementType:ye,externalForwardedProps:te,additionalProps:{elevation:D,className:V(A.paper,M==null?void 0:M.className),style:w?M.style:{...M.style,opacity:0}},ownerState:T}),[se,{slotProps:xe,...Re}]=pe("root",{elementType:$e,externalForwardedProps:te,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Me,open:y},ownerState:T,className:V(A.root,x)}),Se=ge(I,oe.ref);return O.jsx(se,{...Re,...!ze(se)&&{slotProps:xe,disableScrollLock:R},...u,ref:o,children:O.jsx(s,{appear:!0,in:y,onEntering:ve,onExited:be,timeout:ee,...C,children:O.jsx(we,{...oe,ref:Se,children:b})})})});function Ve(e){return q("MuiMenu",e)}J("MuiMenu",["root","paper","list"]);const Be={vertical:"top",horizontal:"right"},_e={vertical:"top",horizontal:"left"},Xe=e=>{const{classes:t}=e;return Z({root:["root"],paper:["paper"],list:["list"]},Ve,t)},Ye=H(Ge,{shouldForwardProp:e=>Ee(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qe=H(ye,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Je=H(Ae,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),nt=r.forwardRef(function(t,o){const g=Q({props:t,name:"MuiMenu"}),{autoFocus:h=!0,children:l,className:m,disableAutoFocusItem:a=!1,MenuListProps:d={},onClose:b,open:x,PaperProps:L={},PopoverClasses:D,transitionDuration:n="auto",TransitionProps:{onEntering:y,...K}={},variant:z="selectedMenu",slots:c={},slotProps:E={},...s}=g,i=Ce(),f={...g,autoFocus:h,disableAutoFocusItem:a,MenuListProps:d,onEntering:y,PaperProps:L,transitionDuration:n,TransitionProps:K,variant:z},C=Xe(f),R=h&&!a&&x,u=r.useRef(null),M=(w,F)=>{u.current&&u.current.adjustStyleForScrollbar(w,{direction:i?"rtl":"ltr"}),y&&y(w,F)},I=w=>{w.key==="Tab"&&(w.preventDefault(),b&&b(w,"tabKeyDown"))};let T=-1;r.Children.map(l,(w,F)=>{r.isValidElement(w)&&(w.props.disabled||(z==="selectedMenu"&&w.props.selected||T===-1)&&(T=F))});const A=c.paper??qe,W=E.paper??L,$=ue({elementType:c.root,externalSlotProps:E.root,ownerState:f,className:[C.root,m]}),G=ue({elementType:A,externalSlotProps:W,ownerState:f,className:C.paper});return O.jsx(Ye,{onClose:b,anchorOrigin:{vertical:"bottom",horizontal:i?"right":"left"},transformOrigin:i?Be:_e,slots:{paper:A,root:c.root},slotProps:{root:$,paper:G},open:x,ref:o,transitionDuration:n,TransitionProps:{onEntering:M,...K},ownerState:f,...s,classes:D,children:O.jsx(Je,{onKeyDown:I,actions:u,autoFocus:h&&(T===-1||a),autoFocusItem:R,variant:z,...d,className:V(C.list,d.className),children:l})})});export{Fe as L,nt as M,Ge as P,He as a,Ae as b,Oe as d,ze as i};
