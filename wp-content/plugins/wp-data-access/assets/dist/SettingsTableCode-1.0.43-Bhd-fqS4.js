import{j as e}from"./cm-1.0.43-BIThoEwM.js";import{r as t,R as H}from"./redux-1.0.43-X9ShETON.js";import{P as W,b as V,a as J}from"./index-1.0.43-DuBV8iHb.js";import{u as Q,a as X}from"./hooks-1.0.43-Bzf6s8gj.js";import{l,w as Y,ck as Z,cl as $}from"./lib-1.0.43-GM4CAPbj.js";import{u as k}from"./useGlobalCode-1.0.43-CT9g-lUD.js";import{u as ee}from"./useTableCode-1.0.43-DjIQp3xS.js";import{u as oe}from"./useTableUpdater-1.0.43-C8DXp04q.js";import{B as te}from"./ConfirmDialog-1.0.43-HyVPTU5U.js";import{P as se}from"./PremiumFeature-1.0.43-BD8gtQwD.js";import{S as re,T as d,u as ie}from"./SettingsTableGlobalCode-1.0.43-CpFPaRM-.js";import{u as ne}from"./useMetadata-1.0.43-5v27HTeK.js";import{C as le}from"./index-1.0.43-Crrt7rhH.js";import{j as ae,ab as de}from"./index-1.0.43-Br_nYvvF.js";import{q as me}from"./index-1.0.43-Lwi8RVeB.js";import{e as pe}from"./notistack-1.0.43-CFZ1B9cW.js";import{A as B,a as M}from"./AccordionSummary-1.0.43-CNpHbZtu.js";import{B as c}from"./Spinner-1.0.43-YmZqinVQ.js";import{T as P}from"./Tooltip-1.0.43-Dw3sfo8K.js";import{I as F}from"./iconBase-1.0.43-BkINToSh.js";import{P as ce}from"./Menu-1.0.43-TbmZ3Ge2.js";import{S as ue}from"./TreeItem2Provider-1.0.43-C2Ft9Foa.js";import"./vendor-1.0.43-CN03Eozo.js";import"./index-1.0.43-DTrIm2Pv.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./moment-1.0.43-C5S46NFB.js";import"./AdminTheme-1.0.43-CqjS-p3h.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./index-1.0.43-CvTha0tS.js";import"./FormLabel-1.0.43-DuYrsDLO.js";import"./useFormControl-1.0.43-D7bmEJOO.js";import"./Checkbox-1.0.43-C_H-ygma.js";import"./SwitchBase-1.0.43-jxlYBoq8.js";import"./useControlled-1.0.43-DObA-A1B.js";import"./createSvgIcon-1.0.43-C8_lU5Lv.js";import"./Collapse-1.0.43-CtSvLI94.js";import"./ctc-1.0.43-C-ZXureb.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./Popper-1.0.43-8Yb3KIgh.js";import"./useThemeProps-1.0.43-C5lTKcwO.js";import"./getThemeProps-1.0.43-5uxEwZ_e.js";const be=i=>{const m=Q(a=>a.tables[i].columns);return l.debug("tableColumns",m),m},bo=({appId:i,tableSettings:m,buttonEditorOk:a})=>{X();const y=oe(i),s=ne(i),[E,u]=t.useState(!0),[fe,h]=t.useState(!1),j=t.useMemo(()=>Y(),[]);l.debug("popupId",j);const K=k(),b=ee(),_=be(i),{tableIcon:L,codeLabel:g,codeTitle:f,columnIcon:N,dataTypeIcon:O,getColumnLabel:R}=ie(u,h),[xe,Ce]=t.useState(!1),[he,je]=t.useState(""),[ge,Te]=t.useState(void 0),[Ie,Se]=t.useState(void 0),[T,z]=t.useState(!1);t.useEffect(()=>{T&&(a(),z(!1))},[T]);const[I,q]=t.useState(!1);t.useEffect(()=>{I&&(a(),q(!1))},[I]);const[S,D]=t.useState(!1);return t.useEffect(()=>{S&&(a(),D(!1))},[S]),e.jsxs(H.Fragment,{children:[e.jsx(B,{disableGutters:!0,children:e.jsx(M,{component:"div",children:e.jsx(W,{variant:"popover",popupId:j,children:p=>{var v,w,U,A;return e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{width:"100%",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(te,{variant:"contained",endIcon:e.jsx(me,{}),...V(p),onMouseDown:()=>{p.isOpen&&u(!0)},children:"List of hooks"}),e.jsxs(c,{children:[e.jsx(le,{text:"{ appId: "+((v=s==null?void 0:s.src)==null?void 0:v.app_id)+" , cntId: "+((w=s==null?void 0:s.src)==null?void 0:w.cnt_id)+" }",onCopy:()=>{pe("Code successfully copied to clipboard",{variant:"info"})},children:e.jsx(P,{title:"{ appId: "+((U=s==null?void 0:s.src)==null?void 0:U.app_id)+" , cntId: "+((A=s==null?void 0:s.src)==null?void 0:A.cnt_id)+" }",children:e.jsx(F,{children:e.jsx(ae,{})})})}),e.jsx(P,{title:"Documentation",children:e.jsx(F,{onClick:()=>{window.open("https://wpdataaccess.com/docs/hooks/getting-started-with-hooks/","_blank")},children:e.jsx(de,{})})})]})]}),e.jsx(ce,{...J(p),open:p.isOpen&&E,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{maxHeight:"70vh",marginRight:"35px","& span":{userSelect:"none",MozUserSelect:"none",KhtmlUserSelect:"none",WebkitUserSelect:"none",OUserSelect:"none"}},children:e.jsx(c,{sx:{minWidth:"360px",display:"grid",gap:"20px",padding:"20px","& .MuiTreeItem-content:hover ":{background:"rgba(248, 248, 248, 1) !important"}},children:e.jsxs(ue,{children:[e.jsx(re,{appId:i,tableSettings:m,globalCode:K,setUpdateStatus:y,setOpen:u,setAutoExpand:h}),e.jsx(d,{itemId:"tableGroup",label:f(L(),"Table"),children:Z.map(o=>{var x,r;return e.jsx(d,{itemId:"table-"+o,label:g(o,()=>{},b[o]!==void 0,((x=b[o])==null?void 0:x.visible)??!0,n=>{l.debug(n)},((r=b[o])==null?void 0:r.enabled)??!0,n=>{l.debug(n)})},"table-"+o)})},"tableGroup"),e.jsxs(d,{itemId:"columnGroup",label:f(N(),"Columns"),children:[..._.map((o,x)=>o.computedField!==void 0?null:e.jsx(d,{itemId:o.columnName,label:f(O(),R(o)),style:{paddingLeft:"35px"},children:$.map(r=>{var n,G;return e.jsx(d,{itemId:"column-"+o.columnName+"-"+r,label:g(r,()=>{},o.columnCode[r]!==void 0,((n=o.columnCode[r])==null?void 0:n.visible)??!0,C=>{l.debug(C)},((G=o.columnCode[r])==null?void 0:G.enabled)??!0,C=>{l.debug(C)})},"column-"+o.columnName+"-"+r)})},o.columnName))]},"columnGroup")]})})})]})}})})},"CodeBuilder"),!1,e.jsx(B,{disableGutters:!0,children:e.jsx(M,{children:e.jsx(c,{sx:{"& label":{marginTop:0}},children:e.jsx(se,{})})})})]},"CodeBuilderMain")};export{bo as default};
