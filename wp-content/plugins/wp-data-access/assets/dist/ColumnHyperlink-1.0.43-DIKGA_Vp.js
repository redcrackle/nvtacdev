import{j as e}from"./cm-1.0.43-BIThoEwM.js";import{l as p,bo as s,cw as c}from"./lib-1.0.43-GM4CAPbj.js";import{B as m}from"./Spinner-1.0.43-YmZqinVQ.js";import{T as g}from"./TextField-1.0.43-DsZQBbKY.js";import{F as x,a as j}from"./FormHelperText-1.0.43-BbvxPfFT.js";import{F as v}from"./FormControlLabel-1.0.43-DhLqIzQC.js";import{C as E}from"./Checkbox-1.0.43-C_H-ygma.js";import"./redux-1.0.43-X9ShETON.js";import"./vendor-1.0.43-CN03Eozo.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./moment-1.0.43-C5S46NFB.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./iconBase-1.0.43-BkINToSh.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./Select-1.0.43-CISjJoqC.js";import"./Menu-1.0.43-TbmZ3Ge2.js";import"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./index-1.0.43-Br_nYvvF.js";import"./notistack-1.0.43-CFZ1B9cW.js";import"./utils-1.0.43-iop7lDec.js";import"./useControlled-1.0.43-DObA-A1B.js";import"./useFormControl-1.0.43-D7bmEJOO.js";import"./createSvgIcon-1.0.43-C8_lU5Lv.js";import"./FormLabel-1.0.43-DuYrsDLO.js";import"./SwitchBase-1.0.43-jxlYBoq8.js";const Q=({columnName:i,columnValue:d,columnMetaData:o,onColumnChange:u,formMode:l,metaData:n,storeColumn:a})=>{p.debug(i,d,o);let r={label:"",url:"",target:""};try{r=JSON.parse(d),r!=null&&(r.label===void 0||r.url===void 0||r.target===void 0)&&(r={label:(r==null?void 0:r.label)??"",url:(r==null?void 0:r.url)??"",target:(r==null?void 0:r.target)??""})}catch(t){p.error(t),p.error(d)}p.debug(r);const b=t=>{u(i,JSON.stringify({...r,...t}))};return e.jsxs("fieldset",{className:"pp-fieldset",children:[e.jsx("legend",{children:o.formLabel}),r!==void 0?e.jsxs(m,{style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:"20px"},children:[e.jsx(g,{label:"Label",value:(r==null?void 0:r.label)??"",required:o.is_nullable==="NO",slotProps:{input:{readOnly:l===s.VIEW||l===s.UPDATE&&(n.primary_key.includes(i)||a.updatable===!1)}},onChange:t=>{b({label:t.target.value})}}),e.jsx(x,{sx:{"& label span":{fontSize:"80% !important"}},children:e.jsx(v,{control:e.jsx(E,{id:i,checked:(r==null?void 0:r.target)==="_blank",disabled:l===s.VIEW||l===s.UPDATE&&(n.primary_key.includes(i)||a.updatable===!1),onChange:(t,f)=>{b({target:f?"_blank":""})}}),label:"Open link in a new tab"})}),e.jsx(g,{label:"Url",value:(r==null?void 0:r.url)??"",required:o.is_nullable==="NO",slotProps:{input:{readOnly:l===s.VIEW||l===s.UPDATE&&(n.primary_key.includes(i)||a.updatable===!1)}},sx:{gridColumn:"1 / span 2"},onChange:t=>{b({url:t.target.value})}}),a.hint&&a.hint.trim()!==""&&e.jsx(x,{children:e.jsx(j,{sx:{marginLeft:0},children:c(a,"")})})]}):e.jsx(m,{color:"error.main",className:"unselectable",children:"Invalid hyperlink"})]})};export{Q as default};
