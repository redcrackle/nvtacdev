const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./QueryContainer-1.0.43-D_rE6H5L.js","./main-1.0.43.js","./cm-1.0.43-BIThoEwM.js","./redux-1.0.43-X9ShETON.js","./vendor-1.0.43-CN03Eozo.js","./lib-1.0.43-GM4CAPbj.js","./loglevel-1.0.43-BZ7XahX3.js","./lodash-1.0.43-BGoSrRk7.js","./moment-1.0.43-C5S46NFB.js","./FallbackSpinner-1.0.43-SRqLbyxS.js","./Spinner-1.0.43-YmZqinVQ.js","./Typography-1.0.43-CjHjtdZs.js","./TabPanel-1.0.43-BFjnBi0G.js","./useThemeProps-1.0.43-C5lTKcwO.js","./getThemeProps-1.0.43-5uxEwZ_e.js"])))=>i.map(i=>d[i]);
import{_ as Ie}from"./main-1.0.43.js";import{j as e}from"./cm-1.0.43-BIThoEwM.js";import{r as d}from"./redux-1.0.43-X9ShETON.js";import{k as Ae,m as Ee,n as Oe,a9 as oe,aa as ae,ab as Qe,w as de,ac as pe,M as qe,e as Le,ad as ke,A as Be,T as Re,J as De,K as _e}from"./index-1.0.43-Br_nYvvF.js";import{G as Ue,I as L,P as Ge}from"./iconBase-1.0.43-BkINToSh.js";import{C as ze,D as H,P as V,a as $,b as J,c as ce,d as Y,B as A}from"./ConfirmDialog-1.0.43-HyVPTU5U.js";import{a as B}from"./hooks-1.0.43-Bzf6s8gj.js";import{b as U,c as Fe,d as ue,e as Ke,f as xe,g as he,h as We,i as He}from"./StartQueryBuilder-1.0.43-DFJvLNPB.js";import{u as ge}from"./MainQueryBuilder-1.0.43-Bpy4iomZ.js";import{C as b,o as Ve,l as g,a as $e}from"./lib-1.0.43-GM4CAPbj.js";import{R as w,a as fe}from"./RestApi-1.0.43-DDknciaN.js";import{B as c,S as Je}from"./Spinner-1.0.43-YmZqinVQ.js";import{P as Ye,b as Xe,a as Ze}from"./index-1.0.43-DuBV8iHb.js";import{e as Ne}from"./index-1.0.43-Lwi8RVeB.js";import{S as es}from"./SanitizeComponent-1.0.43-DS8pdFaO.js";import{A as te}from"./AdminTheme-1.0.43-CqjS-p3h.js";import{e as E}from"./notistack-1.0.43-CFZ1B9cW.js";import{F as G,a as q}from"./FormHelperText-1.0.43-BbvxPfFT.js";import{F as z}from"./FormControlLabel-1.0.43-DhLqIzQC.js";import{C as ss}from"./Checkbox-1.0.43-C_H-ygma.js";import{T as k}from"./Tooltip-1.0.43-Dw3sfo8K.js";import{P as rs,M as ne}from"./Menu-1.0.43-TbmZ3Ge2.js";import{D as ts}from"./Divider-1.0.43-BNePHRrN.js";import{T as me}from"./TextField-1.0.43-DsZQBbKY.js";import{I as ns}from"./InputAdornment-1.0.43-9P5bF1dN.js";import{T as be,a as ie}from"./TabPanel-1.0.43-BFjnBi0G.js";import{T as je}from"./TabList-1.0.43-wevj3JyD.js";import{T as K}from"./Tabs-1.0.43-C3a4iH_4.js";import{S as W}from"./Switch-1.0.43-DUXi6nEm.js";import{M as S}from"./MenuItem-1.0.43-Uicrp-o6.js";/* empty css                    */const is=r=>{const t=typeof r=="function",s=d.useRef(r);d.useEffect(()=>{s.current=r}),d.useEffect(()=>{if(t){const n=l=>{const p=s.current(l);if(typeof p=="string")return l.preventDefault(),l.returnValue=p;if(l.defaultPrevented)return l.returnValue=""};return window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}}},[t])};function ye(r){return Ue({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M16 3v2h-15v-2h15zM1 10h15v-2h-15v2zM1 15h15v-2h-15v2z"},child:[]}]})(r)}const le=(r,t,s,n=!1)=>{w(b.appUrlQbOpen,{access:r},t,s,n)},Hs=(r,t,s,n,l,p,o,i=!1)=>{w(b.appUrlQbExecute,{dbs:r,query:t,limit:s,protect:n,params:l},p,o,i)},Vs=(r,t,s,n,l,p,o,i,u,a,f=!1)=>{w(b.appUrlQbSave,{access:r,dbs:t,name:s,query:n,vqb:l,old_name:p,insert:o,params:i},u,a,f)},ls=(r,t,s,n,l=!1)=>{w(b.appUrlQbDelete,{access:r,name:t},s,n,l)},$s=(r,t,s,n,l,p,o=!1)=>{w(b.appUrlQbCopy,{access_from:r,from:t,access_to:s,to:n},l,p,o)},Js=(r,t,s,n=!1)=>{w(b.appUrlQbHints,{dbs:r},t,s,n)},ve=(r,t,s,n=!1)=>{w(b.appUrlQbAutoComplete,{enable:r},t,s,n)},os=(r,t,s=!1)=>{w(b.appUrlQbCronSchedules,{},r,t,s)},Ys=(r,t,s,n,l,p=!1)=>{w(b.appUrlQbCronDelete,{name:r,access:t,params:s},n,l,p)},as=({queryName:r,query:t,checked:s,setChecked:n,queryAccessType:l,deleteQuery:p})=>{const[o,i]=d.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(G,{sx:{marginLeft:"12px"},children:e.jsx(z,{control:e.jsx(ss,{checked:s,disabled:(t==null?void 0:t.query)===void 0||(t==null?void 0:t.schema_name)===void 0,onClick:u=>{n(!s),u.preventDefault(),u.stopPropagation()}}),label:r,sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}})}),e.jsx(c,{children:e.jsx(Ye,{variant:"popover",children:u=>{var a,f;return e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{whiteSpace:"nowrap"},children:[e.jsx(k,{title:"Delete query "+r,children:e.jsx(L,{color:"error",onClick:()=>{i(!0)},children:e.jsx(Ae,{})})}),e.jsx(k,{title:"Preview query "+r,children:e.jsx(L,{...Xe(u),children:e.jsx(Ee,{})})})]}),e.jsxs(rs,{...Ze(u),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","& > .MuiPaper-root":{resize:"both",minWidth:"400px",maxWidth:"80vw",maxHeight:"80vh",padding:"30px"}},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",flexDirection:"row",gap:"5px",...(t==null?void 0:t.schema_name)===void 0&&{color:(a=te)==null?void 0:a.palette.error.dark}},children:[e.jsx(Ne,{}),e.jsx("strong",{children:(t==null?void 0:t.schema_name)??"Unknown"})]}),e.jsx(ts,{sx:{margin:"10px 0"}}),e.jsx(es,{html:Ve((t==null?void 0:t.query)??"<span style='color:"+((f=te)==null?void 0:f.palette.error.dark)+"'>Invalid query</span>").replaceAll(`
`,"<br/>")})]})]})}})})]}),e.jsx(ze,{title:"Delete query",message:e.jsxs("div",{children:["Are you sure you want to delete query ",r,"?",e.jsx("br",{}),e.jsx("strong",{children:"This action cannot be undone!"})]}),open:o,setOpen:i,onConfirm:()=>{p(l,r),ls(l,r,u=>{g.debug(u),E("Query successfully deleted",{variant:"success"})},u=>{g.error(u),E(u,{variant:"error"})})}})]})};var m=(r=>(r.GLOBAL="global",r.USER="user",r))(m||{});const X=()=>({createQueryKey:(s,n)=>(s===m.GLOBAL?"G-":"U-")+n,getQueryKey:s=>s.substring(2)}),ds=({open:r,setOpen:t})=>{const s=B(),n=ge(),{createQueryKey:l}=X(),[p,o]=d.useState(!1),[i,u]=d.useState(!1),[a,f]=d.useState({}),[v,O]=d.useState([]),[F,M]=d.useState(!1),[R,j]=d.useState(!1),[C,Q]=d.useState({}),[D,Z]=d.useState([]),[N,we]=d.useState("");d.useEffect(()=>{le(m.USER,h=>{g.debug(h),f((h==null?void 0:h.data)??{}),o(!0)},()=>{g.error("Error loading Query Builder list."),u(!0),o(!0)}),le(m.GLOBAL,h=>{g.debug(h),Q((h==null?void 0:h.data)??{}),M(!0)},()=>{g.error("Error loading Query Builder list."),j(!0),M(!0)})},[]);const Ce=(h,x)=>{if(h===m.USER){const y=[...v];let P=y.indexOf(x);P!==-1&&y.splice(P,1),O(y);const I={...a};delete I[x],f(I)}else{const y=[...D],P=y.indexOf(x);P!==-1&&y.splice(P,1),Z(y);const I={...C};delete I[x],Q(I)}},ee=(h,x,y,P,I,se)=>h?x?e.jsx(c,{children:"Unable to read query list."}):Object.keys(y).length===0?e.jsx(c,{children:"No queries found."}):e.jsx(c,{sx:{height:"380px",overflowY:"auto",paddingRight:"10px"},children:Object.keys(y).map(T=>n.queries[l(se,T)]||!T.toLowerCase().includes(N.toLowerCase())?null:e.jsx(as,{queryName:T,query:y[T],checked:P.includes(T),setChecked:Me=>{const _=[...P];if(Me)_.push(T);else{const re=_.indexOf(T);re!==-1&&_.splice(re,1)}I(_)},queryAccessType:se,deleteQuery:Ce},T))}):e.jsx(Je,{title:"Loading queries..."}),[Pe,Te]=d.useState("user");return e.jsxs(H,{open:r,onClose:()=>t(!1),PaperComponent:V,sx:{"& .MuiPaper-root":{width:"600px",height:"600px"}},"aria-labelledby":"open-query-dialog",closeAfterTransition:!1,children:[e.jsx($,{sx:{cursor:"move"},id:"draggable-dialog-title",children:e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Open Query"}),e.jsx(me,{type:"text",value:N,onChange:h=>{we(h.target.value)},sx:{width:"160px",backgroundColor:"#fff",fontSize:"1em",margin:0,padding:0,borderRadius:"4px","&.MuiFormControl-root.MuiTextField-root .MuiInputBase-root":{paddingRight:0},"&.MuiFormControl-root.MuiTextField-root input":{padding:"8px"}},slotProps:{input:{startAdornment:e.jsx(ns,{position:"end",sx:{fontSize:"1.5rem",padding:0,margin:0},children:e.jsx(Oe,{})})}}})]})}),e.jsx(J,{sx:{zIndex:1,overflow:"hidden"},children:e.jsx(ce,{component:"div",sx:{"& div.MuiTabPanel-root":{paddingTop:"10px",paddingRight:0,paddingBottom:0,paddingLeft:0},"& svg":{height:"1.2em",width:"1.2em"}},children:e.jsxs(be,{value:Pe,children:[e.jsxs(je,{onChange:(h,x)=>{Te(x)},children:[e.jsx(K,{label:e.jsxs(c,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"5px"},children:[e.jsx(oe,{}),e.jsx("span",{children:"My Queries"})]}),value:"user"}),e.jsx(K,{label:e.jsxs(c,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"5px"},children:[e.jsx(ae,{}),e.jsx("span",{children:"Global Queries"})]}),value:"global"})]}),e.jsx(ie,{value:"user",children:ee(p,i,a,v,O,m.USER)}),e.jsx(ie,{value:"global",children:ee(F,R,C,D,Z,m.GLOBAL)})]})})}),e.jsxs(Y,{sx:{padding:"30px","& button":{width:"120px"}},children:[e.jsx(A,{autoFocus:!0,variant:"contained",disabled:v.length===0&&D.length===0,onClick:h=>{t(!1),v.map(x=>{s(U({queryKey:l(m.USER,x),query:{access:m.USER,queryName:x,query:a[x].query,schemaName:a[x].schema_name,isVisual:a[x].is_visual,params:a[x].params}}))}),D.map(x=>{s(U({queryKey:l(m.GLOBAL,x),query:{access:m.GLOBAL,queryName:x,query:C[x].query,schemaName:C[x].schema_name,isVisual:C[x].is_visual,params:C[x].params}}))}),h.stopPropagation()},children:"Open"}),e.jsx(A,{variant:"contained",onClick:h=>{t(!1),h.stopPropagation()},children:"Cancel"})]})]})},Se=({open:r,setOpen:t,encryption:s})=>{const[n,l]=d.useState(""),[p,o]=d.useState(s);return e.jsxs(H,{open:r,onClose:()=>t(!1),PaperComponent:V,"aria-labelledby":"open-query-dialog",closeAfterTransition:!1,sx:{"& .MuiPaper-root":{position:"relative",width:"440px",padding:"20px"}},children:[e.jsxs($,{component:"div",sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(c,{children:"AI Assistant Setup"}),e.jsx(c,{children:e.jsx(k,{title:"Help",children:e.jsx(L,{size:"small",sx:{padding:0},children:e.jsx(Qe,{})})})})]}),e.jsx(J,{children:e.jsxs(c,{sx:{paddingTop:"20px",display:"grid",gap:"30px"},children:[e.jsx(me,{type:"text",label:"Enter your ChatGPT API Key",fullWidth:!0,required:!0,value:n,onChange:i=>{l(i.target.value)},helperText:e.jsx(c,{children:"The AI Assistant requires a unique ChatGPT API Key and must be enabled for each user independently."})}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(z,{control:e.jsx(W,{checked:p,disabled:!s,onChange:(i,u)=>{o(u),i.stopPropagation()}}),label:"Encrypt ChatGPT API Key",labelPlacement:"end"}),e.jsxs(q,{children:["Maintains an encrypted copy of your ChatGPT API Key",s?"":" (this feature is currently disabled)","."]})]})]})}),e.jsxs(Y,{children:[e.jsx(A,{variant:"contained",onClick:async()=>{try{await fe(b.appUrlAiEnable,{key:n,encrypt:p}).then(i=>{var u;g.debug(i),((u=i==null?void 0:i.data)==null?void 0:u.code)==="ok"?(t(!1),E("API Key successfully saved",{variant:"success"})):E($e.contactSupport,{variant:"error"})}).catch(i=>{g.error(i)})}catch(i){g.error(i)}},sx:{width:"100px"},children:"OK"}),e.jsx(A,{variant:"contained",onClick:()=>{t(!1)},sx:{width:"100px"},children:"Cancel"})]})]})},Xs=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),ps=({open:r,setOpen:t})=>{const s=B(),n=ge(),[l,p]=d.useState(!1),[o,i]=d.useState(!1),u=async()=>{try{await fe(b.appUrlAiEnabled,{}).then(a=>{var f,v;g.debug(a),i(((v=(f=a==null?void 0:a.data)==null?void 0:f.data)==null?void 0:v.encryption)===!0)}).catch(a=>{g.error(a)})}catch(a){g.error(a)}};return d.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(H,{open:r,onClose:()=>t(!1),PaperComponent:V,"aria-labelledby":"open-query-dialog",closeAfterTransition:!1,children:[e.jsx($,{sx:{cursor:"move"},id:"draggable-dialog-title",children:e.jsx(c,{children:"Query Settings"})}),e.jsx(J,{sx:{zIndex:1,paddingTop:0,paddingBottom:0},children:e.jsxs(ce,{component:"div",sx:{width:"480px"},children:[e.jsx("fieldset",{className:"pp-fieldset",children:e.jsxs(G,{fullWidth:!0,children:[e.jsx(z,{control:e.jsx(W,{checked:n.protectWordPressTables,onChange:a=>{s(Fe({protectWordPressTables:!n.protectWordPressTables})),a.stopPropagation()}}),label:"WordPress Table Protection"}),e.jsxs(q,{sx:{marginTop:"10px"},children:["By default, WordPress tables are protected to prevent accidental or harmful changes. While you can disable this protection under certain restrictions, it's important to note that ",e.jsx("strong",{children:"DROP"}),", ",e.jsx("strong",{children:"ALTER"}),", and ",e.jsx("strong",{children:"TRUNCATE"})," operations on WordPress tables are never allowed for safety reasons."]}),e.jsxs(q,{sx:{marginTop:"10px"},children:["With protection disabled, the plugin permits ",e.jsx("strong",{children:"INSERT"}),", ",e.jsx("strong",{children:"UPDATE"}),", and ",e.jsx("strong",{children:"DELETE"})," actions on WordPress tables."]}),e.jsxs(q,{sx:{marginTop:"10px",marginBottom:"10px"},children:[e.jsx("strong",{children:"Caution:"})," Modifying WordPress tables directly is not recommended unless you fully understand the risks."]})]})}),e.jsx("fieldset",{className:"pp-fieldset",style:{marginTop:"30px"},children:e.jsxs(G,{fullWidth:!0,children:[e.jsx(z,{control:e.jsx(W,{checked:n.showSqlHints,onChange:a=>{ve(!n.showSqlHints,f=>{g.debug(f)},f=>{g.error(f)}),s(ue({showSqlHints:!n.showSqlHints})),a.stopPropagation()}}),label:"Show SQL hints"}),e.jsx(q,{sx:{marginTop:"10px",marginBottom:"10px"},children:"Provides autocomplete support when writing queries. May require additional load time to fetch database, table, and column details."})]})})]})}),e.jsxs(Y,{sx:{padding:"30px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(A,{variant:"outlined",onClick:a=>{p(!0),a.stopPropagation()},children:"Update ChatGPT API Key"}),e.jsx(A,{variant:"contained",onClick:a=>{t(!1),a.stopPropagation()},children:"Done"})]})]}),l&&e.jsx(Se,{open:l,setOpen:p,encryption:o})]})},cs=()=>{const r=B(),{createQueryKey:t}=X(),[s,n]=d.useState(null),l=!!s,[p,o]=d.useState(!1),[i,u]=d.useState(!1),[a,f]=d.useState(1),[v,O]=d.useState(null),F=j=>{O(j.currentTarget)},M=()=>{O(null)},R=j=>{const C=xe.getSelectors().selectQueryBuilder(he.getState().sql),Q=a===0?"New Query":`New Query ${a}`;r(U({queryKey:t(j,Q),query:{access:j,queryName:Q,query:"",schemaName:C.databases.defaultDatabase,isVisual:!1,isInserting:!0,params:{}}})),f(a+1)};return d.useEffect(()=>{b.appPlugin&&(window.ppActionOpenQueriesMenu=j=>{n(j.currentTarget)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Queries",children:e.jsx(L,{sx:{color:"inherit",padding:0,marginRight:"5px"},onClick:j=>{n(j.currentTarget),j.stopPropagation()},children:e.jsx(ye,{})})}),e.jsxs(ne,{anchorEl:s,open:l,onClose:()=>n(null),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[e.jsxs(S,{onClick:F,children:[e.jsx(de,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"New"})]}),e.jsxs(ne,{id:"submenu",anchorEl:v,open:v!==null,onClose:M,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},MenuListProps:{onMouseLeave:M},children:[e.jsx(S,{onClick:()=>{n(null),M(),R(m.USER)},children:"Private query"}),e.jsx(S,{onClick:()=>{n(null),M(),R(m.GLOBAL)},children:"Global query"})]}),e.jsxs(S,{onClick:()=>{n(null),o(!0)},children:[e.jsx(pe,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Open"})]}),e.jsx(S,{divider:!0,sx:{margin:"8px 0",padding:0}}),e.jsxs(S,{onClick:()=>{n(null),r(Ke())},children:[e.jsx(qe,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Close All"})]}),e.jsx(S,{divider:!0,sx:{margin:"8px 0",padding:0}}),e.jsxs(S,{onClick:()=>{n(null),u(!0)},children:[e.jsx(Le,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Setting"})]}),e.jsxs(S,{onClick:()=>{window.open("https://wpdataaccess.com/docs/sql-query-builder/query-builder-getting-started/","_blank")},children:[e.jsx(ke,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Help"})]})]})]}),p&&e.jsx(ds,{open:p,setOpen:o}),i&&e.jsx(ps,{open:i,setOpen:u})]})},us=()=>{const r=B();return()=>{os(s=>{if(g.debug(s),(s==null?void 0:s.code)==="ok"&&s.message.cron&&s.message.schedules){const n=[];Object.keys(s.message.schedules).map(l=>n.push({key:l,interval:Number(s.message.schedules[l].interval)})),r(We({cron:s.message.cron,schedules:s.message.schedules,intervalSorted:n.sort((l,p)=>l.interval-p.interval),mailEnabled:s.message.mail}))}else g.error("Invalid response"),E("Invalid response",{variant:"error"})},s=>{g.error(s),E(s,{variant:"error"})})}},xs=d.lazy(()=>Ie(()=>import("./QueryContainer-1.0.43-D_rE6H5L.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),hs=({queryBuilderState:r})=>{const t=B(),{getQueryKey:s,createQueryKey:n}=X();us();const[l,p]=d.useState(!1);return d.useEffect(()=>{const o=xe.getSelectors().selectQueryBuilder(he.getState().sql);if(Object.keys(o.queries).length===0){const i="New Query";t(U({queryKey:n(m.USER,i),query:{access:m.USER,queryName:i,query:"",schemaName:o.databases.defaultDatabase,isVisual:!1,isInserting:!0,params:{}}}))}ve(void 0,i=>{g.debug(i),(i==null?void 0:i.code)==="ok"&&(i==null?void 0:i.message)=="1"&&t(ue({showSqlHints:!0}))},i=>{g.error(i)}),b.appPlugin&&(window.ppActionFullScreen=()=>{p(!0)})},[]),is(Object.keys(r.queries).filter(o=>r.queries[o].isUpdated===!0).length>0?o=>o.preventDefault():void 0),e.jsxs(c,{className:l?"pp-fullscreen":"pp-container",sx:{...l&&{position:"fixed",zIndex:9999999,top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:"#fff",display:"grid",gridTemplateRows:"69px 48px 1fr",gridGap:0,"& .pp-query-builder-panels":{height:"calc(100vh - 69px - 48px - 5px)",display:"grid"},"& header":{boxShadow:"none"},"& .pp-query-builder-panels > .MuiTabPanel-root":{height:"calc(100vh - 69px - 48px - 5px)",display:"grid",gridTemplateRows:"69px 1fr 48px 1fr",paddingBottom:0},"& .pp-query-builder-panels > .MuiTabPanel-root[hidden]":{display:"none",gridTemplateRows:"unset"},"& header, & .pp-query-builder-panels > .MuiTabPanel-root .MuiPaper-root, & .pp-sql-query-builder-editor, , & .pp-sql-query-builder-editor div":{borderRadius:0,padding:0},"& .pp-query-builder-panels > .MuiTabPanel-root .MuiPaper-root:hover":{boxShadow:"none"},"& .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-editor, & .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-results, & .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-response-paper":{height:"calc((100vh - 69px - 48px - 69px - 48px - 5px) / 2)"},"& .pp-query-builder-panels > .MuiTabPanel-root table.pp-sql-query-builder-table tbody":{height:"calc(((100vh - 69px - 48px - 69px - 48px - 5px) / 2) - 30px - 5px - 30px)"},"& .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-response":{height:"calc(((100vh - 69px - 48px - 69px - 48px - 5px) / 2) - 10px)",paddingLeft:"10px"},"& .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-editor .cm-editor":{resize:"none"},"& .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-editor > div":{boxShadow:"none",marginLeft:0,marginRight:0}}},children:[e.jsx(Be,{position:"relative",sx:{margin:"0 0 5px 0"},children:e.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"18px",lineHeight:"18px"},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(cs,{}),e.jsx(c,{sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:"SQL Query Builder"})]}),e.jsx(c,{children:e.jsx(k,{title:"Toggle full screen",children:e.jsx(L,{sx:{color:"inherit",padding:0},onClick:()=>{p(!l)},children:l?e.jsx(De,{}):e.jsx(_e,{})})})})]})}),e.jsxs(be,{value:r.tabIndex,children:[e.jsx(c,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center",gridGap:"8px",paddingLeft:"8px",paddingRight:"4px"},children:e.jsxs(je,{orientation:"horizontal",variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,onChange:(o,i)=>{t(He({tabIndex:i}))},sx:{"& .MuiButtonBase-root.Mui-disabled":{display:"none"}},children:[...Object.keys(r.queries).map(o=>e.jsx(K,{label:e.jsxs(c,{sx:{display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"start",gap:"5px","& svg":{height:"1.2em",width:"1.2em"}},children:[r.queries[o].access===m.GLOBAL?e.jsx(ae,{}):e.jsx(oe,{}),e.jsx(c,{sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"300px",textTransform:"none",fontWeight:"bold"},children:s(o)})]}),value:o}))]})}),e.jsxs(c,{className:"pp-query-builder-panels",children:[...Object.keys(r.queries).map(o=>e.jsx(d.Suspense,{children:e.jsx(xs,{queries:r.queries,queryKey:o,databases:r.databases,fullScreen:l},o)}))]}),Object.keys(r.queries).length===0&&e.jsxs(Ge,{sx:{padding:"50px",marginTop:"5px"},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx("span",{children:"Open"}),e.jsx(ye,{}),e.jsx("strong",{children:"Menu"})]}),e.jsxs(c,{sx:{margin:"20px 0 0 0",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(de,{})," ",e.jsx("strong",{children:"New"})," to create new query"]}),e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(pe,{})," ",e.jsx("strong",{children:"Open"})," to edit existing query"]})]})]})]})]})},Zs=Object.freeze(Object.defineProperty({__proto__:null,default:hs},Symbol.toStringTag,{value:"Module"}));export{m as A,Zs as Q,Vs as a,ls as b,us as c,Hs as d,Js as e,Ys as f,Xs as g,$s as q,X as u};
