const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableMap-1.0.43-DvPzIk-1.js","./main-1.0.43.js","./cm-1.0.43-BIThoEwM.js","./redux-1.0.43-X9ShETON.js","./vendor-1.0.43-CN03Eozo.js","./lib-1.0.43-GM4CAPbj.js","./loglevel-1.0.43-BZ7XahX3.js","./lodash-1.0.43-BGoSrRk7.js","./moment-1.0.43-C5S46NFB.js","./index-1.0.43-DuBV8iHb.js","./index-1.0.43-DTrIm2Pv.js","./ConfirmDialog-1.0.43-HyVPTU5U.js","./iconBase-1.0.43-BkINToSh.js","./Typography-1.0.43-CjHjtdZs.js","./useEnhancedEffect-1.0.43-DcXwKdLb.js","./AdminTheme-1.0.43-CqjS-p3h.js","./index-1.0.43-Br_nYvvF.js","./notistack-1.0.43-CFZ1B9cW.js","./Tooltip-1.0.43-Dw3sfo8K.js","./ThemeProvider-1.0.43-BdkGbeAu.js","./useControlled-1.0.43-DObA-A1B.js","./Popper-1.0.43-8Yb3KIgh.js","./Menu-1.0.43-TbmZ3Ge2.js","./Spinner-1.0.43-YmZqinVQ.js","./TableChart-1.0.43-DV2KMNmX.js","./ChartTypeSelection-1.0.43-CRXnDC8e.js","./ChartTypes-1.0.43-BiOBEYwy.js","./index-1.0.43-CvTha0tS.js","./FormHelperText-1.0.43-BbvxPfFT.js","./utils-1.0.43-iop7lDec.js","./useFormControl-1.0.43-D7bmEJOO.js","./TextField-1.0.43-DsZQBbKY.js","./Select-1.0.43-CISjJoqC.js","./createSvgIcon-1.0.43-C8_lU5Lv.js","./FormLabel-1.0.43-DuYrsDLO.js","./MenuItem-1.0.43-Uicrp-o6.js","./ListItemIcon-1.0.43-BCRBmmI9.js","./Chart-1.0.43-CHiZoiI3.js","./useChartSettings-1.0.43-CyXaF5Yk.js","./useRemoveAppFromStore-1.0.43-BZ2w6e3F.js","./lang-1.0.43-B1WmIuB6.js","./hooks-1.0.43-Bzf6s8gj.js","./useMetadata-1.0.43-5v27HTeK.js","./AppTheme-1.0.43-C6ZTpO5w.js","./index-1.0.43-C6_8mZyP.js","./getThemeProps-1.0.43-5uxEwZ_e.js","./TableChartSelection-1.0.43-8IQdD-aH.js","./useTableColumnOrder-1.0.43-5WBDSDKj.js","./Autocomplete-1.0.43-C-3GGJwT.js","./Close-1.0.43-DZEA4jNx.js","./Chip-1.0.43-Ci13k7gB.js","./TableToolbarInlineEditingButton-1.0.43-D8Rj9Ipr.js","./TableQuery-1.0.43-DsYp_fFW.js","./useStoreTable-1.0.43-L56KWd1n.js","./index-1.0.43-D62bof4B.js","./Tooltip-1.0.43-dEMLW8-v.js","./Tooltip-1.0.43--D4jr2go.css","./SanitizeComponent-1.0.43-DS8pdFaO.js","./dompurify-1.0.43-DhD2mIk-.js","./useAppFunctions-1.0.43-CiC-p3-f.js","./tanstack-1.0.43-B1O1sUTh.js","./index.esm-1.0.43-B1V1l_dh.js","./Stack-1.0.43-Bz9AkBaK.js","./useThemeProps-1.0.43-C5lTKcwO.js","./Radio-1.0.43-GAuAP3gY.js","./SwitchBase-1.0.43-jxlYBoq8.js","./Checkbox-1.0.43-C_H-ygma.js","./Collapse-1.0.43-CtSvLI94.js","./AlertTitle-1.0.43-CmdM_nv2.js","./InputAdornment-1.0.43-9P5bF1dN.js","./TableRow-1.0.43-PHyz2C67.js","./TableHead-1.0.43-DimterWj.js","./Divider-1.0.43-BNePHRrN.js","./FormControlLabel-1.0.43-DhLqIzQC.js","./Switch-1.0.43-DUXi6nEm.js","./Slider-1.0.43-DwDICOHK.js","./visuallyHidden-1.0.43-Dan1xhjv.js","./TimePicker-1.0.43-ykLKdyjf.js","./useMobilePicker-1.0.43-wKjIFMVp.js","./ListItem-1.0.43-Bg1FR-64.js","./timeViewRenderers-1.0.43-BWypgxuk.js","./DateTimePicker-1.0.43-MatMNCyw.js","./Tabs-1.0.43-C3a4iH_4.js","./dateViewRenderers-1.0.43-X8xYeo7E.js","./DatePicker-1.0.43-12Z9ZRmK.js","./RestApi-1.0.43-DDknciaN.js","./tab-1.0.43-6bV41ZmB.js","./TableContainer-1.0.43-_5zYCHJT.js","./FallbackSpinner-1.0.43-SRqLbyxS.js","./ActionsSettings-1.0.43-DMMuBz79.js","./TargetEnum-1.0.43-CIW1jlU5.js","./ScopeEnum-1.0.43-B4DDvIDj.js","./index-1.0.43-Lwi8RVeB.js","./settings-1.0.43-kDKJ-WYT.js","./settings-1.0.43-Bx2jvYL6.css","./useTableUpdater-1.0.43-C8DXp04q.js","./DynamicModeEnum-1.0.43-BXuL5kgA.js","./useFormDetails-1.0.43-D5LxUh_w.js","./CardContent-1.0.43-B1eq8QmP.js","./TabPanel-1.0.43-BFjnBi0G.js","./SharedContainer-1.0.43-tDTKa5Wc.js","./ActionsDml-1.0.43-CZ8W9C-X.js","./useStoreFormSettings-1.0.43-FA6xRyVh.js","./useScreenSize-1.0.43-BkaemLwA.js","./dayjs.min-1.0.43-B1axidXt.js","./AlertDialog-1.0.43-Der7jh53.js","./SharedContainer-1.0.43-DR7D6eET.css","./math-1.0.43-BQt3B2Pe.js","./AggregationLabelsEnum-1.0.43-B-3lhjpJ.js","./useTableCode-1.0.43-DjIQp3xS.js","./TableQuery-1.0.43-YHXdb7Qm.css"])))=>i.map(i=>d[i]);
import{_ as W}from"./main-1.0.43.js";import{j as t}from"./cm-1.0.43-BIThoEwM.js";import{r as i}from"./redux-1.0.43-X9ShETON.js";import{l as u,w as ke,H as se,bB as Be,aq as ne,aU as Pe,bY as le,c7 as Oe}from"./lib-1.0.43-GM4CAPbj.js";import{G as Ne,M as Fe,o as Ee,P as Ie,a5 as Me}from"./index-1.0.43-Br_nYvvF.js";import{P as Ae,b as ie,a as qe}from"./index-1.0.43-DuBV8iHb.js";import{q as ce,r as Ve,s as Je}from"./index-1.0.43-Lwi8RVeB.js";import{G as ze,j as We,B as Ge,L as He}from"./jstoxml-1.0.43-CSd7zmj4.js";import{F as X}from"./FileSaver.min-1.0.43-DXynXHP3.js";import"./dompurify-1.0.43-DhD2mIk-.js";import{u as Ke,a as Xe,b as Ue}from"./TableQuery-1.0.43-DsYp_fFW.js";import{d as Qe}from"./ActionsDml-1.0.43-CZ8W9C-X.js";import{B as J,C as Ye}from"./ConfirmDialog-1.0.43-HyVPTU5U.js";import{e as V}from"./notistack-1.0.43-CFZ1B9cW.js";import{a as Ze}from"./hooks-1.0.43-Bzf6s8gj.js";import{a as $e}from"./useRemoveAppFromStore-1.0.43-BZ2w6e3F.js";import{a as Le}from"./AppTheme-1.0.43-C6ZTpO5w.js";import{u as de}from"./index-1.0.43-C6_8mZyP.js";import{B as C}from"./Spinner-1.0.43-YmZqinVQ.js";import{I as A}from"./iconBase-1.0.43-BkINToSh.js";import{F as fe}from"./FormHelperText-1.0.43-BbvxPfFT.js";import{A as De}from"./Autocomplete-1.0.43-C-3GGJwT.js";import{C as er}from"./Chip-1.0.43-Ci13k7gB.js";import{T as rr}from"./TextField-1.0.43-DsZQBbKY.js";import{T as z}from"./Tooltip-1.0.43-Dw3sfo8K.js";import{P as or}from"./Menu-1.0.43-TbmZ3Ge2.js";import{F as ue}from"./FormLabel-1.0.43-DuYrsDLO.js";import{F as _}from"./FormControlLabel-1.0.43-DhLqIzQC.js";import{C as tr}from"./Checkbox-1.0.43-C_H-ygma.js";import{R as sr}from"./RadioGroup-1.0.43-USnV9oxc.js";import{R as F}from"./Radio-1.0.43-GAuAP3gY.js";import{R as pe}from"./SharedContainer-1.0.43-tDTKa5Wc.js";import{F as me}from"./FallbackSpinner-1.0.43-SRqLbyxS.js";import"./moment-1.0.43-C5S46NFB.js";import{u as nr}from"./useAppFunctions-1.0.43-CiC-p3-f.js";import"./vendor-1.0.43-CN03Eozo.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./index-1.0.43-DTrIm2Pv.js";import"./jstoxml-1.0.43-DkGlThlH.js";import"./useStoreTable-1.0.43-L56KWd1n.js";import"./index-1.0.43-D62bof4B.js";import"./Tooltip-1.0.43-dEMLW8-v.js";import"./SanitizeComponent-1.0.43-DS8pdFaO.js";import"./index-1.0.43-CvTha0tS.js";import"./tanstack-1.0.43-B1O1sUTh.js";import"./index.esm-1.0.43-B1V1l_dh.js";import"./createSvgIcon-1.0.43-C8_lU5Lv.js";import"./Stack-1.0.43-Bz9AkBaK.js";import"./useThemeProps-1.0.43-C5lTKcwO.js";import"./getThemeProps-1.0.43-5uxEwZ_e.js";import"./Collapse-1.0.43-CtSvLI94.js";import"./AlertTitle-1.0.43-CmdM_nv2.js";import"./Close-1.0.43-DZEA4jNx.js";import"./InputAdornment-1.0.43-9P5bF1dN.js";import"./useFormControl-1.0.43-D7bmEJOO.js";import"./Select-1.0.43-CISjJoqC.js";import"./utils-1.0.43-iop7lDec.js";import"./useControlled-1.0.43-DObA-A1B.js";import"./MenuItem-1.0.43-Uicrp-o6.js";import"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./TableRow-1.0.43-PHyz2C67.js";import"./ListItemIcon-1.0.43-BCRBmmI9.js";import"./TableHead-1.0.43-DimterWj.js";import"./Divider-1.0.43-BNePHRrN.js";import"./Switch-1.0.43-DUXi6nEm.js";import"./SwitchBase-1.0.43-jxlYBoq8.js";import"./Slider-1.0.43-DwDICOHK.js";import"./visuallyHidden-1.0.43-Dan1xhjv.js";import"./TimePicker-1.0.43-ykLKdyjf.js";import"./useMobilePicker-1.0.43-wKjIFMVp.js";import"./Popper-1.0.43-8Yb3KIgh.js";import"./ListItem-1.0.43-Bg1FR-64.js";import"./timeViewRenderers-1.0.43-BWypgxuk.js";import"./DateTimePicker-1.0.43-MatMNCyw.js";import"./Tabs-1.0.43-C3a4iH_4.js";import"./dateViewRenderers-1.0.43-X8xYeo7E.js";import"./DatePicker-1.0.43-12Z9ZRmK.js";import"./lang-1.0.43-B1WmIuB6.js";import"./RestApi-1.0.43-DDknciaN.js";import"./tab-1.0.43-6bV41ZmB.js";import"./TableContainer-1.0.43-_5zYCHJT.js";import"./AdminTheme-1.0.43-CqjS-p3h.js";import"./ActionsSettings-1.0.43-DMMuBz79.js";import"./TargetEnum-1.0.43-CIW1jlU5.js";import"./ScopeEnum-1.0.43-B4DDvIDj.js";import"./settings-1.0.43-kDKJ-WYT.js";import"./useTableUpdater-1.0.43-C8DXp04q.js";import"./DynamicModeEnum-1.0.43-BXuL5kgA.js";import"./useFormDetails-1.0.43-D5LxUh_w.js";import"./CardContent-1.0.43-B1eq8QmP.js";import"./TabPanel-1.0.43-BFjnBi0G.js";import"./useChartSettings-1.0.43-CyXaF5Yk.js";import"./math-1.0.43-BQt3B2Pe.js";import"./AggregationLabelsEnum-1.0.43-B-3lhjpJ.js";import"./useTableCode-1.0.43-DjIQp3xS.js";import"./useTableColumnOrder-1.0.43-5WBDSDKj.js";import"./useMetadata-1.0.43-5v27HTeK.js";import"./useStoreFormSettings-1.0.43-FA6xRyVh.js";import"./useScreenSize-1.0.43-BkaemLwA.js";import"./dayjs.min-1.0.43-B1axidXt.js";import"./AlertDialog-1.0.43-Der7jh53.js";const lr=({openSelection:g,setOpenSelection:f,appLanguage:s,columnLabels:p,availableColumns:y,selectedColumns:l,setSelectedColumns:x})=>{const k=de("(max-width:900px)"),S=de("(max-width:600px)");return t.jsx(Ne,{open:g,onClose:()=>{f(!1)},children:t.jsxs(C,{sx:{position:"absolute",top:"25%",left:"50%",transform:"translate(-50%, -50%)",width:S?"80vw":k?"70vw":"60vw",maxWidth:"700px",bgcolor:"background.paper",boxShadow:24,borderRadius:"4px",p:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"-20px"},children:[t.jsx("h3",{children:s.selectFromList}),t.jsx(A,{onClick:()=>{f(!1)},children:t.jsx(Fe,{})})]}),t.jsx(fe,{fullWidth:!0,children:t.jsx(De,{multiple:!0,options:y,value:l,disableCloseOnSelect:!0,getOptionLabel:a=>p[a],onChange:(a,B)=>{x(B),a.stopPropagation()},renderInput:a=>t.jsx(rr,{...a}),renderTags:(a,B)=>a.map((h,P)=>{const{key:j,...T}=B({index:P});return t.jsx(er,{variant:"outlined",label:p[h],...T},j)})})})]})})},ir=({table:g,appId:f,metaData:s,bulkActions:p,tableStore:y,appLanguage:l,locale:x,refetch:k,componentWidth:S,aggregates:a,toggleAllRows:B})=>{u.debug(f,s,p);const h=Ze(),P=y.table,j=y.columns;$e(f),Ke(f);const[T]=i.useState(y.table.clientSideProcessing),E=r=>{var e,o,n;for(let c=0;c<((e=s==null?void 0:s.columns)==null?void 0:e.length);c++)if(((o=s==null?void 0:s.columns[c])==null?void 0:o.column_name)===r)return(n=s==null?void 0:s.columns[c])==null?void 0:n.data_type;return"varchar"},G=r=>{var e,o,n;for(let c=0;c<((e=s==null?void 0:s.columns)==null?void 0:e.length);c++)if(((o=s==null?void 0:s.columns[c])==null?void 0:o.column_name)===r)return(n=s==null?void 0:s.columns[c])==null?void 0:n.column_type;return null},U=r=>I.map(e=>{const o={};for(let n=0;n<m.length;n++)e[b[m[n]]]===null?r==="csv"?o[b[m[n]]]="":o[b[m[n]]]=null:le(E(m[n]))==="number"?o[b[m[n]]]=Number(e[b[m[n]]]):o[b[m[n]]]=e[b[m[n]]];return o}),q=()=>{var r,e,o;return(r=s==null?void 0:s.src)!=null&&r.app_id?"ppBulkAction-"+s.src.app_id+"-"+s.src.cnt_id:(e=s==null?void 0:s.src)!=null&&e.dbs&&((o=s==null?void 0:s.src)!=null&&o.tbl)?"ppBulkAction-"+s.src.dbs+"-"+s.src.tbl:null},[pr,mr]=i.useState(()=>{try{const r=localStorage.getItem("ppBulkAction-pdforientation");if(r!==null)return r}catch(r){u.debug(r)}return"landscape"}),[fr,xr]=i.useState(()=>{try{const r=localStorage.getItem("ppBulkAction-pdfstyle");if(r!==null)return r}catch(r){u.debug(r)}return"striped"}),[ar,hr]=i.useState(()=>{try{const r=localStorage.getItem("ppBulkAction-poweredBy");if(r!==null)return r==="true"}catch(r){u.debug(r)}return!1});let Q="csv";p.select!==void 0&&(Q="select");const[d,Y]=i.useState(Q),[xe,Z]=i.useState(!1),$=r=>{var e;return r==="delete"&&((e=s==null?void 0:s.privs)==null?void 0:e.delete)&&!ne(s)&&(p==null?void 0:p.delete)===!0&&P.transactions.delete||r!=="delete"&&p[r]===!0};i.useEffect(()=>{if(!$(d)){let r=null;for(let e in p)$(e)&&r===null&&(r=e);Y(r??"")}},[p]);const ae=i.useMemo(()=>ke(),[]),w=Xe(f),O=i.useMemo(()=>{const r={};return j.filter(e=>e.lookup!==void 0&&w!==void 0&&w[e.columnName]!==void 0).map(e=>{var o;if(w!==void 0&&w[e.columnName]!==void 0){const n=[];for(const c in w[e.columnName]){const K={key:c,value:Array.isArray(w[e.columnName][c])?w[e.columnName][c].join((o=e.lookup)==null?void 0:o.delimiter):w[e.columnName][c]};n.push(K)}r[e.columnName]=n}}),r},[w,j]);u.debug("lookupColumns",O);const N=i.useMemo(()=>{const r={};return j.filter(e=>e.computedField!==void 0).map(e=>{r[e.columnName]=e.computedField}),r},[j]);u.debug(N);const b=i.useMemo(()=>{const r={};return j.map(e=>{N[e.columnName]?r[e.columnName]=N[e.columnName].label:r[e.columnName]=e.columnLabel}),r},[N,j]);u.debug(b);const he=(r,e)=>{if(O!==void 0&&O[r]!==void 0){const o=O[r].filter(n=>n.key===e);if(Array.isArray(o)&&o.length===1)return o[0].value}return e},H=g.getAllColumns(),v=g.getSelectedRowModel().rows,R=i.useMemo(()=>H.filter(r=>r.id!=="mrt-row-actions"&&r.id!=="mrt-row-select"&&r.id!=="mrt-row-expand").map(r=>r.id),[]);u.debug(R);const L=i.useMemo(()=>R.map(r=>{const e=G(r);if(e===null)return 20;if(e.indexOf("(")!==-1){let o=e.substring(e.indexOf("(")+1);return o.indexOf(")")!==-1&&(o=o.substring(0,o.indexOf(")"))),o.indexOf(".")!==-1&&(o=o.substring(0,o.indexOf("."))),o.indexOf(",")!==-1&&(o=o.substring(0,o.indexOf(","))),Number(o)}return null}),[R]);u.debug(L);const[D,br]=i.useState(()=>{const r=q();if(r!==null)try{const e=localStorage.getItem(r+"-wrapped-columns");if(e!==null)return JSON.parse(e)}catch(e){u.debug(e)}return R.filter((e,o)=>(L[o]??99)<=20)});u.debug(D);const ee=i.useMemo(()=>{const r=q();if(r!==null)try{const e=localStorage.getItem(r);if(e!==null)return JSON.parse(e)}catch(e){u.debug(e)}return R},[R]);u.debug(ee);const[m,be]=i.useState(ee);u.debug(m);const I=v.map(r=>{const e={};return H.map(o=>{o.id!=="mrt-row-actions"&&o.id!=="mrt-row-select"&&o.id!=="mrt-row-expand"&&(O!==void 0&&O[o.id]!==void 0?e[b[o.id]]=he(o.id,r.getValue(o.id)):N[o.id]||(e[b[o.id]]=r.getValue(o.id)))}),e});u.debug(I);const re=v.map(r=>{const e={};return H.map(o=>{o.id!=="mrt-row-actions"&&o.id!=="mrt-row-select"&&o.id!=="mrt-row-expand"&&N[o.id]===void 0&&(e[o.id]=r.getValue(o.id))}),e});u.debug(re);const M=()=>{var r,e;return(s==null?void 0:s.src)===void 0?f:s.src.app_id&&((e=(r=s==null?void 0:s.app)==null?void 0:r.app[0])==null?void 0:e.app_title)!==""?s.app.app[0].app_title:s.src.dbs?s.src.tbl:f},oe=ze({filename:M(),fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),[je,jr]=i.useState(()=>{const r=q();if(r!==null)try{const e=localStorage.getItem(r+"-pdf-title");if(e!==null)return e}catch(e){u.debug(e)}return M()});u.debug("pdfTitle",je);const ge=async()=>{},we=()=>{const r=Ge(oe)(U("csv"));He(oe)(r)},ye=()=>{X(new Blob([JSON.stringify(U("json"))],{type:"text/json;charset=utf-8"}),M()+".json")};i.useRef();const ve=()=>{const r=v.map(o=>{const n={};for(let c=0;c<m.length;c++)o.original[m[c]]!==void 0&&(n[m[c]]=o.original[m[c]]??"");return{row:n}}),e=We.toXML({table:r});X(new Blob([e],{type:"text/plain;charset=utf-8"}),M()+".xml")},Ce=()=>{const r=Pe(f);u.debug(r);let e="insert into "+r.tbl+" (";Object.keys(v[0].original).map(o=>{e+=o+","}),e=e.slice(0,-1)+") values ";for(let o=0;o<I.length;o++){const n=I[o];e+="(";for(const c in n){const K=le(E(c));n[c]===null?e+="null,":K==="number"?e+=n[c]+",":e+="'"+n[c]+"',"}e=e.slice(0,-1),e+="),"}e=e.slice(0,-1)+`;
`,X(new Blob([e],{type:"text/plain;charset=utf-8"}),M()+".sql")},Se=()=>{h(se({appId:f,property:{isRowCountUpdated:!0}}));for(let r=0;r<I.length;r++){const e=Oe(s,re[r]);Qe(f,e,o=>{if(o!=null&&o.code&&(o!=null&&o.message))switch(o.code){case"ok":V(l.deletedSuccessful,{variant:"success"}),k();break;default:u.error(o),V(o.message??l.invalidResponse,{variant:"error"})}else u.error(o),V(l.invalidResponse,{variant:"error"})},o=>{u.error("error",o),V(o??l.invalidResponse,{variant:"error"})})}g.setRowSelection({})},Te=()=>null,Re=()=>null,[gr,wr]=i.useState(0),[yr,vr]=i.useState(0),[_e,te]=i.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Ae,{variant:"popover",popupId:ae,children:r=>{var e;return t.jsxs(t.Fragment,{children:[S<900?t.jsx(z,{title:l.bulkActions,children:t.jsx(A,{...ie(r),children:t.jsx(ce,{})})}):t.jsx(J,{variant:"contained",endIcon:t.jsx(ce,{}),...ie(r),children:l.bulkActions}),y.state.relTab===!0&&t.jsx(J,{variant:"contained",startIcon:t.jsx(Ee,{}),sx:{marginLeft:"10px"},onClick:()=>{h(se({appId:f,property:{isRelTabOpen:!1}}))},children:l.back}),t.jsx(or,{...qe(r),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)"},children:t.jsxs(C,{sx:{display:"grid",gap:"20px",padding:"20px"},children:[T===!0?t.jsx(t.Fragment,{children:v.length===0&&t.jsxs(C,{sx:{textAlign:"center",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[t.jsx(ue,{sx:{textAlign:"center"},children:l.noRowsSelected}),t.jsx(fe,{children:t.jsx(_,{control:t.jsx(tr,{className:"pp-checkbox",checked:v.length>0,onChange:()=>{B()}}),label:t.jsx(C,{sx:{display:"flex",alignItems:"center"},children:l.selectAll})})})]})}):t.jsx(t.Fragment,{children:v.length===0&&t.jsx(C,{sx:{textAlign:"center"},children:t.jsx(ue,{children:l.noRowsSelected})})}),t.jsxs(sr,{value:d,onChange:(o,n)=>{Y(n),o.stopPropagation()},children:[Te(),p.csv&&t.jsx(_,{value:"csv",label:l.exportToCsv,control:t.jsx(F,{})}),p.json&&t.jsx(_,{value:"json",label:l.exportToJson,control:t.jsx(F,{})}),Re(),p.xml&&t.jsx(_,{value:"xml",label:l.exportToXml,control:t.jsx(F,{})}),p.sql&&!Be(f)&&t.jsx(_,{value:"sql",label:l.exportToSql,control:t.jsx(F,{})}),((e=s==null?void 0:s.privs)==null?void 0:e.delete)&&!ne(s)&&(p==null?void 0:p.delete)===!0&&P.transactions.delete&&t.jsx(_,{value:"delete",label:l.deletePermanently,control:t.jsx(F,{})}),(p.select??!1)&&t.jsx(_,{value:"select",label:l.addSelectedRow,control:t.jsx(F,{})})]}),t.jsxs(C,{sx:{display:"grid",gridTemplateColumns:d==="pdf"||d==="csv"||d==="json"||d==="excel"||d==="xml"?"1fr auto":"1fr",gap:"10px"},children:[t.jsx(J,{variant:"contained",onClick:()=>{if(d==="pdf"||d==="csv"||d==="json"||d==="excel"||d==="xml"){const o=q();if(o!==null)try{localStorage.setItem(o,JSON.stringify(m)),localStorage.setItem(o+"-wrapped-columns",JSON.stringify(D))}catch(n){u.debug(n)}}switch(d){case"pdf":ge();break;case"csv":we();break;case"json":ye();break;case"excel":break;case"xml":ve();break;case"sql":Ce();break;case"delete":Z(!0);break}},disabled:v.length===0||(d==="pdf"||d==="csv"||d==="json"||d==="excel"||d==="xml")&&(m==null?void 0:m.length)===0,children:l.apply}),(d==="pdf"||d==="csv"||d==="json"||d==="excel"||d==="xml")&&t.jsx(z,{title:x.showHideColumns,children:t.jsx(A,{onClick:()=>{te(!0)},children:t.jsx(Ie,{})})})]})]})})]})}}),t.jsx(Ye,{title:l.deleteRowsTitle,message:l.deleteRowsMessage,open:xe,setOpen:Z,onConfirm:()=>{Se()},theme:Le}),t.jsx(lr,{openSelection:_e,setOpenSelection:te,appLanguage:l,columnLabels:b,availableColumns:R,selectedColumns:m,setSelectedColumns:be})]})},cr=i.lazy(()=>W(()=>import("./TableMap-1.0.43-DvPzIk-1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url)),dr=i.lazy(()=>W(()=>import("./TableChart-1.0.43-DV2KMNmX.js"),__vite__mapDeps([24,2,3,4,9,10,11,12,13,5,6,7,8,14,15,16,17,25,26,27,28,29,30,31,32,22,19,20,33,34,35,36,37,1,38,39,40,41,23,18,21,42,43,44,45,46,47,48,49,50]),import.meta.url)),ur=i.lazy(()=>W(()=>import("./TableToolbarInlineEditingButton-1.0.43-D8Rj9Ipr.js"),__vite__mapDeps([51,2,3,4,52,1,5,6,7,8,53,41,17,54,16,12,13,14,55,56,57,58,27,59,42,60,61,33,44,45,62,63,18,19,20,21,23,64,65,30,66,11,15,22,50,67,68,49,31,32,29,34,28,69,35,70,36,71,72,73,74,48,75,76,77,78,10,79,80,81,82,83,84,40,85,86,39,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,38,102,43,103,104,105,106,107,108,109,47,110]),import.meta.url));i.lazy(()=>W(()=>import("./SharedContainer-1.0.43-tDTKa5Wc.js").then(g=>g.D),__vite__mapDeps([100,1,2,3,4,5,6,7,8,41,23,13,15,53,101,85,17,42,38,39,40,16,12,14,102,97,96,43,44,45,59,103,11,58,104,19,88,105,57,18,20,21,106]),import.meta.url));const wt=({table:g,metaData:f,appId:s,bulkActions:p,hasBulkActions:y,tableStore:l,appLanguage:x,locale:k,refetch:S,showForm:a,appSettings:B,componentWidth:h,aggregates:P,toggleAllRows:j})=>{var E;const T=l.table;return nr(s),Ue(s),t.jsxs(C,{sx:{display:"flex",flexWrap:"nowrap",gap:h<600?"0":"8px",alignItems:"center",whiteSpace:"nowrap"},className:"pp-toolbar-buttons",children:[t.jsx(z,{arrow:!0,title:x.refresh,className:"ppToolbarRefreshIcon",children:t.jsx(A,{onClick:()=>S(),children:t.jsx(Me,{})})}),((E=T==null?void 0:T.transactions)==null?void 0:E.insert)&&t.jsx(t.Fragment,{children:h<900?t.jsx(z,{title:x.newRow,children:t.jsx(A,{onClick:()=>{a(null,pe.INSERT)},children:t.jsx(Ve,{})})}):t.jsx(J,{variant:"contained",startIcon:t.jsx(Je,{}),onClick:()=>{a(null,pe.INSERT)},children:x.newRow})}),y&&t.jsx(ir,{table:g,appId:s,metaData:f,bulkActions:p,tableStore:l,appLanguage:x,locale:k,refetch:S,componentWidth:h,aggregates:P,toggleAllRows:j}),l.table.maps.enabled&&!0&&t.jsx(i.Suspense,{children:t.jsx(cr,{appId:s,componentWidth:h,tableStore:l,appLanguage:x})}),l.table.charts.enabled===!0&&(l.table.charts.interactive===!0||!0)&&t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(dr,{appId:s,componentWidth:h,tableStore:l,metaData:f,appLanguage:x})}),l.table.inlineEditing.addColumnButton===!1&&l.columns.filter(G=>G.inlineEditing===!0).length>0&&t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(ur,{appId:s,metaData:f,locale:k,appLanguage:x,componentWidth:h,refetch:S})}),!1]})};export{wt as default};
