import{j as e}from"./cm-1.0.43-BIThoEwM.js";import{P as J,b as Q,a as X}from"./index-1.0.43-DuBV8iHb.js";import{r,R as Y}from"./redux-1.0.43-X9ShETON.js";import{S as Z,T as p,u as $}from"./SettingsTableGlobalCode-1.0.43-CpFPaRM-.js";import{P as D}from"./PremiumFeature-1.0.43-BD8gtQwD.js";import{l as n,w as k,ct as ee,cu as oe}from"./lib-1.0.43-GM4CAPbj.js";import{B as te}from"./ConfirmDialog-1.0.43-HyVPTU5U.js";import{a as re}from"./hooks-1.0.43-Bzf6s8gj.js";import{a as se,e as ie}from"./SharedContainer-1.0.43-tDTKa5Wc.js";import{u as ne}from"./useMetadata-1.0.43-5v27HTeK.js";import{C as de}from"./index-1.0.43-Crrt7rhH.js";import{e as me}from"./notistack-1.0.43-CFZ1B9cW.js";import{q as le}from"./index-1.0.43-Lwi8RVeB.js";import{j as pe,ab as ae}from"./index-1.0.43-Br_nYvvF.js";import{u as ce}from"./useGlobalCode-1.0.43-CT9g-lUD.js";import{A as G,a as U}from"./AccordionSummary-1.0.43-CNpHbZtu.js";import{B as c}from"./Spinner-1.0.43-YmZqinVQ.js";import{T as B}from"./Tooltip-1.0.43-Dw3sfo8K.js";import{I as M}from"./iconBase-1.0.43-BkINToSh.js";import{P as ue}from"./Menu-1.0.43-TbmZ3Ge2.js";import{S as fe}from"./TreeItem2Provider-1.0.43-C2Ft9Foa.js";import"./vendor-1.0.43-CN03Eozo.js";import"./index-1.0.43-DTrIm2Pv.js";import"./Typography-1.0.43-CjHjtdZs.js";import"./Checkbox-1.0.43-C_H-ygma.js";import"./SwitchBase-1.0.43-jxlYBoq8.js";import"./useFormControl-1.0.43-D7bmEJOO.js";import"./useControlled-1.0.43-DObA-A1B.js";import"./createSvgIcon-1.0.43-C8_lU5Lv.js";import"./Collapse-1.0.43-CtSvLI94.js";import"./index-1.0.43-CvTha0tS.js";import"./AdminTheme-1.0.43-CqjS-p3h.js";import"./FormLabel-1.0.43-DuYrsDLO.js";import"./loglevel-1.0.43-BZ7XahX3.js";import"./lodash-1.0.43-BGoSrRk7.js";import"./moment-1.0.43-C5S46NFB.js";import"./main-1.0.43.js";import"./useStoreTable-1.0.43-L56KWd1n.js";import"./ActionsDml-1.0.43-CZ8W9C-X.js";import"./RestApi-1.0.43-DDknciaN.js";import"./useChartSettings-1.0.43-CyXaF5Yk.js";import"./useRemoveAppFromStore-1.0.43-BZ2w6e3F.js";import"./lang-1.0.43-B1WmIuB6.js";import"./useStoreFormSettings-1.0.43-FA6xRyVh.js";import"./useFormDetails-1.0.43-D5LxUh_w.js";import"./DynamicModeEnum-1.0.43-BXuL5kgA.js";import"./AppTheme-1.0.43-C6ZTpO5w.js";import"./index-1.0.43-C6_8mZyP.js";import"./getThemeProps-1.0.43-5uxEwZ_e.js";import"./useEnhancedEffect-1.0.43-DcXwKdLb.js";import"./useAppFunctions-1.0.43-CiC-p3-f.js";import"./useScreenSize-1.0.43-BkaemLwA.js";import"./dompurify-1.0.43-DhD2mIk-.js";import"./dayjs.min-1.0.43-B1axidXt.js";import"./ThemeProvider-1.0.43-BdkGbeAu.js";import"./FallbackSpinner-1.0.43-SRqLbyxS.js";import"./AlertDialog-1.0.43-Der7jh53.js";import"./SanitizeComponent-1.0.43-DS8pdFaO.js";import"./ctc-1.0.43-C-ZXureb.js";import"./Popper-1.0.43-8Yb3KIgh.js";import"./useThemeProps-1.0.43-C5lTKcwO.js";const Bo=({appId:a,tableSettings:C,setUpdateStatus:y,buttonEditorOk:u})=>{n.debug(a,C),re();const[W,f]=r.useState(!0),[xe,g]=r.useState(!1),j=r.useMemo(()=>k(),[]);n.debug("popupId",j);const K=ce(),d=ie(),O=se(a),o=ne(a),{formIcon:_,codeLabel:I,codeTitle:x,columnIcon:L,dataTypeIcon:N,getColumnLabel:R}=$(f,g),[be,he]=r.useState(""),[Ce,ge]=r.useState(!1),[je,Ie]=r.useState(void 0),[ve,Se]=r.useState(void 0),z=i=>{const l=["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(o==null?void 0:o.media[i])||(o==null?void 0:o.media[i])==="HyperlinkObject";return n.debug("disableColumnEvents",l),!l},[v,H]=r.useState(!1);r.useEffect(()=>{v&&(u(),H(!1))},[v]);const[S,q]=r.useState(!1);r.useEffect(()=>{S&&(u(),q(!1))},[S]);const[T,V]=r.useState(!1);return r.useEffect(()=>{T&&(u(),V(!1))},[T]),e.jsxs(Y.Fragment,{children:[e.jsx(G,{disableGutters:!0,children:e.jsx(U,{component:"div",children:e.jsx(J,{variant:"popover",popupId:j,children:i=>{var l,F,w,A;return e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{width:"100%",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(te,{variant:"contained",endIcon:e.jsx(le,{}),...Q(i),onMouseDown:()=>{i.isOpen&&f(!0)},children:"List of hooks"}),e.jsxs(c,{children:[e.jsx(de,{text:"{ appId: "+((l=o==null?void 0:o.src)==null?void 0:l.app_id)+" , cntId: "+((F=o==null?void 0:o.src)==null?void 0:F.cnt_id)+" }",onCopy:()=>{me("Code successfully copied to clipboard",{variant:"info"})},children:e.jsx(B,{title:"{ appId: "+((w=o==null?void 0:o.src)==null?void 0:w.app_id)+" , cntId: "+((A=o==null?void 0:o.src)==null?void 0:A.cnt_id)+" }",children:e.jsx(M,{children:e.jsx(pe,{})})})}),e.jsx(B,{title:"Documentation",children:e.jsx(M,{onClick:()=>{window.open("https://wpdataaccess.com/docs/hooks/getting-started-with-hooks/","_blank")},children:e.jsx(ae,{})})})]})]}),e.jsx(ue,{...X(i),open:i.isOpen&&W,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{maxHeight:"70vh",marginRight:"35px","& span":{userSelect:"none",MozUserSelect:"none",KhtmlUserSelect:"none",WebkitUserSelect:"none",OUserSelect:"none"}},children:e.jsx(c,{sx:{minWidth:"360px",display:"grid",gap:"20px",padding:"20px","& .MuiTreeItem-content:hover ":{background:"rgba(248, 248, 248, 1) !important"}},children:e.jsxs(fe,{children:[e.jsx(Z,{appId:a,tableSettings:C,globalCode:K,setUpdateStatus:y,setOpen:f,setAutoExpand:g}),e.jsx(p,{itemId:"formGroup",label:x(_(),"Form"),children:ee.map(t=>{var b,s;return e.jsx(p,{itemId:"table-"+t,label:I(t,()=>{},d!==void 0&&d[t]!==void 0,(d!==void 0&&((b=d[t])==null?void 0:b.visible))??!0,m=>{n.debug(m)},(d!==void 0&&((s=d[t])==null?void 0:s.enabled))??!0,m=>{n.debug(m)})},"table-"+t)})},"formGroup"),e.jsxs(p,{itemId:"columnGroup",label:x(L(),"Columns"),children:[...O.map((t,b)=>t.computedField!==void 0?null:e.jsx(p,{itemId:t.columnName,label:x(N(),R(t)),style:{paddingLeft:"35px"},children:oe.map(s=>{var P,E;const m=z(t.columnName);return console.debug("hasEvents",m),e.jsx(p,{itemId:"column-"+t.columnName+"-"+s,label:I(s,()=>{},t.columnCode[s]!==void 0,((P=t.columnCode[s])==null?void 0:P.visible)??!0,h=>{n.debug(h)},((E=t.columnCode[s])==null?void 0:E.enabled)??!0,h=>{n.debug(h)},!m)},"column-"+t.columnName+"-"+s)})},t.columnName))]},"columnGroup")]})})})]})}})})},"CodeBuilder"),!1,e.jsx(G,{disableGutters:!0,children:e.jsx(U,{children:e.jsx(c,{sx:{"& label":{marginTop:0}},children:e.jsx(D,{})})})})]},"CodeBuilderMain")};export{Bo as default};
