import{j as r}from"./cm-1.0.43-BIThoEwM.js";import{r as i,R as Le}from"./redux-1.0.43-X9ShETON.js";function Ue(e,n,a,t){function o(l){return l instanceof a?l:new a(function(s){s(l)})}return new(a||(a=Promise))(function(l,s){function c(u){try{d(t.next(u))}catch(j){s(j)}}function y(u){try{d(t.throw(u))}catch(j){s(j)}}function d(u){u.done?l(u.value):o(u.value).then(c,y)}d((t=t.apply(e,[])).next())})}var ze=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,a=[],t=0;t<e.rangeCount;t++)a.push(e.getRangeAt(t));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||a.forEach(function(o){e.addRange(o)}),n&&n.focus()}},Ie=ze,pe={"text/plain":"Text","text/html":"Url",default:"Text"},Fe="Copy to clipboard: #{key}, Enter";function Ve(e){var n=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,n)}function Pe(e,n){var a,t,o,l,s,c,y=!1;n||(n={}),a=n.debug||!1;try{o=Ie(),l=document.createRange(),s=document.getSelection(),c=document.createElement("span"),c.textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",function(u){if(u.stopPropagation(),n.format)if(u.preventDefault(),typeof u.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var j=pe[n.format]||pe.default;window.clipboardData.setData(j,e)}else u.clipboardData.clearData(),u.clipboardData.setData(n.format,e);n.onCopy&&(u.preventDefault(),n.onCopy(u.clipboardData))}),document.body.appendChild(c),l.selectNodeContents(c),s.addRange(l);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");y=!0}catch(u){a&&console.error("unable to copy using execCommand: ",u),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),y=!0}catch(j){a&&console.error("unable to copy using clipboardData: ",j),a&&console.error("falling back to prompt"),t=Ve("message"in n?n.message:Fe),window.prompt(t,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(l):s.removeAllRanges()),c&&document.body.removeChild(c),o()}return y}var Be=Pe;function V(e){return Object.prototype.toString.call(e)==="[object Object]"}function K(e){return Array.isArray(e)?e.length:V(e)?Object.keys(e).length:0}function Ke(e,n){if(typeof e=="string")return e;try{return JSON.stringify(e,(a,t)=>{switch(typeof t){case"bigint":return String(t)+"n";case"number":case"boolean":case"object":case"string":return t;default:return String(t)}},n)}catch(a){return`${a.name}: ${a.message}`||"JSON.stringify failed"}}function Je(e){return Ue(this,void 0,void 0,function*(){try{yield navigator.clipboard.writeText(e)}catch{Be(e)}})}function ge(e,n,a,t,o,l){if(l&&l.collapsed!==void 0)return!!l.collapsed;if(typeof t=="boolean")return t;if(typeof t=="number"&&n>t)return!0;const s=K(e);if(typeof t=="function"){const c=ie(t,[{node:e,depth:n,indexOrName:a,size:s}]);if(typeof c=="boolean")return c}return!!(Array.isArray(e)&&s>o||V(e)&&s>o)}function ye(e,n,a,t,o,l){if(l&&l.collapsed!==void 0)return!!l.collapsed;if(typeof t=="boolean")return t;if(typeof t=="number"&&n>t)return!0;const s=Math.ceil(e.length/100);if(typeof t=="function"){const c=ie(t,[{node:e,depth:n,indexOrName:a,size:s}]);if(typeof c=="boolean")return c}return!!(Array.isArray(e)&&s>o||V(e)&&s>o)}function B(e,n,a){return typeof e=="boolean"?e:!!(typeof e=="number"&&n>e||e==="collapsed"&&a||e==="expanded"&&!a)}function ie(e,n){try{return e(...n)}catch(a){reportError(a)}}function _e(e){if(e===!0||V(e)&&e.add===!0)return!0}function je(e){if(e===!0||V(e)&&e.edit===!0)return!0}function le(e){if(e===!0||V(e)&&e.delete===!0)return!0}function qe(e){return typeof e=="function"}function He(e){return!e||e.add===void 0||!!e.add}function ve(e){return!e||e.edit===void 0||!!e.edit}function ce(e){return!e||e.delete===void 0||!!e.delete}function J(e){return!e||e.enableClipboard===void 0||!!e.enableClipboard}function We(e){return!e||e.matchesURL===void 0||!!e.matchesURL}function Xe(e,n){return e==="string"?n.trim().replace(/^\"([\s\S]+?)\"$/,"$1"):n}var he;function X(){return X=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},X.apply(this,arguments)}var oe=function(n){return i.createElement("svg",X({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},n),he||(he=i.createElement("path",{fill:"currentColor",d:"M12.473 5.806a.666.666 0 0 0-.946 0L8.473 8.86a.667.667 0 0 1-.946 0L4.473 5.806a.667.667 0 1 0-.946.94l3.06 3.06a2 2 0 0 0 2.826 0l3.06-3.06a.667.667 0 0 0 0-.94Z"})))},me;function G(){return G=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},G.apply(this,arguments)}var Ge=function(n){return i.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},n),me||(me=i.createElement("path",{fill:"currentColor",d:"M17.542 2.5h-4.75a3.963 3.963 0 0 0-3.959 3.958v4.75a3.963 3.963 0 0 0 3.959 3.959h4.75a3.963 3.963 0 0 0 3.958-3.959v-4.75A3.963 3.963 0 0 0 17.542 2.5Zm2.375 8.708a2.378 2.378 0 0 1-2.375 2.375h-4.75a2.378 2.378 0 0 1-2.375-2.375v-4.75a2.378 2.378 0 0 1 2.375-2.375h4.75a2.378 2.378 0 0 1 2.375 2.375v4.75Zm-4.75 6.334a3.963 3.963 0 0 1-3.959 3.958h-4.75A3.963 3.963 0 0 1 2.5 17.542v-4.75a3.963 3.963 0 0 1 3.958-3.959.791.791 0 1 1 0 1.584 2.378 2.378 0 0 0-2.375 2.375v4.75a2.378 2.378 0 0 0 2.375 2.375h4.75a2.378 2.378 0 0 0 2.375-2.375.792.792 0 1 1 1.584 0Z"})))},be,xe;function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},Q.apply(this,arguments)}var Qe=function(n){return i.createElement("svg",Q({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},n),be||(be=i.createElement("path",{fill:"currentColor",d:"M17.25 3H6.75A3.755 3.755 0 0 0 3 6.75v10.5A3.754 3.754 0 0 0 6.75 21h10.5A3.754 3.754 0 0 0 21 17.25V6.75A3.755 3.755 0 0 0 17.25 3Zm2.25 14.25a2.25 2.25 0 0 1-2.25 2.25H6.75a2.25 2.25 0 0 1-2.25-2.25V6.75A2.25 2.25 0 0 1 6.75 4.5h10.5a2.25 2.25 0 0 1 2.25 2.25v10.5Z"})),xe||(xe=i.createElement("path",{fill:"#14C786",d:"M10.312 14.45 7.83 11.906a.625.625 0 0 0-.896 0 .659.659 0 0 0 0 .918l2.481 2.546a1.264 1.264 0 0 0 .896.381 1.237 1.237 0 0 0 .895-.38l5.858-6.011a.658.658 0 0 0 0-.919.625.625 0 0 0-.896 0l-5.857 6.01Z"})))};function q({node:e,nodeMeta:n}){const{customizeCopy:a,CopyComponent:t,CopiedComponent:o}=i.useContext(P),[l,s]=i.useState(!1),c=y=>{y.stopPropagation();const d=a(e,n);typeof d=="string"&&d&&Je(d),s(!0),setTimeout(()=>s(!1),3e3)};return l?typeof o=="function"?r.jsx(o,{className:"json-view--copy",style:{display:"inline-block"}}):r.jsx(Qe,{className:"json-view--copy",style:{display:"inline-block"}}):typeof t=="function"?r.jsx(t,{onClick:c,className:"json-view--copy"}):r.jsx(Ge,{onClick:c,className:"json-view--copy"})}function Y({indexOrName:e,value:n,depth:a,deleteHandle:t,editHandle:o,parent:l,parentPath:s}){const{displayArrayIndex:c}=i.useContext(P),y=Array.isArray(l);return r.jsxs("div",Object.assign({className:"json-view--pair"},{children:[!y||y&&c?r.jsxs(r.Fragment,{children:[r.jsx("span",Object.assign({className:typeof e=="number"?"json-view--index":"json-view--property"},{children:e})),":"," "]}):r.jsx(r.Fragment,{}),r.jsx(Ze,{node:n,depth:a+1,deleteHandle:(d,u)=>t(d,u),editHandle:(d,u,j,m)=>o(d,u,j,m),parent:l,indexOrName:e,parentPath:s})]}))}var Ce,we;function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},ee.apply(this,arguments)}var ue=function(n){return i.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},n),Ce||(Ce=i.createElement("path",{fill:"currentColor",d:"M18.75 6h-2.325a3.757 3.757 0 0 0-3.675-3h-1.5a3.757 3.757 0 0 0-3.675 3H5.25a.75.75 0 0 0 0 1.5H6v9.75A3.754 3.754 0 0 0 9.75 21h4.5A3.754 3.754 0 0 0 18 17.25V7.5h.75a.75.75 0 1 0 0-1.5Zm-7.5-1.5h1.5A2.255 2.255 0 0 1 14.872 6H9.128a2.255 2.255 0 0 1 2.122-1.5Zm5.25 12.75a2.25 2.25 0 0 1-2.25 2.25h-4.5a2.25 2.25 0 0 1-2.25-2.25V7.5h9v9.75Z"})),we||(we=i.createElement("path",{fill:"#DA0000",d:"M10.5 16.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 1 0-1.5 0v4.5a.75.75 0 0 0 .75.75ZM13.5 16.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 1 0-1.5 0v4.5a.75.75 0 0 0 .75.75Z"})))},Ae,Se;function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},ne.apply(this,arguments)}var $e=function(n){return i.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},n),Ae||(Ae=i.createElement("path",{fill:"currentColor",d:"M21 6.75v10.5A3.754 3.754 0 0 1 17.25 21H6.75A3.754 3.754 0 0 1 3 17.25V6.75A3.754 3.754 0 0 1 6.75 3h10.5A3.754 3.754 0 0 1 21 6.75Zm-1.5 0c0-1.24-1.01-2.25-2.25-2.25H6.75C5.51 4.5 4.5 5.51 4.5 6.75v10.5c0 1.24 1.01 2.25 2.25 2.25h10.5c1.24 0 2.25-1.01 2.25-2.25V6.75Z"})),Se||(Se=i.createElement("path",{fill:"#14C786",d:"M15 12.75a.75.75 0 1 0 0-1.5h-2.25V9a.75.75 0 1 0-1.5 0v2.25H9a.75.75 0 1 0 0 1.5h2.25V15a.75.75 0 1 0 1.5 0v-2.25H15Z"})))},Ee,ke;function te(){return te=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},te.apply(this,arguments)}var fe=function(n){return i.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},n),Ee||(Ee=i.createElement("path",{fill:"currentColor",d:"M12 3a9 9 0 1 0 9 9 9.01 9.01 0 0 0-9-9Zm0 16.5a7.5 7.5 0 1 1 7.5-7.5 7.509 7.509 0 0 1-7.5 7.5Z"})),ke||(ke=i.createElement("path",{fill:"#14C786",d:"m10.85 13.96-1.986-2.036a.5.5 0 0 0-.716 0 .527.527 0 0 0 0 .735l1.985 2.036a1.01 1.01 0 0 0 .717.305.99.99 0 0 0 .716-.305l4.686-4.808a.526.526 0 0 0 0-.735.5.5 0 0 0-.716 0l-4.687 4.809Z"})))},Ne,Oe;function re(){return re=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},re.apply(this,arguments)}var de=function(n){return i.createElement("svg",re({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},n),Ne||(Ne=i.createElement("path",{fill:"#DA0000",d:"M15 9a.75.75 0 0 0-1.06 0L12 10.94 10.06 9A.75.75 0 0 0 9 10.06L10.94 12 9 13.94A.75.75 0 0 0 10.06 15L12 13.06 13.94 15A.75.75 0 0 0 15 13.94L13.06 12 15 10.06A.75.75 0 0 0 15 9Z"})),Oe||(Oe=i.createElement("path",{fill:"currentColor",d:"M12 3a9 9 0 1 0 9 9 9.01 9.01 0 0 0-9-9Zm0 16.5a7.5 7.5 0 1 1 7.5-7.5 7.509 7.509 0 0 1-7.5 7.5Z"})))};function Ye({originNode:e,node:n,depth:a,index:t,deleteHandle:o,customOptions:l,startIndex:s,parent:c,parentPath:y}){const{enableClipboard:d,src:u,onEdit:j,onChange:m,forceUpdate:A,displaySize:v,CustomOperation:b}=i.useContext(P),N=[...y,String(t)],[x,D]=i.useState(!0),R=i.useCallback((w,h,M)=>{e[w]=h,j&&j({newValue:h,oldValue:M,depth:a,src:u,indexOrName:w,parentType:"array",parentPath:y}),m&&m({type:"edit",depth:a,src:u,indexOrName:w,parentType:"array",parentPath:y}),A()},[n,j,m,A]),p=w=>{e.splice(w,1),o&&o(w,y),A()},g=r.jsxs(r.Fragment,{children:[!x&&r.jsxs("span",Object.assign({onClick:()=>D(!0),className:"jv-size-chevron"},{children:[B(v,a,x)&&r.jsxs("span",Object.assign({className:"jv-size"},{children:[K(n)," Items"]})),r.jsx(oe,{className:"jv-chevron"})]})),!x&&d&&J(l)&&r.jsx(q,{node:n,nodeMeta:{depth:a,indexOrName:t,parent:c,parentPath:y,currentPath:N}}),typeof b=="function"?r.jsx(b,{node:n}):null]});return r.jsxs("div",{children:[r.jsx("span",{children:"["}),g,x?r.jsxs("button",Object.assign({onClick:()=>D(!1),className:"jv-button"},{children:[s," ... ",s+n.length-1]})):r.jsx("div",Object.assign({className:"jv-indent"},{children:n.map((w,h)=>r.jsx(Y,{indexOrName:h+s,value:w,depth:a,parent:n,deleteHandle:p,editHandle:R,parentPath:y},String(t)+String(h)))})),r.jsx("span",{children:"]"})]})}function en({node:e,depth:n,deleteHandle:a,indexOrName:t,customOptions:o,parent:l,parentPath:s}){const c=typeof t<"u"?[...s,String(t)]:s,y=[];for(let k=0;k<e.length;k+=100)y.push(e.slice(k,k+100));const{collapsed:d,enableClipboard:u,collapseObjectsAfterLength:j,editable:m,onDelete:A,src:v,onAdd:b,CustomOperation:N,onChange:x,forceUpdate:D,displaySize:R}=i.useContext(P),[p,g]=i.useState(ye(e,n,t,d,j,o));i.useEffect(()=>{g(ye(e,n,t,d,j,o))},[d,j]);const[w,h]=i.useState(!1),M=()=>{h(!1),a&&a(t,s),A&&A({value:e,depth:n,src:v,indexOrName:t,parentType:"array",parentPath:s}),x&&x({type:"delete",depth:n,src:v,indexOrName:t,parentType:"array",parentPath:s})},[O,z]=i.useState(!1),_=()=>{const k=e;k.push(null),b&&b({indexOrName:k.length-1,depth:n,src:v,parentType:"array",parentPath:s}),x&&x({type:"add",indexOrName:k.length-1,depth:n,src:v,parentType:"array",parentPath:s}),D()},T=w||O,H=()=>{h(!1),z(!1)},I=r.jsxs(r.Fragment,{children:[!p&&!T&&r.jsxs("span",Object.assign({onClick:()=>g(!0),className:"jv-size-chevron"},{children:[B(R,n,p)&&r.jsxs("span",Object.assign({className:"jv-size"},{children:[e.length," Items"]})),r.jsx(oe,{className:"jv-chevron"})]})),T&&r.jsx(fe,{className:"json-view--edit",style:{display:"inline-block"},onClick:O?_:M}),T&&r.jsx(de,{className:"json-view--edit",style:{display:"inline-block"},onClick:H}),!p&&!T&&u&&J(o)&&r.jsx(q,{node:e,nodeMeta:{depth:n,indexOrName:t,parent:l,parentPath:s,currentPath:c}}),!p&&!T&&_e(m)&&He(o)&&r.jsx($e,{className:"json-view--edit",onClick:()=>{_()}}),!p&&!T&&le(m)&&ce(o)&&a&&r.jsx(ue,{className:"json-view--edit",onClick:()=>h(!0)}),typeof N=="function"?r.jsx(N,{node:e}):null]});return r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"["}),I,p?r.jsx("button",Object.assign({onClick:()=>g(!1),className:"jv-button"},{children:"..."})):r.jsx("div",Object.assign({className:"jv-indent"},{children:y.map((k,$)=>r.jsx(Ye,{originNode:e,node:k,depth:n,index:$,startIndex:$*100,deleteHandle:a,customOptions:o,parentPath:s},String(t)+String($)))})),r.jsx("span",{children:"]"}),p&&B(R,n,p)&&r.jsxs("span",Object.assign({onClick:()=>g(!1),className:"jv-size"},{children:[e.length," Items"]}))]})}function nn({node:e,depth:n,indexOrName:a,deleteHandle:t,customOptions:o,parent:l,parentPath:s}){const{collapsed:c,onCollapse:y,enableClipboard:d,ignoreLargeArray:u,collapseObjectsAfterLength:j,editable:m,onDelete:A,src:v,onAdd:b,onEdit:N,onChange:x,forceUpdate:D,displaySize:R,CustomOperation:p}=i.useContext(P),g=typeof a<"u"?[...s,String(a)]:s;if(!u&&Array.isArray(e)&&e.length>100)return r.jsx(en,{node:e,depth:n,indexOrName:a,deleteHandle:t,customOptions:o,parentPath:g});const w=V(e),[h,M]=i.useState(ge(e,n,a,c,j,o)),O=f=>{y==null||y({isCollapsing:!f,node:e,depth:n,indexOrName:a}),M(f)};i.useEffect(()=>{O(ge(e,n,a,c,j,o))},[c,j]);const z=i.useCallback((f,C,W)=>{Array.isArray(e)?e[+f]=C:e&&(e[f]=C),N&&N({newValue:C,oldValue:W,depth:n,src:v,indexOrName:f,parentType:w?"object":"array",parentPath:g}),x&&x({type:"edit",depth:n,src:v,indexOrName:f,parentType:w?"object":"array",parentPath:g}),D()},[e,N,x,D]),_=f=>{Array.isArray(e)?e.splice(+f,1):e&&delete e[f],D()},[T,H]=i.useState(!1),I=()=>{H(!1),t&&t(a,g),A&&A({value:e,depth:n,src:v,indexOrName:a,parentType:w?"object":"array",parentPath:g}),x&&x({type:"delete",depth:n,src:v,indexOrName:a,parentType:w?"object":"array",parentPath:g})},[k,$]=i.useState(!1),E=i.useRef(null),L=()=>{var f;if(w){const C=(f=E.current)===null||f===void 0?void 0:f.value;C&&(e[C]=null,E.current&&(E.current.value=""),$(!1),b&&b({indexOrName:C,depth:n,src:v,parentType:"object",parentPath:g}),x&&x({type:"add",indexOrName:C,depth:n,src:v,parentType:"object",parentPath:g}))}else if(Array.isArray(e)){const C=e;C.push(null),b&&b({indexOrName:C.length-1,depth:n,src:v,parentType:"array",parentPath:g}),x&&x({type:"add",indexOrName:C.length-1,depth:n,src:v,parentType:"array",parentPath:g})}D()},Z=f=>{f.key==="Enter"?(f.preventDefault(),L()):f.key==="Escape"&&U()},S=T||k,U=()=>{H(!1),$(!1)},F=r.jsxs(r.Fragment,{children:[!h&&!S&&r.jsxs("span",Object.assign({onClick:()=>O(!0),className:"jv-size-chevron"},{children:[B(R,n,h)&&r.jsxs("span",Object.assign({className:"jv-size"},{children:[K(e)," Items"]})),r.jsx(oe,{className:"jv-chevron"})]})),k&&w&&r.jsx("input",{className:"json-view--input",placeholder:"property",ref:E,onKeyDown:Z}),S&&r.jsx(fe,{className:"json-view--edit",style:{display:"inline-block"},onClick:k?L:I}),S&&r.jsx(de,{className:"json-view--edit",style:{display:"inline-block"},onClick:U}),!h&&!S&&d&&J(o)&&r.jsx(q,{node:e,nodeMeta:{depth:n,indexOrName:a,parent:l,parentPath:s,currentPath:g}}),!h&&!S&&_e(m)&&He(o)&&r.jsx($e,{className:"json-view--edit",onClick:()=>{w?($(!0),setTimeout(()=>{var f;return(f=E.current)===null||f===void 0?void 0:f.focus()})):L()}}),!h&&!S&&le(m)&&ce(o)&&t&&r.jsx(ue,{className:"json-view--edit",onClick:()=>H(!0)}),typeof p=="function"?r.jsx(p,{node:e}):null]});return Array.isArray(e)?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"["}),F,h?r.jsx("button",Object.assign({onClick:()=>O(!1),className:"jv-button"},{children:"..."})):r.jsx("div",Object.assign({className:"jv-indent"},{children:e.map((f,C)=>r.jsx(Y,{indexOrName:C,value:f,depth:n,parent:e,deleteHandle:_,editHandle:z,parentPath:g},String(a)+String(C)))})),r.jsx("span",{children:"]"}),h&&B(R,n,h)&&r.jsxs("span",Object.assign({onClick:()=>O(!1),className:"jv-size"},{children:[K(e)," Items"]}))]}):w?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"{"}),F,h?r.jsx("button",Object.assign({onClick:()=>O(!1),className:"jv-button"},{children:"..."})):r.jsx("div",Object.assign({className:"jv-indent"},{children:Object.entries(e).map(([f,C])=>r.jsx(Y,{indexOrName:f,value:C,depth:n,parent:e,deleteHandle:_,editHandle:z,parentPath:g},String(a)+String(f)))})),r.jsx("span",{children:"}"}),h&&B(R,n,h)&&r.jsxs("span",Object.assign({onClick:()=>O(!1),className:"jv-size"},{children:[K(e)," Items"]}))]}):r.jsx("span",{children:String(e)})}const tn=Le.forwardRef(({str:e,className:n,ctrlClick:a},t)=>{let{collapseStringMode:o,collapseStringsAfterLength:l,customizeCollapseStringUI:s}=i.useContext(P);const[c,y]=i.useState(!0),d=i.useRef(null);l=l>0?l:0;const u=e.replace(/\s+/g," "),j=typeof s=="function"?s(u,c):typeof s=="string"?s:"...",m=A=>{var v;if((A.ctrlKey||A.metaKey)&&a)a(A);else{const b=window.getSelection();if(b&&b.anchorOffset!==b.focusOffset&&((v=b.anchorNode)===null||v===void 0?void 0:v.parentElement)===d.current)return;y(!c)}};if(e.length<=l)return r.jsxs("span",Object.assign({ref:d,className:n,onClick:a},{children:['"',e,'"']}));if(o==="address")return e.length<=10?r.jsxs("span",Object.assign({ref:d,className:n,onClick:a},{children:['"',e,'"']})):r.jsxs("span",Object.assign({ref:d,onClick:m,className:n+" cursor-pointer"},{children:['"',c?[u.slice(0,6),j,u.slice(-4)]:e,'"']}));if(o==="directly")return r.jsxs("span",Object.assign({ref:d,onClick:m,className:n+" cursor-pointer"},{children:['"',c?[u.slice(0,l),j]:e,'"']}));if(o==="word"){let A=l,v=l+1,b=u,N=1;for(;;){if(/\W/.test(e[A])){b=e.slice(0,A);break}if(/\W/.test(e[v])){b=e.slice(0,v);break}if(N===6){b=e.slice(0,l);break}N++,A--,v++}return r.jsxs("span",Object.assign({ref:d,onClick:m,className:n+" cursor-pointer"},{children:['"',c?[b,j]:e,'"']}))}return r.jsxs("span",Object.assign({ref:d,className:n},{children:['"',e,'"']}))});var De;function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},ae.apply(this,arguments)}var rn=function(n){return i.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},n),De||(De=i.createElement("path",{fill:"currentColor",d:"M17.25 3H6.75A3.754 3.754 0 0 0 3 6.75v10.5A3.754 3.754 0 0 0 6.75 21h10.5A3.754 3.754 0 0 0 21 17.25V6.75A3.754 3.754 0 0 0 17.25 3Zm2.25 14.25c0 1.24-1.01 2.25-2.25 2.25H6.75c-1.24 0-2.25-1.01-2.25-2.25V6.75c0-1.24 1.01-2.25 2.25-2.25h10.5c1.24 0 2.25 1.01 2.25 2.25v10.5Zm-6.09-9.466-5.031 5.03a2.981 2.981 0 0 0-.879 2.121v1.19c0 .415.336.75.75.75h1.19c.8 0 1.554-.312 2.12-.879l5.03-5.03a2.252 2.252 0 0 0 0-3.182c-.85-.85-2.331-.85-3.18 0Zm-2.91 7.151c-.28.28-.666.44-1.06.44H9v-.44c0-.4.156-.777.44-1.06l3.187-3.188 1.06 1.061-3.187 3.188Zm5.03-5.03-.782.783-1.06-1.061.782-.782a.766.766 0 0 1 1.06 0 .75.75 0 0 1 0 1.06Z"})))},Te,Re;function se(){return se=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},se.apply(this,arguments)}var an=function(n){return i.createElement("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},n),Te||(Te=i.createElement("path",{fill:"currentColor",d:"M6.75 3h5.5v1.5h-5.5C5.51 4.5 4.5 5.51 4.5 6.75v10.5c0 1.24 1.01 2.25 2.25 2.25h10.5c1.24 0 2.25-1.01 2.25-2.25v-5.5H21v5.5A3.754 3.754 0 0 1 17.25 21H6.75A3.754 3.754 0 0 1 3 17.25V6.75A3.754 3.754 0 0 1 6.75 3Z"})),Re||(Re=i.createElement("path",{fill:"currentColor",d:"M20.013 3h-3.946a.987.987 0 0 0 0 1.973h1.564l-6.342 6.342a1.004 1.004 0 0 0 0 1.396 1.004 1.004 0 0 0 1.396 0l6.342-6.342v1.564a.987.987 0 0 0 1.973 0V3.987A.987.987 0 0 0 20.013 3Z"})))};function Ze({node:e,depth:n,deleteHandle:a,indexOrName:t,parent:o,editHandle:l,parentPath:s}){const{collapseStringsAfterLength:c,enableClipboard:y,editable:d,src:u,onDelete:j,onChange:m,customizeNode:A,matchesURL:v,urlRegExp:b,EditComponent:N,DoneComponent:x,CancelComponent:D,CustomOperation:R}=i.useContext(P);let p;if(typeof A=="function"&&(p=ie(A,[{node:e,depth:n,indexOrName:t}])),p){if(i.isValidElement(p))return p;if(qe(p)){const g=p;return r.jsx(g,{node:e,depth:n,indexOrName:t})}}if(Array.isArray(e)||V(e))return r.jsx(nn,{parent:o,node:e,depth:n,indexOrName:t,deleteHandle:a,parentPath:s,customOptions:typeof p=="object"?p:void 0});{const g=typeof e,w=typeof t<"u"?[...s,String(t)]:s,[h,M]=i.useState(!1),[O,z]=i.useState(!1),_=i.useRef(null),T=()=>{M(!0),setTimeout(()=>{var f,C;(f=window.getSelection())===null||f===void 0||f.selectAllChildren(_.current),(C=_.current)===null||C===void 0||C.focus()})},H=i.useCallback(()=>{let f=_.current.innerText;try{const C=JSON.parse(f);l&&l(t,C,e,s)}catch{const W=Xe(g,f);l&&l(t,W,e,s)}M(!1)},[l,t,e,s,g]),I=()=>{M(!1),z(!1)},k=()=>{z(!1),a&&a(t,s),j&&j({value:e,depth:n,src:u,indexOrName:t,parentType:Array.isArray(o)?"array":"object",parentPath:s}),m&&m({depth:n,src:u,indexOrName:t,parentType:Array.isArray(o)?"array":"object",type:"delete",parentPath:s})},$=i.useCallback(f=>{f.key==="Enter"?(f.preventDefault(),H()):f.key==="Escape"&&I()},[H]),E=h||O,L=!E&&je(d)&&ve(p)&&l?f=>{(f.ctrlKey||f.metaKey)&&T()}:void 0,Z=r.jsxs(r.Fragment,{children:[E&&(typeof x=="function"?r.jsx(x,{className:"json-view--edit",style:{display:"inline-block"},onClick:O?k:H}):r.jsx(fe,{className:"json-view--edit",style:{display:"inline-block"},onClick:O?k:H})),E&&(typeof D=="function"?r.jsx(D,{className:"json-view--edit",style:{display:"inline-block"},onClick:I}):r.jsx(de,{className:"json-view--edit",style:{display:"inline-block"},onClick:I})),!E&&y&&J(p)&&r.jsx(q,{node:e,nodeMeta:{depth:n,indexOrName:t,parent:o,parentPath:s,currentPath:w}}),!E&&v&&g==="string"&&b.test(e)&&We(p)&&r.jsx("a",Object.assign({href:e,target:"_blank",className:"json-view--link"},{children:r.jsx(an,{})})),!E&&je(d)&&ve(p)&&l&&(typeof N=="function"?r.jsx(N,{className:"json-view--edit",onClick:T}):r.jsx(rn,{className:"json-view--edit",onClick:T})),!E&&le(d)&&ce(p)&&a&&r.jsx(ue,{className:"json-view--edit",onClick:()=>z(!0)}),typeof R=="function"?r.jsx(R,{node:e}):null]});let S="json-view--string";switch(g){case"number":case"bigint":S="json-view--number";break;case"boolean":S="json-view--boolean";break;case"object":S="json-view--null";break}typeof(p==null?void 0:p.className)=="string"&&(S+=" "+p.className),O&&(S+=" json-view--deleting");let U=String(e);g==="bigint"&&(U+="n");const F=i.useMemo(()=>r.jsx("span",{contentEditable:!0,className:S,dangerouslySetInnerHTML:{__html:g==="string"?`"${U}"`:U},ref:_,onKeyDown:$}),[U,g,$]);return g==="string"?r.jsxs(r.Fragment,{children:[h?F:e.length>c?r.jsx(tn,{str:e,ref:_,className:S,ctrlClick:L}):r.jsxs("span",Object.assign({className:S,onClick:L},{children:['"',U,'"']})),Z]}):r.jsxs(r.Fragment,{children:[h?F:r.jsx("span",Object.assign({className:S,onClick:L},{children:U})),Z]})}}const Me=/^(((ht|f)tps?):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/,P=i.createContext({src:void 0,collapseStringsAfterLength:99,collapseStringMode:"directly",customizeCollapseStringUI:void 0,collapseObjectsAfterLength:20,collapsed:!1,onCollapse:void 0,enableClipboard:!0,editable:!1,onEdit:void 0,onDelete:void 0,onAdd:void 0,onChange:void 0,forceUpdate:()=>{},customizeNode:void 0,customizeCopy:()=>{},displaySize:void 0,displayArrayIndex:!0,matchesURL:!1,urlRegExp:Me,ignoreLargeArray:!1,CopyComponent:void 0,CopiedComponent:void 0,EditComponent:void 0,CancelComponent:void 0,DoneComponent:void 0,CustomOperation:void 0});function cn({src:e,collapseStringsAfterLength:n=99,collapseStringMode:a="directly",customizeCollapseStringUI:t,collapseObjectsAfterLength:o=99,collapsed:l,onCollapse:s,enableClipboard:c=!0,editable:y=!1,onEdit:d,onDelete:u,onAdd:j,onChange:m,dark:A=!1,theme:v="default",customizeNode:b,customizeCopy:N=I=>Ke(I),displaySize:x,displayArrayIndex:D=!0,style:R,className:p,matchesURL:g=!1,urlRegExp:w=Me,ignoreLargeArray:h=!1,CopyComponent:M,CopiedComponent:O,EditComponent:z,CancelComponent:_,DoneComponent:T,CustomOperation:H}){const[I,k]=i.useState(0),$=i.useCallback(()=>k(Z=>++Z),[]),[E,L]=i.useState(e);return i.useEffect(()=>L(e),[e]),r.jsx(P.Provider,Object.assign({value:{src:E,collapseStringsAfterLength:n,collapseStringMode:a,customizeCollapseStringUI:t,collapseObjectsAfterLength:o,collapsed:l,onCollapse:s,enableClipboard:c,editable:y,onEdit:d,onDelete:u,onAdd:j,onChange:m,forceUpdate:$,customizeNode:b,customizeCopy:N,displaySize:x,displayArrayIndex:D,matchesURL:g,urlRegExp:w,ignoreLargeArray:h,CopyComponent:M,CopiedComponent:O,EditComponent:z,CancelComponent:_,DoneComponent:T,CustomOperation:H}},{children:r.jsx("code",Object.assign({className:"json-view"+(A?" dark":"")+(v&&v!=="default"?" json-view_"+v:"")+(p?" "+p:""),style:R},{children:r.jsx(Ze,{node:E,depth:1,editHandle:(Z,S,U,F)=>{L(S),d&&d({newValue:S,oldValue:U,depth:1,src:E,indexOrName:Z,parentType:null,parentPath:F}),m&&m({type:"edit",depth:1,src:E,indexOrName:Z,parentType:null,parentPath:F})},deleteHandle:(Z,S)=>{L(void 0),u&&u({value:E,depth:1,src:E,indexOrName:Z,parentType:null,parentPath:S}),m&&m({depth:1,src:E,indexOrName:Z,parentType:null,type:"delete",parentPath:S})},parentPath:[]})}))}))}export{cn as J};
